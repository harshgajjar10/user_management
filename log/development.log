  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE "userdashboard" ENCODING = 'unicode'[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (86.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (149.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "views" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "views" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_views_on_email" ON "views" ("email")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_views_on_reset_password_token" ON "views" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220217055922)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220217054248);

[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "d5b913ed3895e7a7bf24da8c8cf2b185a70548d5"], ["updated_at", "2022-02-17 06:43:41.160664"], ["key", "schema_sha1"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-17 12:14:28 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 20ms (ActiveRecord: 0.0ms | Allocations: 6959)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:14:28 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 5271)
  Rendered layout layouts/application.html.erb (Duration: 351.1ms | Allocations: 99160)
Completed 200 OK in 389ms (Views: 365.8ms | ActiveRecord: 8.7ms | Allocations: 110937)


Started GET "/users/sign_up" for ::1 at 2022-02-17 12:14:31 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2218)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4436)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 6009)


Started POST "/users" for ::1 at 2022-02-17 12:14:38 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"agent@integritymatters.in", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "agent@integritymatters.in"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "agent@integritymatters.in"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 06:44:39.151208"], ["updated_at", "2022-02-17 06:44:39.151208"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 293ms (ActiveRecord: 5.7ms | Allocations: 14545)


  
NoMethodError (undefined method `user_url' for #<Devise::RegistrationsController:0x0000000000d520>):
  
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `public_send'
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `polymorphic_method'
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionpack (7.0.2.2) lib/action_dispatch/routing/url_for.rb:187:in `full_url_for'
actionpack (7.0.2.2) lib/action_dispatch/routing/url_for.rb:170:in `url_for'
actionpack (7.0.2.2) lib/action_controller/metal/redirecting.rb:144:in `_compute_redirect_to_location'
actionpack (7.0.2.2) lib/action_controller/metal/redirecting.rb:89:in `redirect_to'
actionpack (7.0.2.2) lib/action_controller/metal/flash.rb:62:in `redirect_to'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:42:in `block in redirect_to'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:41:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:147:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:207:in `navigation_behavior'
responders (3.0.1) lib/action_controller/responder.rb:174:in `rescue in to_html'
responders (3.0.1) lib/action_controller/responder.rb:171:in `to_html'
responders (3.0.1) lib/action_controller/responder.rb:165:in `respond'
responders (3.0.1) lib/action_controller/responder.rb:158:in `call'
responders (3.0.1) lib/action_controller/respond_with.rb:213:in `respond_with'
devise (4.8.1) app/controllers/devise/registrations_controller.rb:25:in `create'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.2.2) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/sign_in" for ::1 at 2022-02-17 12:20:11 +0530
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"agent@integritymatters.in", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "agent@integritymatters.in"], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:5:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 9.8ms | Allocations: 7338)


  
NameError (undefined local variable or method `topic_path' for #<Users::SessionsController:0x0000000000d958>):
  
app/controllers/users/sessions_controller.rb:7:in `create'
Started GET "/" for ::1 at 2022-02-17 12:22:21 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 19ms (ActiveRecord: 0.0ms | Allocations: 6386)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:22:22 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 11.2ms | Allocations: 4560)
  Rendered layout layouts/application.html.erb (Duration: 80.4ms | Allocations: 38082)
Completed 200 OK in 106ms (Views: 87.4ms | ActiveRecord: 5.0ms | Allocations: 48859)


Started POST "/users/sign_in" for ::1 at 2022-02-17 12:22:45 +0530
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"agent@integritymatters.in", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "agent@integritymatters.in"], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:5:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.5ms | Allocations: 3465)


Started GET "/" for ::1 at 2022-02-17 12:22:45 +0530
Processing by HomeController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 363)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_in" for ::1 at 2022-02-17 12:24:41 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1063)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3203)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 4042)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:24:48 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 15.8ms | Allocations: 6883)
  Rendered layout layouts/application.html.erb (Duration: 89.2ms | Allocations: 41036)
Completed 200 OK in 132ms (Views: 95.5ms | ActiveRecord: 5.7ms | Allocations: 54612)


Started GET "/users/sign_up" for ::1 at 2022-02-17 12:24:54 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 222)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2217)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4436)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 6014)


Started POST "/users" for ::1 at 2022-02-17 12:25:07 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 06:55:08.094404"], ["updated_at", "2022-02-17 06:55:08.094404"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 311ms (ActiveRecord: 5.4ms | Allocations: 13630)


  
NoMethodError (undefined method `user_url' for #<Devise::RegistrationsController:0x0000000000d3e0>):
  
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `public_send'
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `polymorphic_method'
actionpack (7.0.2.2) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionpack (7.0.2.2) lib/action_dispatch/routing/url_for.rb:187:in `full_url_for'
actionpack (7.0.2.2) lib/action_dispatch/routing/url_for.rb:170:in `url_for'
actionpack (7.0.2.2) lib/action_controller/metal/redirecting.rb:144:in `_compute_redirect_to_location'
actionpack (7.0.2.2) lib/action_controller/metal/redirecting.rb:89:in `redirect_to'
actionpack (7.0.2.2) lib/action_controller/metal/flash.rb:62:in `redirect_to'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:42:in `block in redirect_to'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:41:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:147:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:207:in `navigation_behavior'
responders (3.0.1) lib/action_controller/responder.rb:174:in `rescue in to_html'
responders (3.0.1) lib/action_controller/responder.rb:171:in `to_html'
responders (3.0.1) lib/action_controller/responder.rb:165:in `respond'
responders (3.0.1) lib/action_controller/responder.rb:158:in `call'
responders (3.0.1) lib/action_controller/respond_with.rb:213:in `respond_with'
devise (4.8.1) app/controllers/devise/registrations_controller.rb:25:in `create'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.2.2) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/sign_in" for ::1 at 2022-02-17 12:25:22 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 125)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1103)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3242)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 4147)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:25:22 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3026)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 3783)


Started GET "/" for ::1 at 2022-02-17 12:39:17 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 24ms (ActiveRecord: 0.0ms | Allocations: 6197)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:39:18 +0530
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 4570)
  Rendered layout layouts/application.html.erb (Duration: 204.4ms | Allocations: 38350)
Completed 200 OK in 234ms (Views: 214.6ms | ActiveRecord: 5.8ms | Allocations: 49157)


Started POST "/users/sign_in" for ::1 at 2022-02-17 12:40:26 +0530
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.8ms | Allocations: 6792)


  
NameError (undefined local variable or method `users_path' for #<Users::SessionsController:0x0000000000d3e0>
Did you mean?  user_session_path):
  
app/controllers/users/sessions_controller.rb:7:in `create'
Started GET "/users/sign_in" for ::1 at 2022-02-17 12:43:03 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 6883)
  Rendered layout layouts/application.html.erb (Duration: 92.3ms | Allocations: 40865)
Completed 200 OK in 133ms (Views: 99.0ms | ActiveRecord: 5.0ms | Allocations: 54433)


Started POST "/users/sign_in" for ::1 at 2022-02-17 12:43:21 +0530
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:5:in `create'
Redirected to http://localhost:3000/users/sign_in
Completed 302 Found in 10ms (ActiveRecord: 1.1ms | Allocations: 3448)


Started GET "/users/sign_in" for ::1 at 2022-02-17 12:43:21 +0530
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3443)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4056)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDeviseToUsers (20220217084204)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateViews (20220217055922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP INDEX  "index_views_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_views_on_email"[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE "views"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217055922"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217054248)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217054248"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (251.0ms)[0m  [1m[35mCREATE DATABASE "userdashboard" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "views" CASCADE[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "views" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_views_on_email" ON "views" ("email")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_views_on_reset_password_token" ON "views" ("reset_password_token")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220217055922)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220217054248);

[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-17 09:22:55.518043"], ["updated_at", "2022-02-17 09:22:55.518043"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d5b913ed3895e7a7bf24da8c8cf2b185a70548d5"], ["created_at", "2022-02-17 09:22:55.532854"], ["updated_at", "2022-02-17 09:22:55.532854"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDeviseToUsers (20220217092634)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217093603)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217093603"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for ::1 at 2022-02-17 15:08:37 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 3.0ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 20.0ms | Allocations: 6886)
  Rendered layout layouts/application.html.erb (Duration: 101.7ms | Allocations: 41169)
Completed 200 OK in 146ms (Views: 111.7ms | ActiveRecord: 6.1ms | Allocations: 54699)


Started GET "/users/sign_up" for ::1 at 2022-02-17 15:08:40 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.4ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 222)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2217)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4463)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.0ms | Allocations: 6063)


Started POST "/users" for ::1 at 2022-02-17 15:08:48 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 09:38:49.263739"], ["updated_at", "2022-02-17 09:38:49.263739"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 316ms (ActiveRecord: 4.7ms | Allocations: 11436)


Started GET "/" for ::1 at 2022-02-17 15:08:49 +0530
  
ActionController::RoutingError (uninitialized constant UserController):
  
Started GET "/users/sign_up" for ::1 at 2022-02-17 15:08:49 +0530
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.9ms | Allocations: 2155)


Started GET "/" for ::1 at 2022-02-17 15:08:49 +0530
  
ActionController::RoutingError (uninitialized constant UserController):
  
Started GET "/" for ::1 at 2022-02-17 15:10:10 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant UserController
Did you mean?  UsersController):
  
Started GET "/" for ::1 at 2022-02-17 15:10:17 +0530
  
ActionController::RoutingError (uninitialized constant UserController
Did you mean?  UsersController):
  
Started GET "/" for ::1 at 2022-02-17 15:11:45 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant UserController
Did you mean?  UsersController):
  
Started GET "/" for ::1 at 2022-02-17 15:12:14 +0530
  
AbstractController::ActionNotFound (The action 'index' could not be found for UsersController):
  
actionpack (7.0.2.2) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-02-17 15:16:44 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20220217094519_devise_create_users.rb


):
  
activerecord (7.0.2.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[35m (567.6ms)[0m  [1m[35mCREATE DATABASE "userdashboard" ENCODING = 'unicode'[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-17 09:49:04.340342"], ["updated_at", "2022-02-17 09:49:04.340342"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-17 15:19:22 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 28ms (ActiveRecord: 5.2ms | Allocations: 11623)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:19:22 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4561)
  Rendered layout layouts/application.html.erb (Duration: 55.4ms | Allocations: 38860)
Completed 200 OK in 69ms (Views: 61.1ms | ActiveRecord: 0.0ms | Allocations: 48713)


Started GET "/users/sign_up" for ::1 at 2022-02-17 15:19:27 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.7ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2215)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4461)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 6064)


Started POST "/users" for ::1 at 2022-02-17 15:19:35 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 09:49:35.819534"], ["updated_at", "2022-02-17 09:49:35.819534"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 256ms (ActiveRecord: 7.7ms | Allocations: 9763)


Started GET "/" for ::1 at 2022-02-17 15:19:35 +0530
Processing by UsersController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
No template found for UsersController#index, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms | Allocations: 1883)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:19:59 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 1.0ms | Allocations: 1521)


Started GET "/" for ::1 at 2022-02-17 15:19:59 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 406 Not Acceptable in 5ms (ActiveRecord: 0.3ms | Allocations: 1789)


  
ActionController::MissingExactTemplate (UsersController#index is missing a template for request formats: text/html):
  
actionpack (7.0.2.2) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/sign_in" for ::1 at 2022-02-17 15:22:01 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 3.9ms | Allocations: 12048)


Started GET "/" for ::1 at 2022-02-17 15:22:01 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 424)
  Rendered layout layouts/application.html.erb (Duration: 47.5ms | Allocations: 34831)
Completed 200 OK in 59ms (Views: 50.2ms | ActiveRecord: 0.3ms | Allocations: 42050)


Started GET "/" for ::1 at 2022-02-17 15:25:41 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3076)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.5ms | Allocations: 5644)


Started GET "/" for ::1 at 2022-02-17 15:25:57 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2946)
Completed 200 OK in 16ms (Views: 8.3ms | ActiveRecord: 0.9ms | Allocations: 5487)


Started GET "/" for ::1 at 2022-02-17 15:26:03 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2946)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.4ms | Allocations: 5491)


Started GET "/users/sign_out" for ::1 at 2022-02-17 15:26:12 +0530
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/rails/info" for ::1 at 2022-02-17 15:29:19 +0530
Processing by Rails::InfoController#index as HTML
Redirected to http://localhost:3000/rails/info/routes
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 962)


Started GET "/rails/info/routes" for ::1 at 2022-02-17 15:29:19 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [47 times] (Duration: 13.4ms | Allocations: 7697)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 1.7ms | Allocations: 948)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 20.3ms | Allocations: 13897)
  Rendered layout /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 21.5ms | Allocations: 14241)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 15430)


Started GET "/" for ::1 at 2022-02-17 15:30:05 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 133)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 14202)
Completed 200 OK in 36ms (Views: 18.1ms | ActiveRecord: 4.4ms | Allocations: 23513)


Started GET "/" for ::1 at 2022-02-17 15:30:34 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 55.6ms | Allocations: 35135)
Completed 200 OK in 92ms (Views: 58.6ms | ActiveRecord: 5.2ms | Allocations: 55095)


Started GET "/users/sign_out" for ::1 at 2022-02-17 15:30:37 +0530
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/" for ::1 at 2022-02-17 15:30:48 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 2311)
Completed 200 OK in 20ms (Views: 16.5ms | ActiveRecord: 0.4ms | Allocations: 4061)


Started GET "/" for ::1 at 2022-02-17 15:33:07 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 34530)
Completed 200 OK in 93ms (Views: 59.3ms | ActiveRecord: 5.3ms | Allocations: 54498)


Started GET "/users/sign_out" for ::1 at 2022-02-17 15:33:08 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 5041)


Started GET "/" for ::1 at 2022-02-17 15:33:08 +0530
Processing by UsersController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 437)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:33:08 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 895)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4189)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 6515)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 8706)


Started POST "/users/sign_in" for ::1 at 2022-02-17 15:33:56 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 252ms (ActiveRecord: 0.8ms | Allocations: 5342)


Started GET "/" for ::1 at 2022-02-17 15:33:56 +0530
Processing by UsersController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 17)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2303)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 4121)


Started GET "/users/sign_out" for ::1 at 2022-02-17 15:33:58 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 1795)


Started GET "/" for ::1 at 2022-02-17 15:33:58 +0530
Processing by UsersController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 304)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:33:58 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1037)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3170)
Completed 200 OK in 22ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 3917)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:50:38 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 7 pending migrations:

20220217070925_create_books.rb
20220217071939_create_authors.rb
20220217072832_add_author_id_in_tobook.rb
20220217084743_create_categories.rb
20220217085955_create_roles.rb
20220217090355_create_users_roles.rb
20220217092316_create_books_categories.rb


):
  
activerecord (7.0.2.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2022-02-17 15:50:41 +0530
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooks (20220217070925)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.8ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "description" character varying, "publish_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217070925"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20220217071939)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "authors" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217071939"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthorIdInTobook (20220217072832)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "books" ADD "author_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217072832"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "type" character varying, "book_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20220217085955)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "role_type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217085955"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsersRoles (20220217090355)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "users_roles" ("id" bigserial primary key, "user_id" integer, "role_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217090355"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for ::1 at 2022-02-17 15:50:41 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.1ms | Allocations: 894)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 22.7ms | Allocations: 9481)
  Rendered layout layouts/application.html.erb (Duration: 356.0ms | Allocations: 102868)
Completed 200 OK in 384ms (Views: 358.4ms | ActiveRecord: 3.4ms | Allocations: 113563)


Started POST "/users/sign_in" for ::1 at 2022-02-17 15:51:01 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 262ms (ActiveRecord: 0.6ms | Allocations: 7860)


Started GET "/" for ::1 at 2022-02-17 15:51:02 +0530
Processing by UsersController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 136)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 2576)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 5140)


Started GET "/users/sign_out" for ::1 at 2022-02-17 15:51:03 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 1.2ms | Allocations: 3011)


Started GET "/" for ::1 at 2022-02-17 15:51:03 +0530
Processing by UsersController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 354)


Started GET "/users/sign_in" for ::1 at 2022-02-17 15:51:03 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1065)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3281)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 4085)


Started GET "/users/sign_up" for ::1 at 2022-02-17 15:52:33 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.7ms | Allocations: 286)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 725)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 6835)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | Allocations: 41382)
Completed 200 OK in 79ms (Views: 60.6ms | ActiveRecord: 3.8ms | Allocations: 53957)


Started POST "/users" for ::1 at 2022-02-17 15:52:43 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 10:22:43.617051"], ["updated_at", "2022-02-17 10:22:43.617051"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 8.3ms | Allocations: 12032)


Started GET "/" for ::1 at 2022-02-17 15:52:43 +0530
Processing by UsersController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 133)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 2564)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 0.5ms | Allocations: 5528)


  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (2.5ms)[0m  [1m[32mINSERT INTO "roles" ("role_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["role_type", "admin"], ["created_at", "2022-02-17 10:24:17.518267"], ["updated_at", "2022-02-17 10:24:17.518267"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.5ms)[0m  [1m[32mINSERT INTO "roles" ("role_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["role_type", "user"], ["created_at", "2022-02-17 10:24:22.995765"], ["updated_at", "2022-02-17 10:24:22.995765"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.5ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-17 10:24:44.966289"], ["updated_at", "2022-02-17 10:24:44.966289"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Preet"], ["created_at", "2022-02-17 10:24:44.973845"], ["updated_at", "2022-02-17 10:24:44.973845"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ikigai"], ["description", "Test123"], ["publish_at", "2022-02-17 10:24:44.987444"], ["created_at", "2022-02-17 10:24:45.010345"], ["updated_at", "2022-02-17 10:24:45.010345"], ["author_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUsersRole Create (0.7ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["role_id", 1], ["created_at", "2022-02-17 10:26:04.041919"], ["updated_at", "2022-02-17 10:26:04.041919"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUsersRole Create (0.9ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["role_id", 2], ["created_at", "2022-02-17 10:26:11.079989"], ["updated_at", "2022-02-17 10:26:11.079989"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "books_categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsersRoles (20220217090355)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mDROP TABLE "users_roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217090355"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRoles (20220217085955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217085955"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAuthorIdInTobook (20220217072832)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "books" DROP COLUMN "author_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217072832"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAuthors (20220217071939)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "authors"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217071939"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooks (20220217070925)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "books"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217070925"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooks (20220217070925)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.5ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "description" character varying, "publish_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217070925"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20220217071939)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "authors" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217071939"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthorIdInTobook (20220217072832)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "books" ADD "author_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217072832"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "type" character varying, "book_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_out" for ::1 at 2022-02-17 16:23:25 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 102ms (ActiveRecord: 9.5ms | Allocations: 6730)


Started GET "/" for ::1 at 2022-02-17 16:23:26 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 421)
  Rendered layout layouts/application.html.erb (Duration: 69.4ms | Allocations: 35371)
Completed 200 OK in 82ms (Views: 73.3ms | ActiveRecord: 0.0ms | Allocations: 41159)


Started GET "/" for ::1 at 2022-02-17 16:23:29 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2345)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 2733)


Started GET "/" for ::1 at 2022-02-17 16:23:29 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2358)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 2702)


Started GET "/" for ::1 at 2022-02-17 16:23:30 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 2361)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 2699)


Started GET "/" for ::1 at 2022-02-17 16:23:31 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 2344)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 2688)


Started GET "/" for ::1 at 2022-02-17 16:23:36 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2342)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 2686)


Started GET "/" for ::1 at 2022-02-17 16:23:45 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 13924)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 15013)


Started GET "/" for ::1 at 2022-02-17 16:23:48 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 2347)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 2703)


Started GET "/" for ::1 at 2022-02-17 16:24:21 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 13911)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.0ms | Allocations: 14999)


Started GET "/" for ::1 at 2022-02-17 16:24:28 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 58.5ms | Allocations: 35256)
Completed 200 OK in 69ms (Views: 61.8ms | ActiveRecord: 0.0ms | Allocations: 41304)


Started GET "/" for ::1 at 2022-02-17 16:24:39 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 17)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2539)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 2947)


  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/" for ::1 at 2022-02-17 16:36:15 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 63.4ms | Allocations: 35577)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 0.0ms | Allocations: 41625)


Started GET "/" for ::1 at 2022-02-17 16:36:19 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 17)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2551)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 2959)


Started GET "/" for ::1 at 2022-02-17 16:38:03 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 59.8ms | Allocations: 35182)
Completed 200 OK in 70ms (Views: 63.1ms | ActiveRecord: 0.0ms | Allocations: 41234)


Started GET "/" for ::1 at 2022-02-17 16:38:06 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 17)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 2541)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 2949)


Started GET "/" for ::1 at 2022-02-17 16:39:36 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 13908)
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 14999)


Started GET "/users/sign_in" for ::1 at 2022-02-17 16:39:44 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.1ms | Allocations: 899)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 14.9ms | Allocations: 6528)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 8863)
Completed 200 OK in 36ms (Views: 20.0ms | ActiveRecord: 3.6ms | Allocations: 16831)


Started GET "/users/sign_up" for ::1 at 2022-02-17 16:39:59 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 244)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 222)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2245)
  Rendered layout layouts/application.html.erb (Duration: 88.4ms | Allocations: 15853)
Completed 200 OK in 104ms (Views: 90.4ms | ActiveRecord: 5.1ms | Allocations: 19630)


Started POST "/users" for ::1 at 2022-02-17 16:40:08 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 11:10:08.522448"], ["updated_at", "2022-02-17 11:10:08.522448"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 252ms (ActiveRecord: 3.8ms | Allocations: 11598)


Started GET "/" for ::1 at 2022-02-17 16:40:08 +0530
Processing by UsersController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 23)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:20
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 4005)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 4975)


Started GET "/users/sign_out" for ::1 at 2022-02-17 16:41:12 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 2.9ms | Allocations: 5575)


Started GET "/" for ::1 at 2022-02-17 16:41:12 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 13938)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 14856)


Started GET "/" for ::1 at 2022-02-17 16:41:18 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 2365)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2723)


Started GET "/users/sign_in" for ::1 at 2022-02-17 16:41:33 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 156)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1237)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3564)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 4872)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (2.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (1.4ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 11:31:40.562343"], ["updated_at", "2022-02-17 11:31:40.562343"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.5ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_in" for ::1 at 2022-02-17 17:05:17 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 6890)
  Rendered layout layouts/application.html.erb (Duration: 62.1ms | Allocations: 41456)
Completed 200 OK in 94ms (Views: 68.1ms | ActiveRecord: 4.3ms | Allocations: 54535)


Started GET "/users/sign_up" for ::1 at 2022-02-17 17:05:20 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.2ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 222)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2218)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4550)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 6129)


Started POST "/users" for ::1 at 2022-02-17 17:05:31 +0530
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "vivek@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 11:35:31.550017"], ["updated_at", "2022-02-17 11:35:31.550017"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 355ms (ActiveRecord: 4.5ms | Allocations: 11641)


Started GET "/" for ::1 at 2022-02-17 17:05:31 +0530
Processing by UsersController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 135)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:20
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4130)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 5301)


Started GET "/users/sign_out" for ::1 at 2022-02-17 17:05:33 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2644)


Started GET "/" for ::1 at 2022-02-17 17:05:33 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 17)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2545)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 2931)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "moderator"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (1.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "moderator"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 11:36:22.409771"], ["updated_at", "2022-02-17 11:36:22.409771"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mRole Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.5ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (1.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 11:37:05.174749"], ["updated_at", "2022-02-17 11:37:05.174749"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  [1m[36mRole Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (1.0ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."name" = $2[0m  [["user_id", 2], ["name", "moderator"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (4.0ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1 AND "users_roles"."role_id" = $2[0m  [["user_id", 2], ["role_id", 2]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "users_roles" ON "users"."id" = "users_roles"."user_id" WHERE "users_roles"."role_id" = $1 LIMIT $2[0m  [["role_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole::HABTM_Users Delete All (0.4ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."role_id" = $1[0m  [["role_id", 2]]
  [1m[36mRole Destroy (0.5ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-17 17:39:11 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 13917)
Completed 200 OK in 20ms (Views: 19.4ms | Allocations: 14994)


Started GET "/" for ::1 at 2022-02-17 18:06:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:6:in `index'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 8.4ms | Allocations: 11726)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<ActiveRecord::Relation [#<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">, #<User id: 2, email: "vivek@mail.com", created_at: "2022-02-17 11:35:31.550017000 +0000", updated_at: "2022-02-17 11:35:31.550017000 +0000">]>`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/" for ::1 at 2022-02-17 18:08:29 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:6:in `index'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 7.3ms | Allocations: 11730)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<ActiveRecord::Relation [#<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">, #<User id: 2, email: "vivek@mail.com", created_at: "2022-02-17 11:35:31.550017000 +0000", updated_at: "2022-02-17 11:35:31.550017000 +0000">]>`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/" for ::1 at 2022-02-17 18:08:33 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:6:in `index'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2022)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<ActiveRecord::Relation [#<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">, #<User id: 2, email: "vivek@mail.com", created_at: "2022-02-17 11:35:31.550017000 +0000", updated_at: "2022-02-17 11:35:31.550017000 +0000">]>`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:08:39 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.7ms | Allocations: 896)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 6547)
  Rendered layout layouts/application.html.erb (Duration: 327.0ms | Allocations: 41034)
Completed 200 OK in 334ms (Views: 331.2ms | ActiveRecord: 0.0ms | Allocations: 43666)


Started POST "/users/sign_in" for ::1 at 2022-02-17 18:08:45 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 302ms (ActiveRecord: 0.9ms | Allocations: 5876)


Started GET "/" for ::1 at 2022-02-17 18:08:46 +0530
Processing by UsersController#index as TURBO_STREAM
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:6:in `index'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.1ms | Allocations: 2654)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<ActiveRecord::Relation [#<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">, #<User id: 2, email: "vivek@mail.com", created_at: "2022-02-17 11:35:31.550017000 +0000", updated_at: "2022-02-17 11:35:31.550017000 +0000">]>`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:10:12 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 36ms (ActiveRecord: 6.9ms | Allocations: 11576)


Started GET "/" for ::1 at 2022-02-17 18:10:12 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms | Allocations: 4525)


  
Pundit::NotDefinedError (unable to find policy `NilClassPolicy` for `nil`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/" for ::1 at 2022-02-17 18:14:00 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:6:in `index'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 8.3ms | Allocations: 13724)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<ActiveRecord::Relation [#<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">, #<User id: 2, email: "vivek@mail.com", created_at: "2022-02-17 11:35:31.550017000 +0000", updated_at: "2022-02-17 11:35:31.550017000 +0000">]>`):
  
app/controllers/users_controller.rb:6:in `index'
Started GET "/" for ::1 at 2022-02-17 18:14:11 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (2.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:13
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 107.7ms | Allocations: 29992)
  Rendered layout layouts/application.html.erb (Duration: 108.1ms | Allocations: 30080)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 18.8ms | Allocations: 31524)


  
ActionView::Template::Error (undefined method `user_path' for #<ActionView::Base:0x00000000010d88>
Did you mean?  users_path):
    15:         <td><%= user.email %></td>
    16:         <% if admin? %>
    17:           <td>
    18:             <%= link_to user, method: :delete, data: { confirm: 'Are you sure?' } do %>
    19:               <i class="fas fa-trash-alt" title='Delete'></i>
    20:             <% end %> 
    21:           </td>
  
app/views/users/index.html.erb:18
app/views/users/index.html.erb:13
Started GET "/" for ::1 at 2022-02-17 18:14:39 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:13
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 4720)
  Rendered layout layouts/application.html.erb (Duration: 221.6ms | Allocations: 39213)
Completed 200 OK in 225ms (Views: 222.7ms | ActiveRecord: 1.6ms | Allocations: 40437)


Started GET "/" for ::1 at 2022-02-17 18:14:59 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 3880)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 6607)
Completed 200 OK in 34ms (Views: 29.0ms | ActiveRecord: 2.2ms | Allocations: 7799)


Started GET "/" for ::1 at 2022-02-17 18:15:51 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:11
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 4566)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 7291)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 2.2ms | Allocations: 8469)


Started GET "/users/sign_out" for ::1 at 2022-02-17 18:15:56 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms | Allocations: 3325)


Started GET "/" for ::1 at 2022-02-17 18:15:56 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1804)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 1884)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2234)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/users/index.html.erb:5
Started GET "/users/sign_out" for ::1 at 2022-02-17 18:18:50 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms | Allocations: 2744)


Started GET "/" for ::1 at 2022-02-17 18:18:50 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3353)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3457)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms | Allocations: 9417)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/users/index.html.erb:5
Started GET "/" for ::1 at 2022-02-17 18:18:53 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1741)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 1820)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2171)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/users/index.html.erb:5
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:19:05 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 3.3ms | Allocations: 902)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 4976)
  Rendered layout layouts/application.html.erb (Duration: 98.0ms | Allocations: 39382)
Completed 200 OK in 127ms (Views: 101.7ms | ActiveRecord: 6.6ms | Allocations: 47172)


Started GET "/users/sign_in" for ::1 at 2022-02-17 18:19:43 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 156)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1242)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 14839)
Completed 200 OK in 41ms (Views: 27.9ms | ActiveRecord: 5.5ms | Allocations: 18583)


Started POST "/users/sign_in" for ::1 at 2022-02-17 18:19:50 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 299ms (ActiveRecord: 1.4ms | Allocations: 6507)


Started GET "/" for ::1 at 2022-02-17 18:19:50 +0530
  
ActionController::RoutingError (uninitialized constant BooksController
Did you mean?  BooksCategory):
  
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:19:50 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 1684)


Started GET "/" for ::1 at 2022-02-17 18:19:50 +0530
  
ActionController::RoutingError (uninitialized constant BooksController
Did you mean?  BooksCategory):
  
Started GET "/" for ::1 at 2022-02-17 18:21:34 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
Completed 406 Not Acceptable in 18ms (ActiveRecord: 0.0ms | Allocations: 7872)


  
ActionController::MissingExactTemplate (BooksController#index is missing a template for request formats: text/html):
  
actionpack (7.0.2.2) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-02-17 18:25:08 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 78.0ms | Allocations: 30311)
  Rendered layout layouts/application.html.erb (Duration: 154.2ms | Allocations: 65024)
Completed 200 OK in 175ms (Views: 143.7ms | ActiveRecord: 14.8ms | Allocations: 74950)


Started GET "/users/sign_out" for ::1 at 2022-02-17 18:25:12 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms | Allocations: 4943)


Started GET "/" for ::1 at 2022-02-17 18:25:12 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2634)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2727)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3114)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/" for ::1 at 2022-02-17 18:25:19 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1740)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 1819)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2170)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/" for ::1 at 2022-02-17 18:26:21 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1043)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 14652)
Completed 200 OK in 50ms (Views: 37.9ms | ActiveRecord: 0.3ms | Allocations: 19577)


Started GET "/rails/info/routes" for ::1 at 2022-02-17 18:26:42 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [55 times] (Duration: 21.7ms | Allocations: 9054)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 3.2ms | Allocations: 1353)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 31.5ms | Allocations: 16859)
  Rendered layout /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 33.0ms | Allocations: 17253)
Completed 200 OK in 48ms (Views: 37.4ms | ActiveRecord: 0.0ms | Allocations: 23157)


Started GET "/users/sign_in" for ::1 at 2022-02-17 18:27:01 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.2ms | Allocations: 892)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 15.7ms | Allocations: 6365)
  Rendered layout layouts/application.html.erb (Duration: 108.7ms | Allocations: 40883)
Completed 200 OK in 143ms (Views: 111.4ms | ActiveRecord: 5.4ms | Allocations: 49423)


Started POST "/users/sign_in" for ::1 at 2022-02-17 18:27:06 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 302ms (ActiveRecord: 0.8ms | Allocations: 7386)


Started GET "/" for ::1 at 2022-02-17 18:27:07 +0530
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 43.1ms | Allocations: 21985)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 24414)
Completed 200 OK in 59ms (Views: 43.3ms | ActiveRecord: 6.3ms | Allocations: 29618)


Started GET "/" for ::1 at 2022-02-17 18:27:39 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 42.7ms | Allocations: 15298)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | Allocations: 29369)
Completed 200 OK in 72ms (Views: 54.1ms | ActiveRecord: 11.4ms | Allocations: 34617)


Started GET "/" for ::1 at 2022-02-17 18:28:12 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3082)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 5872)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 1.5ms | Allocations: 7079)


Started GET "/" for ::1 at 2022-02-17 18:28:14 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2389)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 4531)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 1.7ms | Allocations: 4886)


Started GET "/" for ::1 at 2022-02-17 18:28:14 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2400)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 4534)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 2.4ms | Allocations: 4881)


Started GET "/" for ::1 at 2022-02-17 18:28:15 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2391)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 4524)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 2.4ms | Allocations: 4860)


Started GET "/" for ::1 at 2022-02-17 18:28:15 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2395)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 4528)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 2.0ms | Allocations: 4864)


Started GET "/" for ::1 at 2022-02-17 18:28:15 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  Rendered books/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 2391)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 4524)
Completed 200 OK in 32ms (Views: 26.7ms | ActiveRecord: 3.7ms | Allocations: 4860)


Started GET "/users/sign_out" for ::1 at 2022-02-17 18:28:19 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms | Allocations: 3250)


Started GET "/" for ::1 at 2022-02-17 18:28:19 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1787)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 1866)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2235)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/users/sign_out" for ::1 at 2022-02-17 18:28:37 +0530
Processing by Devise::SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 760)


Started GET "/" for ::1 at 2022-02-17 18:28:37 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2126)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2210)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3410)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/users/index.html.erb:5
Started GET "/" for ::1 at 2022-02-17 18:28:39 +0530
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1644)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 1722)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2043)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/users/index.html.erb:5
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:28:43 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 582)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2116)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 15692)
Completed 200 OK in 48ms (Views: 31.1ms | ActiveRecord: 6.3ms | Allocations: 19457)


Started POST "/users/sign_in" for ::1 at 2022-02-17 18:28:49 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 292ms (ActiveRecord: 0.3ms | Allocations: 3252)


Started GET "/" for ::1 at 2022-02-17 18:28:50 +0530
Processing by UsersController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:11
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 30.5ms | Allocations: 13704)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 16045)
Completed 200 OK in 36ms (Views: 29.6ms | ActiveRecord: 5.8ms | Allocations: 16457)


Started GET "/" for ::1 at 2022-02-17 18:32:01 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:11
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered users/index.html.erb within layouts/application (Duration: 84.0ms | Allocations: 31697)
  Rendered layout layouts/application.html.erb (Duration: 2117.3ms | Allocations: 135158)
Completed 200 OK in 2143ms (Views: 2107.3ms | ActiveRecord: 16.0ms | Allocations: 141209)


  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (1.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-17 13:03:19.218406"], ["updated_at", "2022-02-17 13:03:19.218406"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.4ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Preet"], ["created_at", "2022-02-17 13:03:19.227710"], ["updated_at", "2022-02-17 13:03:19.227710"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ikigai"], ["description", "Test123"], ["publish_at", "2022-02-17 13:03:19.239299"], ["created_at", "2022-02-17 13:03:19.260115"], ["updated_at", "2022-02-17 13:03:19.260115"], ["author_id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-17 18:33:27 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:14
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 104.8ms | Allocations: 40051)
  Rendered layout layouts/application.html.erb (Duration: 195.2ms | Allocations: 74626)
Completed 200 OK in 218ms (Views: 178.8ms | ActiveRecord: 20.4ms | Allocations: 84553)


Started GET "/users/sign_out" for ::1 at 2022-02-17 18:33:31 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.4ms | Allocations: 4935)


Started GET "/" for ::1 at 2022-02-17 18:33:31 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2636)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2729)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3115)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/users/sign_out" for ::1 at 2022-02-17 18:36:39 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /home/harsh-g/Projects/BookManagement/UserDashboard/app/controllers/application_controller.rb:2)
Processing by Devise::SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms | Allocations: 2744)


Started GET "/" for ::1 at 2022-02-17 18:36:39 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3306)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3410)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms | Allocations: 13244)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'User Email' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Action' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/" for ::1 at 2022-02-17 18:40:35 +0530
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /home/harsh-g/Projects/BookManagement/UserDashboard/app/controllers/application_controller.rb:2)
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 7.3ms | Allocations: 12061)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 18:48:45 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /home/harsh-g/Projects/BookManagement/UserDashboard/app/controllers/application_controller.rb:2)
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 7.1ms | Allocations: 14947)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 18:48:47 +0530
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.7ms | Allocations: 1896)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:48:50 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.5ms | Allocations: 896)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 6562)
  Rendered layout layouts/application.html.erb (Duration: 112.5ms | Allocations: 40887)
Completed 200 OK in 176ms (Views: 115.6ms | ActiveRecord: 4.9ms | Allocations: 48081)


Started POST "/users/sign_in" for ::1 at 2022-02-17 18:48:56 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 394ms (ActiveRecord: 1.1ms | Allocations: 6007)


Started GET "/" for ::1 at 2022-02-17 18:48:56 +0530
Processing by BooksController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms | Allocations: 2551)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/users/sign_in" for ::1 at 2022-02-17 18:52:51 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: 'include Pundit' is deprecated. Please use 'include Pundit::Authorization' instead.
 (called from include at /home/harsh-g/Projects/BookManagement/UserDashboard/app/controllers/application_controller.rb:2)
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 37ms (ActiveRecord: 7.9ms | Allocations: 11599)


Started GET "/" for ::1 at 2022-02-17 18:52:52 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.7ms | Allocations: 8578)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `User(id: integer, email: string, encrypted_password: string, reset_password_token: string, reset_password_sent_at: datetime, remember_created_at: datetime, created_at: datetime, updated_at: datetime)`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 18:54:51 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 8.1ms | Allocations: 16477)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `User(id: integer, email: string, encrypted_password: string, reset_password_token: string, reset_password_sent_at: datetime, remember_created_at: datetime, created_at: datetime, updated_at: datetime)`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:01:13 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 13.5ms | Allocations: 21483)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:05:17 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.4ms | Allocations: 2562)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/users/sign_in" for ::1 at 2022-02-17 19:06:08 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 37ms (ActiveRecord: 7.5ms | Allocations: 11594)


Started GET "/" for ::1 at 2022-02-17 19:06:08 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 4.2ms | Allocations: 13489)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:07:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:9:in `pundit_user'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 8.7ms | Allocations: 11033)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:16 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 10.3ms | Allocations: 17241)


  
Pundit::NotDefinedError (unable to find scope `BookPolicy::Scope` for `Book(id: integer, name: string, description: string, publish_at: datetime, created_at: datetime, updated_at: datetime, author_id: integer)`):
  
app/controllers/books_controller.rb:3:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 9.9ms | Allocations: 13278)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:49 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 10.4ms | Allocations: 21478)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:51 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.2ms | Allocations: 2568)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.5ms | Allocations: 2323)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.7ms | Allocations: 2323)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:55 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms | Allocations: 2323)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:55 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.1ms | Allocations: 2307)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.7ms | Allocations: 2307)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:23:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `pundit_user'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/books_controller.rb:4:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.7ms | Allocations: 2305)


  
Pundit::NotDefinedError (unable to find policy `BookPolicy` for `#<ActiveRecord::Relation [#<Book id: 1, name: "Ikigai", description: "Test123", publish_at: "2022-02-17 13:03:19.239299000 +0000", created_at: "2022-02-17 13:03:19.260115000 +0000", updated_at: "2022-02-17 13:03:19.260115000 +0000", author_id: 1>]>`):
  
app/controllers/books_controller.rb:4:in `index'
Started GET "/" for ::1 at 2022-02-17 19:26:31 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:14
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 107.4ms | Allocations: 40077)
  Rendered layout layouts/application.html.erb (Duration: 279.5ms | Allocations: 74764)
Completed 200 OK in 300ms (Views: 260.9ms | ActiveRecord: 22.5ms | Allocations: 84690)


Started GET "/" for ::1 at 2022-02-17 19:26:53 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:11
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:14
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 4532)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 7274)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 2.0ms | Allocations: 8501)


Started GET "/users/sign_out" for ::1 at 2022-02-17 19:27:26 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.6ms | Allocations: 4933)


Started GET "/" for ::1 at 2022-02-17 19:27:26 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3038)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3135)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4325)


  
ActionView::Template::Error (undefined method `has_role?' for nil:NilClass):
    2:   <thead>
    3:     <tr>
    4:       <th><%= 'Book Name' %></th>
    5:       <% if admin? %>
    6:         <th><%= 'Author' %></th>
    7:       <% end %>
    8:     </tr>
  
app/helpers/application_helper.rb:3:in `admin?'
app/views/books/index.html.erb:5
Started GET "/users/sign_out" for ::1 at 2022-02-17 19:28:37 +0530
Processing by Devise::SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 642)


Started GET "/" for ::1 at 2022-02-17 19:28:37 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 4886)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 4971)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 6126)


  
ActionView::Template::Error (undefined local variable or method `user_signed_in' for #<ActionView::Base:0x0000000000df48>
Did you mean?  user_signed_in?):
    1: <% if user_signed_in %>
    2:   <table class="table table-bordered table-hover">
    3:     <thead>
    4:       <tr>
  
app/views/books/index.html.erb:1
Started GET "/" for ::1 at 2022-02-17 19:30:58 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 739)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3524)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 4721)


Started GET "/" for ::1 at 2022-02-17 19:34:26 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 6ms (Allocations: 4614)


Started GET "/users/sign_in" for ::1 at 2022-02-17 19:34:26 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.6ms | Allocations: 897)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 14.6ms | Allocations: 4175)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 18161)
Completed 200 OK in 64ms (Views: 36.4ms | ActiveRecord: 8.0ms | Allocations: 24870)


Started GET "/" for ::1 at 2022-02-17 21:32:46 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 21ms (ActiveRecord: 0.0ms | Allocations: 7389)


Started GET "/users/sign_in" for ::1 at 2022-02-17 21:32:47 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.7ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 19.1ms | Allocations: 4576)
  Rendered layout layouts/application.html.erb (Duration: 123.6ms | Allocations: 39177)
Completed 200 OK in 158ms (Views: 137.6ms | ActiveRecord: 6.4ms | Allocations: 49501)


Started POST "/users/sign_in" for ::1 at 2022-02-17 21:32:56 +0530
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 276ms (ActiveRecord: 4.5ms | Allocations: 7315)


Started GET "/" for ::1 at 2022-02-17 21:32:56 +0530
Processing by BooksController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 96.4ms | Allocations: 30562)
  Rendered layout layouts/application.html.erb (Duration: 141.7ms | Allocations: 32934)
Completed 200 OK in 155ms (Views: 129.4ms | ActiveRecord: 14.2ms | Allocations: 39466)


Started GET "/" for ::1 at 2022-02-17 21:33:30 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 75.6ms | Allocations: 30848)
  Rendered layout layouts/application.html.erb (Duration: 149.9ms | Allocations: 64845)
Completed 200 OK in 206ms (Views: 140.9ms | ActiveRecord: 20.8ms | Allocations: 88367)


Started GET "/" for ::1 at 2022-02-17 21:35:42 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 66.1ms | Allocations: 30856)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 235)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 294)
  Rendered layout layouts/application.html.erb (Duration: 7350.4ms | Allocations: 105401)
Completed 200 OK in 7485ms (Views: 7340.0ms | ActiveRecord: 20.2ms | Allocations: 128930)


Started GET "/users/sign_out" for ::1 at 2022-02-17 21:35:57 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 63ms (ActiveRecord: 0.5ms | Allocations: 4948)


Started GET "/" for ::1 at 2022-02-17 21:35:57 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 420)


Started GET "/users/sign_in" for ::1 at 2022-02-17 21:35:57 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 892)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4177)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 8608)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.0ms | Allocations: 10808)


Started POST "/users/sign_in" for ::1 at 2022-02-17 21:36:06 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 359ms (ActiveRecord: 0.5ms | Allocations: 5243)


Started GET "/" for ::1 at 2022-02-17 21:36:06 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2982)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 7533)
Completed 200 OK in 29ms (Views: 21.2ms | ActiveRecord: 2.7ms | Allocations: 9278)


Started GET "/" for ::1 at 2022-02-17 21:36:08 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 2876)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 7217)
Completed 200 OK in 41ms (Views: 28.7ms | ActiveRecord: 4.7ms | Allocations: 8739)


Started GET "/" for ::1 at 2022-02-17 21:36:10 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2876)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7237)
Completed 200 OK in 21ms (Views: 14.5ms | ActiveRecord: 2.1ms | Allocations: 8766)


Started GET "/users/sign_out" for ::1 at 2022-02-17 21:36:11 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.2ms | Allocations: 1800)


Started GET "/" for ::1 at 2022-02-17 21:36:11 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 294)


Started GET "/users/sign_in" for ::1 at 2022-02-17 21:36:11 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1031)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5339)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 6079)


Started POST "/users/sign_in" for ::1 at 2022-02-17 21:36:22 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 315ms (ActiveRecord: 0.4ms | Allocations: 2333)


Started GET "/" for ::1 at 2022-02-17 21:36:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:12
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:15
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2876)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 33)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 7224)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 2.2ms | Allocations: 8720)


Started GET "/" for ::1 at 2022-02-17 21:56:19 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 4958)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 5042)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 9.9ms | Allocations: 20518)


  
ActionView::Template::Error (undefined local variable or method `new_meeting_path' for #<ActionView::Base:0x000000000131f0>
Did you mean?  new_registration_path):
    1: <% if user_signed_in? %>
    2:   <%= link_to new_meeting_path, class: "btn btn-outline-primary" do %>
    3:     <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
    4:   <% end %>
    5:   <table class="table table-bordered table-hover">
  
app/views/books/index.html.erb:2
Started GET "/" for ::1 at 2022-02-17 21:56:38 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:15
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 18062)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 287)
  Rendered layout layouts/application.html.erb (Duration: 60.5ms | Allocations: 23543)
Completed 200 OK in 68ms (Views: 59.4ms | ActiveRecord: 4.0ms | Allocations: 26088)


Started GET "/books/new" for ::1 at 2022-02-17 21:56:40 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3325)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3404)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms | Allocations: 5056)


  
ActionView::Template::Error (Missing partial books/_form, application/_form with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/home/harsh-g/Projects/BookManagement/UserDashboard/app/views"
  * "/home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views"
  * "/home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actiontext-7.0.2.2/app/views"
  * "/home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionmailbox-7.0.2.2/app/views"

Did you mean?  action_text/attachables/remote_image
               action_text/contents/content
               active_storage/blobs/blob
               layouts/messages
               layouts/action_text/contents/content
               layouts/user_sidebar):
    1: <div class="container h-100">
    2:   <h2><%= 'New Book' %></h2>
    3:   <br>
    4:   <%= render 'form', book: @book %>
    5: </div>
  
app/views/books/new.html.erb:4
Started GET "/books/new" for ::1 at 2022-02-17 22:07:45 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 1.4ms | Allocations: 1417)
  Rendered books/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1735)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 1820)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 8.5ms | Allocations: 18653)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: book) do |form|%>
  <% if admin? %>
    <div class="form-group row"> 
      <%= form.label :name, class: "col-sm-3 col-form-label" %>
      <div class="col-sm-7">
        <%= form.text_field :name, autofocus: true, class: "form-control" %>
      </div>
    </div>
    <div class="form-group row"> 
      <%= form.label :description, class: "col-sm-3 col-form-label" %>
      <div class="col-sm-7">
        <%= form.text_area :description, autofocus: true, class: "form-control" %>
      </div>
    </div>
    <div class="form-group row"> 
      <%= form.label :publish_at, class: "col-sm-3 col-form-label" %>
      <div class="col-sm-7">
        <%= form.date_select :publish_at, autofocus: true, class: "form-control" %>
      </div>
    </div>
    <div class="form-group row"> 
      <%= form.label :author, class: "col-sm-3 col-form-label" %>
      <div class="col-sm-7">
        <%= form.collection_select :author_id, order_authors_by_name, :id, :name, { prompt: "Choose Author" },{class: 'form-control'}) %>
      </div>
    </div>
  <% end %>
<% end %>
):
1:    <%= form_with(model: book) do |form|%>
2:      <% if admin? %>
3:        <div class="form-group row"> 
4:          <%= form.label :name, class: "col-sm-3 col-form-label" %>
5:          <div class="col-sm-7">
6:            <%= form.text_field :name, autofocus: true, class: "form-control" %>
7:          </div>
8:        </div>
9:        <div class="form-group row"> 
10:          <%= form.label :description, class: "col-sm-3 col-form-label" %>
11:          <div class="col-sm-7">
12:            <%= form.text_area :description, autofocus: true, class: "form-control" %>
13:          </div>
14:        </div>
15:        <div class="form-group row"> 
16:          <%= form.label :publish_at, class: "col-sm-3 col-form-label" %>
17:          <div class="col-sm-7">
18:            <%= form.date_select :publish_at, autofocus: true, class: "form-control" %>
19:          </div>
20:        </div>
21:        <div class="form-group row"> 
22:          <%= form.label :author, class: "col-sm-3 col-form-label" %>
23:          <div class="col-sm-7">
24:            <%= form.collection_select :author_id, order_authors_by_name, :id, :name, { prompt: "Choose Author" },{class: 'form-control'}) %>
25:          </div>
26:        </div>
27:      <% end %>
28:    <% end %>
  
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/_form.html.erb:24: syntax error, unexpected ')', expecting `end'
app/views/books/new.html.erb:4
Started GET "/books/new" for ::1 at 2022-02-17 22:08:49 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (1.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:24
  Rendered books/_form.html.erb (Duration: 94.5ms | Allocations: 20442)
  Rendered books/new.html.erb within layouts/application (Duration: 95.5ms | Allocations: 20756)
  Rendered layouts/_messages.html.erb (Duration: 1.9ms | Allocations: 206)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 306)
  Rendered layout layouts/application.html.erb (Duration: 110.8ms | Allocations: 26233)
Completed 200 OK in 120ms (Views: 110.7ms | ActiveRecord: 3.3ms | Allocations: 28764)


Started GET "/books/new" for ::1 at 2022-02-17 22:09:39 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:24
  Rendered books/_form.html.erb (Duration: 10.5ms | Allocations: 4472)
  Rendered books/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 4783)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 206)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 291)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 10085)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 1.6ms | Allocations: 12563)


Started POST "/books" for ::1 at 2022-02-17 22:10:02 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Alchemist", "description"=>"Good Book", "publish_at(1i)"=>"2020", "publish_at(2i)"=>"5", "publish_at(3i)"=>"4", "author_id"=>"1"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:13:in `block in create'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `block in create'
  [1m[36mBook Create (11.5ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Alchemist"], ["description", "Good Book"], ["publish_at", "2020-05-04 00:00:00"], ["created_at", "2022-02-17 16:40:02.529868"], ["updated_at", "2022-02-17 16:40:02.529868"], ["author_id", 1]]
  ↳ app/controllers/books_controller.rb:13:in `block in create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:13:in `block in create'
Redirected to http://localhost:3000/books
Completed 406 Not Acceptable in 34ms (ActiveRecord: 15.9ms | Allocations: 7092)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/books_controller.rb:12:in `create'
Started POST "/books" for ::1 at 2022-02-17 22:11:03 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Alchemist", "description"=>"Good Book", "publish_at(1i)"=>"2020", "publish_at(2i)"=>"5", "publish_at(3i)"=>"4", "author_id"=>"1"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Alchemist"], ["description", "Good Book"], ["publish_at", "2020-05-04 00:00:00"], ["created_at", "2022-02-17 16:41:03.536551"], ["updated_at", "2022-02-17 16:41:03.536551"], ["author_id", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 60ms (ActiveRecord: 15.8ms | Allocations: 21364)


Started GET "/books" for ::1 at 2022-02-17 22:11:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:15
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 37.2ms | Allocations: 15933)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 81)
  Rendered layout layouts/application.html.erb (Duration: 46.6ms | Allocations: 20576)
Completed 200 OK in 54ms (Views: 41.6ms | ActiveRecord: 7.5ms | Allocations: 22792)


Started GET "/books/new" for ::1 at 2022-02-17 22:11:07 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:24
  Rendered books/_form.html.erb (Duration: 11.8ms | Allocations: 3823)
  Rendered books/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3900)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 8222)
Completed 200 OK in 30ms (Views: 22.6ms | ActiveRecord: 1.9ms | Allocations: 9834)


Started POST "/books" for ::1 at 2022-02-17 22:11:18 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"jira", "description"=>"fmkfsjkd", "publish_at(1i)"=>"2019", "publish_at(2i)"=>"1", "publish_at(3i)"=>"2", "author_id"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (0.8ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "jira"], ["description", "fmkfsjkd"], ["publish_at", "2019-01-02 00:00:00"], ["created_at", "2022-02-17 16:41:18.122111"], ["updated_at", "2022-02-17 16:41:18.122111"], ["author_id", 2]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 67ms (ActiveRecord: 50.6ms | Allocations: 4371)


Started GET "/books" for ::1 at 2022-02-17 22:11:18 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:15
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:18
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 6852)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 11195)
Completed 200 OK in 32ms (Views: 24.7ms | ActiveRecord: 2.4ms | Allocations: 12707)


Started GET "/books" for ::1 at 2022-02-17 22:12:36 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:18
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 8283)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.7ms | Allocations: 286)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 13618)
Completed 200 OK in 47ms (Views: 35.2ms | ActiveRecord: 3.1ms | Allocations: 15957)


Started GET "/books" for ::1 at 2022-02-17 22:12:48 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 8284)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.2ms | Allocations: 286)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 13619)
Completed 200 OK in 57ms (Views: 41.2ms | ActiveRecord: 3.8ms | Allocations: 16040)


Started GET "/books" for ::1 at 2022-02-17 22:12:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:18
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 8292)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.2ms | Allocations: 286)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 13716)
Completed 200 OK in 44ms (Views: 36.3ms | ActiveRecord: 2.5ms | Allocations: 16135)


Started GET "/books" for ::1 at 2022-02-17 22:13:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 8283)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.7ms | Allocations: 286)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 13618)
Completed 200 OK in 48ms (Views: 34.8ms | ActiveRecord: 3.5ms | Allocations: 16027)


Started GET "/" for ::1 at 2022-02-17 22:13:06 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 7510)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 73)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 11848)
Completed 200 OK in 36ms (Views: 27.8ms | ActiveRecord: 3.0ms | Allocations: 13430)


Started GET "/users/sign_out" for ::1 at 2022-02-17 22:13:55 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 2415)


Started GET "/" for ::1 at 2022-02-17 22:13:55 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 299)


Started GET "/users/sign_in" for ::1 at 2022-02-17 22:13:55 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 583)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2112)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 7078)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.0ms | Allocations: 8929)


Started POST "/users/sign_in" for ::1 at 2022-02-17 22:14:07 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 328ms (ActiveRecord: 0.7ms | Allocations: 2884)


Started GET "/" for ::1 at 2022-02-17 22:14:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 22.2ms | Allocations: 7249)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.2ms | Allocations: 336)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 12228)
Completed 200 OK in 39ms (Views: 31.7ms | ActiveRecord: 2.4ms | Allocations: 14345)


Started GET "/" for ::1 at 2022-02-17 22:14:17 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 27.1ms | Allocations: 6567)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 87)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 10920)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 3.5ms | Allocations: 12496)


Started GET "/" for ::1 at 2022-02-17 22:14:40 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 4582)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 336)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 9981)
Completed 200 OK in 42ms (Views: 27.1ms | ActiveRecord: 3.1ms | Allocations: 12309)


Started GET "/" for ::1 at 2022-02-17 22:14:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 87)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 8340)
Completed 200 OK in 38ms (Views: 23.9ms | ActiveRecord: 3.7ms | Allocations: 9926)


Started GET "/" for ::1 at 2022-02-17 22:17:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 4581)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 22.2ms | Allocations: 4992)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 14633)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 2.6ms | Allocations: 16930)


  
ActionView::Template::Error (undefined local variable or method `user_path' for #<ActionView::Base:0x0000000001e820>
Did you mean?  users_path):
    4:       <%= link_to root_path, class: 'withripple' do  %>
    5:         Home
    6:       <% end %>
    7:       <%= link_to user_path, class: 'withripple' do  %>
    8:         Users
    9:       <% end %>
   10:       <%= link_to author_path, class: 'withripple' do  %>
  
app/views/layouts/_user_sidebar.html.erb:7
app/views/layouts/application.html.erb:17
Started GET "/rails/route" for ::1 at 2022-02-17 22:17:29 +0530
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/" for ::1 at 2022-02-17 22:17:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 4581)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 16.0ms | Allocations: 4984)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 14713)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 2.2ms | Allocations: 17162)


  
ActionView::Template::Error (undefined local variable or method `authors_path' for #<ActionView::Base:0x0000000001ee38>
Did you mean?  audio_path):
     7:       <%= link_to users_path, class: 'withripple' do  %>
     8:         Users
     9:       <% end %>
    10:       <%= link_to authors_path, class: 'withripple' do  %>
    11:         Authors
    12:       <% end %>
    13:       <%= link_to categorys_path, class: 'withripple' do  %>
  
app/views/layouts/_user_sidebar.html.erb:10
app/views/layouts/application.html.erb:17
Started GET "/" for ::1 at 2022-02-17 22:18:25 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 62.9ms | Allocations: 29061)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 230)
  Rendered layouts/_user_sidebar.html.erb (Duration: 21.8ms | Allocations: 5931)
  Rendered layout layouts/application.html.erb (Duration: 170.0ms | Allocations: 66119)
Completed 500 Internal Server Error in 236ms (ActiveRecord: 21.3ms | Allocations: 89685)


  
ActionView::Template::Error (undefined local variable or method `categorys_path' for #<ActionView::Base:0x0000000000e998>
Did you mean?  category_path
               categories_path):
    10:       <%= link_to authors_path, class: 'withripple' do  %>
    11:         Authors
    12:       <% end %>
    13:       <%= link_to categorys_path, class: 'withripple' do  %>
    14:         Categories
    15:       <% end %>
    16:     </li>
  
app/views/layouts/_user_sidebar.html.erb:13
app/views/layouts/application.html.erb:17
Started GET "/" for ::1 at 2022-02-17 22:18:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 4586)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 560)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 10218)
Completed 200 OK in 38ms (Views: 27.1ms | ActiveRecord: 2.5ms | Allocations: 12805)


Started GET "/" for ::1 at 2022-02-17 22:19:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 4583)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 571)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 10219)
Completed 200 OK in 42ms (Views: 28.7ms | ActiveRecord: 3.8ms | Allocations: 12655)


Started GET "/users" for ::1 at 2022-02-17 22:19:27 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 3546)


Started GET "/" for ::1 at 2022-02-17 22:19:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4069)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 37)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 172)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 8630)
Completed 200 OK in 25ms (Views: 19.7ms | ActiveRecord: 2.1ms | Allocations: 10191)


Started GET "/users" for ::1 at 2022-02-17 22:19:29 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 1384)


Started GET "/" for ::1 at 2022-02-17 22:19:29 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3988)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 8431)
Completed 200 OK in 34ms (Views: 19.6ms | ActiveRecord: 2.3ms | Allocations: 9944)


Started GET "/authors" for ::1 at 2022-02-17 22:19:41 +0530
  
ActionController::RoutingError (uninitialized constant AuthorsController):
  
Started GET "/categories" for ::1 at 2022-02-17 22:19:43 +0530
  
ActionController::RoutingError (uninitialized constant CategoriesController
Did you mean?  TurboDeviseController):
  
Started GET "/users" for ::1 at 2022-02-17 22:19:48 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.7ms | Allocations: 1594)


Started GET "/" for ::1 at 2022-02-17 22:19:48 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 4581)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 215)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 571)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 10221)
Completed 200 OK in 30ms (Views: 24.1ms | ActiveRecord: 2.2ms | Allocations: 12532)


Started GET "/users" for ::1 at 2022-02-17 22:19:49 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.8ms | Allocations: 1490)


Started GET "/" for ::1 at 2022-02-17 22:19:49 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 8430)
Completed 200 OK in 24ms (Views: 17.5ms | ActiveRecord: 1.8ms | Allocations: 9976)


Started GET "/rails/info/routes?path=users" for ::1 at 2022-02-17 22:20:05 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 11ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 3191)


Started GET "/rails/info/routes?path=users_i" for ::1 at 2022-02-17 22:20:06 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users_i"}
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1005)


Started GET "/rails/info/routes?path=users_in" for ::1 at 2022-02-17 22:20:07 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users_in"}
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1008)


Started GET "/rails/info/routes?path=user" for ::1 at 2022-02-17 22:20:34 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"user"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1231)


Started GET "/rails/info/routes?path=user" for ::1 at 2022-02-17 22:20:34 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"user"}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 1229)


Started GET "/rails/info/routes?path=user" for ::1 at 2022-02-17 22:21:33 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"user"}
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 3334)


Started GET "/rails/route" for ::1 at 2022-02-17 22:23:37 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/rails/info/routes?path=users" for ::1 at 2022-02-17 22:23:41 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 6277)


Started GET "/rails/info/routes?path=users" for ::1 at 2022-02-17 22:23:58 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1497)


Started GET "/rails/info/routes?path=users" for ::1 at 2022-02-17 22:24:39 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1494)


Started GET "/" for ::1 at 2022-02-17 22:26:26 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 65.6ms | Allocations: 29059)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 230)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 645)
  Rendered layout layouts/application.html.erb (Duration: 156.5ms | Allocations: 61106)
Completed 200 OK in 221ms (Views: 145.9ms | ActiveRecord: 21.7ms | Allocations: 84701)


Started GET "/users" for ::1 at 2022-02-17 22:26:28 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 0.3ms | Allocations: 3567)


Started GET "/" for ::1 at 2022-02-17 22:26:28 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4072)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 37)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 172)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 8723)
Completed 200 OK in 22ms (Views: 16.6ms | ActiveRecord: 2.2ms | Allocations: 10300)


Started GET "/users" for ::1 at 2022-02-17 22:26:31 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1402)


Started GET "/" for ::1 at 2022-02-17 22:26:31 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 3989)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 8427)
Completed 200 OK in 27ms (Views: 19.8ms | ActiveRecord: 2.9ms | Allocations: 9941)


Started GET "/users" for ::1 at 2022-02-17 22:26:32 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 1403)


Started GET "/" for ::1 at 2022-02-17 22:26:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 3989)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.6ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 8427)
Completed 200 OK in 24ms (Views: 18.8ms | ActiveRecord: 2.3ms | Allocations: 9960)


Started GET "/users" for ::1 at 2022-02-17 22:26:32 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1396)


Started GET "/" for ::1 at 2022-02-17 22:26:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 8513)
Completed 200 OK in 26ms (Views: 20.3ms | ActiveRecord: 2.3ms | Allocations: 10025)


Started GET "/users" for ::1 at 2022-02-17 22:26:32 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 1405)


Started GET "/" for ::1 at 2022-02-17 22:26:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3989)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 8427)
Completed 200 OK in 24ms (Views: 18.0ms | ActiveRecord: 2.7ms | Allocations: 9920)


Started GET "/users" for ::1 at 2022-02-17 22:26:32 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1378)


Started GET "/" for ::1 at 2022-02-17 22:26:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 8423)
Completed 200 OK in 29ms (Views: 22.6ms | ActiveRecord: 2.7ms | Allocations: 9938)


Started GET "/users" for ::1 at 2022-02-17 22:26:32 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 1390)


Started GET "/" for ::1 at 2022-02-17 22:26:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 8423)
Completed 200 OK in 26ms (Views: 19.8ms | ActiveRecord: 2.6ms | Allocations: 9941)


Started GET "/users" for ::1 at 2022-02-17 22:26:33 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1380)


Started GET "/" for ::1 at 2022-02-17 22:26:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 8423)
Completed 200 OK in 26ms (Views: 19.4ms | ActiveRecord: 2.6ms | Allocations: 9937)


Started GET "/users" for ::1 at 2022-02-17 22:26:33 +0530
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 1388)


Started GET "/" for ::1 at 2022-02-17 22:26:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 8423)
Completed 200 OK in 29ms (Views: 22.2ms | ActiveRecord: 2.5ms | Allocations: 9943)


Started GET "/users/sign_out" for ::1 at 2022-02-17 22:28:58 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 0.3ms | Allocations: 5487)


Started GET "/" for ::1 at 2022-02-17 22:28:58 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for ::1 at 2022-02-17 22:28:58 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 897)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4186)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 8616)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.0ms | Allocations: 10796)


Started POST "/users/sign_in" for ::1 at 2022-02-17 22:29:11 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 323ms (ActiveRecord: 0.5ms | Allocations: 5239)


Started GET "/" for ::1 at 2022-02-17 22:29:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 6939)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 152)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 11478)
Completed 200 OK in 32ms (Views: 25.7ms | ActiveRecord: 2.5ms | Allocations: 13215)


Started GET "/" for ::1 at 2022-02-17 22:29:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 4056)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 8472)
Completed 200 OK in 42ms (Views: 29.1ms | ActiveRecord: 5.1ms | Allocations: 9975)


Started GET "/authors" for ::1 at 2022-02-17 22:29:18 +0530
  
ActionController::RoutingError (uninitialized constant AuthorsController):
  
Started GET "/rails/route" for ::1 at 2022-02-17 22:30:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/rails/route" for ::1 at 2022-02-17 22:30:51 +0530
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/rails/route" for ::1 at 2022-02-17 22:31:39 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/" for ::1 at 2022-02-17 22:31:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 72.5ms | Allocations: 31602)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 226)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.2ms | Allocations: 548)
  Rendered layout layouts/application.html.erb (Duration: 163.9ms | Allocations: 63304)
Completed 200 OK in 251ms (Views: 151.0ms | ActiveRecord: 21.7ms | Allocations: 84780)


Started GET "/users" for ::1 at 2022-02-17 22:31:58 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2019)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.6ms | Allocations: 218)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 6714)
Completed 200 OK in 45ms (Views: 32.6ms | ActiveRecord: 3.5ms | Allocations: 9154)


Started GET "/" for ::1 at 2022-02-17 22:32:01 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4065)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.6ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 8573)
Completed 200 OK in 29ms (Views: 21.4ms | ActiveRecord: 2.8ms | Allocations: 10190)


Started GET "/users/sign_out" for ::1 at 2022-02-17 22:32:02 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 1.3ms | Allocations: 4954)


Started GET "/" for ::1 at 2022-02-17 22:32:02 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for ::1 at 2022-02-17 22:32:02 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.8ms | Allocations: 892)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4005)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 8436)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 10627)


Started POST "/users/sign_in" for ::1 at 2022-02-17 22:32:08 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 345ms (ActiveRecord: 1.1ms | Allocations: 4432)


Started GET "/" for ::1 at 2022-02-17 22:32:09 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4156)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 152)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 8781)
Completed 200 OK in 25ms (Views: 19.8ms | ActiveRecord: 2.1ms | Allocations: 10478)


Started GET "/" for ::1 at 2022-02-17 22:35:04 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 4700)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 524)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 10274)
Completed 200 OK in 40ms (Views: 31.1ms | ActiveRecord: 3.3ms | Allocations: 12619)


Started GET "/books/new" for ::1 at 2022-02-17 22:35:09 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (2.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:24
  Rendered books/_form.html.erb (Duration: 62.5ms | Allocations: 8617)
  Rendered books/new.html.erb within layouts/application (Duration: 65.7ms | Allocations: 8902)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 34)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.7ms | Allocations: 154)
  Rendered layout layouts/application.html.erb (Duration: 82.3ms | Allocations: 13420)
Completed 200 OK in 94ms (Views: 80.4ms | ActiveRecord: 4.7ms | Allocations: 15113)


Started POST "/books" for ::1 at 2022-02-17 22:35:29 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Rich Dad Poor Dad", "description"=>"It's Good", "publish_at(1i)"=>"2020", "publish_at(2i)"=>"5", "publish_at(3i)"=>"15", "author_id"=>"2"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (1.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Rich Dad Poor Dad"], ["description", "It's Good"], ["publish_at", "2020-05-15 00:00:00"], ["created_at", "2022-02-17 17:05:29.198059"], ["updated_at", "2022-02-17 17:05:29.198059"], ["author_id", 2]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 23ms (ActiveRecord: 4.3ms | Allocations: 5578)


Started GET "/books" for ::1 at 2022-02-17 22:35:29 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 4705)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 9128)
Completed 200 OK in 29ms (Views: 22.4ms | ActiveRecord: 2.6ms | Allocations: 10681)


Started GET "/users" for ::1 at 2022-02-17 22:35:39 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2005)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 6697)
Completed 200 OK in 27ms (Views: 19.1ms | ActiveRecord: 2.0ms | Allocations: 8843)


Started GET "/" for ::1 at 2022-02-17 22:35:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 4659)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 9075)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 2.9ms | Allocations: 10657)


Started GET "/users/sign_out" for ::1 at 2022-02-17 22:35:52 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 1812)


Started GET "/" for ::1 at 2022-02-17 22:35:52 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 298)


Started GET "/users/sign_in" for ::1 at 2022-02-17 22:35:52 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 565)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2074)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 6503)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.0ms | Allocations: 8105)


Started POST "/users/sign_in" for ::1 at 2022-02-17 22:35:59 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 376ms (ActiveRecord: 0.6ms | Allocations: 2828)


Started GET "/" for ::1 at 2022-02-17 22:36:00 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 4659)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 33)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 168)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 9102)
Completed 200 OK in 30ms (Views: 23.3ms | ActiveRecord: 2.4ms | Allocations: 10614)


Started GET "/users/sign_out" for ::1 at 2022-02-17 22:36:20 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 1759)


Started GET "/" for ::1 at 2022-02-17 22:36:20 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/users/sign_in" for ::1 at 2022-02-17 22:36:20 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1006)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 5248)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 5989)


Started POST "/users/sign_in" for ::1 at 2022-02-17 22:36:28 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 388ms (ActiveRecord: 0.8ms | Allocations: 2307)


Started GET "/" for ::1 at 2022-02-17 22:36:29 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 33)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.7ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 9078)
Completed 200 OK in 29ms (Views: 23.3ms | ActiveRecord: 2.6ms | Allocations: 10584)


Started GET "/" for ::1 at 2022-02-17 23:55:12 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 57.4ms | Allocations: 32536)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 230)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 548)
  Rendered layout layouts/application.html.erb (Duration: 114.5ms | Allocations: 64174)
Completed 200 OK in 166ms (Views: 105.8ms | ActiveRecord: 16.5ms | Allocations: 87748)


Started GET "/" for ::1 at 2022-02-17 23:59:30 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 45.2ms | Allocations: 5301)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 544)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | Allocations: 10990)
Completed 200 OK in 95ms (Views: 67.7ms | ActiveRecord: 2.1ms | Allocations: 13585)


Started GET "/" for ::1 at 2022-02-18 00:00:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 4655)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 152)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 9074)
Completed 200 OK in 27ms (Views: 19.2ms | ActiveRecord: 2.8ms | Allocations: 10680)


Started GET "/" for ::1 at 2022-02-18 00:01:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5299)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 511)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 10861)
Completed 200 OK in 30ms (Views: 23.8ms | ActiveRecord: 2.2ms | Allocations: 13216)


Started GET "/" for ::1 at 2022-02-18 00:01:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 18.0ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 149)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 9072)
Completed 200 OK in 35ms (Views: 23.8ms | ActiveRecord: 3.7ms | Allocations: 10670)


Started GET "/users" for ::1 at 2022-02-18 00:01:46 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2017)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 216)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 6795)
Completed 200 OK in 18ms (Views: 12.7ms | ActiveRecord: 1.3ms | Allocations: 9220)


Started GET "/authors" for ::1 at 2022-02-18 00:01:48 +0530
  
ActionController::RoutingError (uninitialized constant AuthorsController):
  
Started GET "/users" for ::1 at 2022-02-18 00:02:45 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 6.2ms | Allocations: 4470)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 11541)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.8ms | Allocations: 14057)


  
ActionView::Template::Error (undefined method `name' for #<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">):
    20:             Categories
    21:           <% end %>
    22:         </li>
    23:         <strong><div class="user-name-hi"><%= 'Hello' %>,</div> <%= current_user.name %> </strong> &ensp;
    24:         <li class="nav-item">
    25:           <%= link_to destroy_user_session_path, method: :delete, class: 'btn btn-danger btn-sm'  do %>
    26:             <i class="fas fa-power-off"></i>Logout
  
app/views/layouts/_user_sidebar.html.erb:23
app/views/layouts/application.html.erb:17
Started GET "/users" for ::1 at 2022-02-18 00:02:55 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1524)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 5.2ms | Allocations: 3799)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 9678)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.9ms | Allocations: 11249)


  
ActionView::Template::Error (undefined method `name' for #<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">):
    20:             Categories
    21:           <% end %>
    22:         </li>
    23:         <strong><div class="user-name-hi"><%= 'Hello' %>,</div> <%= current_user.name %> </strong> &ensp;
    24:         <li class="nav-item">
    25:           <%= link_to destroy_user_session_path, method: :delete, class: 'btn btn-danger btn-sm'  do %>
    26:             <i class="fas fa-power-off"></i>Logout
  
app/views/layouts/_user_sidebar.html.erb:23
app/views/layouts/application.html.erb:17
Started GET "/users" for ::1 at 2022-02-18 00:04:20 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 210)
  Rendered layouts/_user_sidebar.html.erb (Duration: 5.4ms | Allocations: 4293)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 11370)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 1.8ms | Allocations: 13660)


  
ActionView::Template::Error (undefined method `name' for #<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 11:10:08.522448000 +0000", updated_at: "2022-02-17 11:10:08.522448000 +0000">):
    27:         </li>
    28:       </ul>
    29:     </div>
    30:     <strong><div class="user-name-hi"><%= 'Hello' %>,</div> <%= current_user.name %> </strong> &ensp;
    31:   </div>
    32: </nav>
  
app/views/layouts/_user_sidebar.html.erb:30
app/views/layouts/application.html.erb:17
Started GET "/users" for ::1 at 2022-02-18 00:04:44 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 589)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 7669)
Completed 200 OK in 26ms (Views: 18.2ms | ActiveRecord: 1.6ms | Allocations: 10092)


Started GET "/users" for ::1 at 2022-02-18 00:05:53 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 210)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 587)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 7668)
Completed 200 OK in 25ms (Views: 16.7ms | ActiveRecord: 1.7ms | Allocations: 10085)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:08:47 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 4852)


Started GET "/" for ::1 at 2022-02-18 00:08:47 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 410)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:08:47 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.5ms | Allocations: 892)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4002)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 8968)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.0ms | Allocations: 11348)


Started POST "/users/sign_in" for ::1 at 2022-02-18 00:08:54 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 243ms (ActiveRecord: 0.3ms | Allocations: 4447)


Started GET "/" for ::1 at 2022-02-18 00:08:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 5297)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 482)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 10319)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 1.5ms | Allocations: 12653)


Started GET "/" for ::1 at 2022-02-18 00:11:01 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5297)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 481)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 10827)
Completed 200 OK in 34ms (Views: 25.2ms | ActiveRecord: 2.3ms | Allocations: 13240)


Started GET "/" for ::1 at 2022-02-18 00:11:10 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 5297)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 483)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 10829)
Completed 200 OK in 32ms (Views: 23.2ms | ActiveRecord: 2.5ms | Allocations: 13246)


Started GET "/" for ::1 at 2022-02-18 00:11:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 148)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 9079)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 2.0ms | Allocations: 10667)


Started GET "/" for ::1 at 2022-02-18 00:11:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 148)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 9066)
Completed 200 OK in 42ms (Views: 29.0ms | ActiveRecord: 3.4ms | Allocations: 10574)


Started GET "/" for ::1 at 2022-02-18 00:11:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 148)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 9067)
Completed 200 OK in 33ms (Views: 24.2ms | ActiveRecord: 2.7ms | Allocations: 10581)


Started GET "/" for ::1 at 2022-02-18 00:12:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 5299)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 10832)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 2.4ms | Allocations: 13158)


Started GET "/" for ::1 at 2022-02-18 00:12:21 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 10826)
Completed 200 OK in 35ms (Views: 26.4ms | ActiveRecord: 2.8ms | Allocations: 13227)


Started GET "/" for ::1 at 2022-02-18 00:12:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 10826)
Completed 200 OK in 30ms (Views: 22.9ms | ActiveRecord: 2.5ms | Allocations: 13245)


Started GET "/" for ::1 at 2022-02-18 00:12:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 10826)
Completed 200 OK in 42ms (Views: 29.5ms | ActiveRecord: 3.1ms | Allocations: 13239)


Started GET "/" for ::1 at 2022-02-18 00:12:48 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 10826)
Completed 200 OK in 33ms (Views: 22.7ms | ActiveRecord: 2.5ms | Allocations: 13259)


Started GET "/" for ::1 at 2022-02-18 00:13:51 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 10829)
Completed 200 OK in 38ms (Views: 30.0ms | ActiveRecord: 3.1ms | Allocations: 13245)


Started GET "/" for ::1 at 2022-02-18 00:13:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 148)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 9073)
Completed 200 OK in 27ms (Views: 19.5ms | ActiveRecord: 2.6ms | Allocations: 10672)


Started GET "/" for ::1 at 2022-02-18 00:14:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 5297)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 10826)
Completed 200 OK in 33ms (Views: 22.7ms | ActiveRecord: 2.4ms | Allocations: 13154)


Started GET "/" for ::1 at 2022-02-18 00:16:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 10818)
Completed 200 OK in 31ms (Views: 24.2ms | ActiveRecord: 2.1ms | Allocations: 13227)


Started GET "/" for ::1 at 2022-02-18 00:17:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 10810)
Completed 200 OK in 34ms (Views: 26.8ms | ActiveRecord: 2.5ms | Allocations: 13239)


Started GET "/" for ::1 at 2022-02-18 00:17:26 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 10815)
Completed 200 OK in 32ms (Views: 24.1ms | ActiveRecord: 2.5ms | Allocations: 13226)


Started GET "/" for ::1 at 2022-02-18 00:17:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 478)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 10816)
Completed 200 OK in 34ms (Views: 25.5ms | ActiveRecord: 2.3ms | Allocations: 13227)


Started GET "/books/new" for ::1 at 2022-02-18 00:17:48 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:24
  Rendered books/_form.html.erb (Duration: 18.5ms | Allocations: 8873)
  Rendered books/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 9191)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 482)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 14745)
Completed 200 OK in 34ms (Views: 28.7ms | ActiveRecord: 1.6ms | Allocations: 17179)


Started GET "/books/new" for ::1 at 2022-02-18 00:18:46 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 11.0ms | Allocations: 4434)
  Rendered books/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4748)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 480)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 10238)
Completed 200 OK in 38ms (Views: 22.4ms | ActiveRecord: 1.5ms | Allocations: 12706)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:19:14 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms | Allocations: 1836)


Started GET "/" for ::1 at 2022-02-18 00:19:14 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 288)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:19:14 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 565)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2075)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 6505)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 8114)


Started POST "/users/sign_in" for ::1 at 2022-02-18 00:19:27 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 241ms (ActiveRecord: 0.4ms | Allocations: 2836)


Started GET "/" for ::1 at 2022-02-18 00:19:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 5065)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 33)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 149)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 9488)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 1.9ms | Allocations: 11062)


Started GET "/" for ::1 at 2022-02-18 00:20:28 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 10791)
Completed 200 OK in 33ms (Views: 23.4ms | ActiveRecord: 2.4ms | Allocations: 13109)


Started GET "/" for ::1 at 2022-02-18 00:20:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5296)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 10786)
Completed 200 OK in 37ms (Views: 24.8ms | ActiveRecord: 2.8ms | Allocations: 13203)


Started GET "/" for ::1 at 2022-02-18 00:20:49 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 4653)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 9063)
Completed 200 OK in 36ms (Views: 22.7ms | ActiveRecord: 3.5ms | Allocations: 10645)


Started GET "/users" for ::1 at 2022-02-18 00:20:50 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 211)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 6692)
Completed 200 OK in 30ms (Views: 16.4ms | ActiveRecord: 2.2ms | Allocations: 8829)


Started GET "/" for ::1 at 2022-02-18 00:20:52 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:17
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 4659)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 9069)
Completed 200 OK in 23ms (Views: 16.8ms | ActiveRecord: 2.2ms | Allocations: 10674)


Started GET "/users" for ::1 at 2022-02-18 00:20:52 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1524)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 5957)
Completed 200 OK in 29ms (Views: 17.4ms | ActiveRecord: 2.5ms | Allocations: 7455)


Started GET "/authors" for ::1 at 2022-02-18 00:20:58 +0530
  
ActionController::RoutingError (uninitialized constant AuthorsController):
  
Started GET "/" for ::1 at 2022-02-18 00:22:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:18
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:21
  Rendered books/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 5344)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 10846)
Completed 200 OK in 42ms (Views: 29.7ms | ActiveRecord: 2.9ms | Allocations: 13154)


Started GET "/" for ::1 at 2022-02-18 00:23:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5454)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 10952)
Completed 200 OK in 44ms (Views: 27.8ms | ActiveRecord: 3.0ms | Allocations: 13370)


Started GET "/" for ::1 at 2022-02-18 00:24:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 5604)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5688)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.6ms | Allocations: 8080)


  
ActionView::Template::Error (undefined method `new' for Thu, 17 Feb 2022 13:03:19.239299000 UTC +00:00:ActiveSupport::TimeWithZone):
    21:           <td><%= book.name %></td>
    22:           <td><%= book.author.name %>
    23:           <td><%= book.description %>
    24:           <td><%= book.publish_at.new.to_date %>
    25:         </tr>
    26:       <% end %>
    27:     </tbody>
  
app/views/books/index.html.erb:24
app/views/books/index.html.erb:19
Started GET "/" for ::1 at 2022-02-18 00:24:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5450)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 10948)
Completed 200 OK in 38ms (Views: 24.9ms | ActiveRecord: 3.3ms | Allocations: 13370)


Started GET "/" for ::1 at 2022-02-18 00:25:19 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 5446)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 10943)
Completed 200 OK in 37ms (Views: 25.5ms | ActiveRecord: 2.8ms | Allocations: 13364)


Started GET "/users" for ::1 at 2022-02-18 00:25:21 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2005)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 211)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 6691)
Completed 200 OK in 26ms (Views: 16.7ms | ActiveRecord: 1.8ms | Allocations: 8908)


Started GET "/" for ::1 at 2022-02-18 00:25:25 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 4745)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 9155)
Completed 200 OK in 29ms (Views: 19.0ms | ActiveRecord: 2.7ms | Allocations: 10744)


Started GET "/users" for ::1 at 2022-02-18 00:25:27 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1524)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 5950)
Completed 200 OK in 27ms (Views: 14.5ms | ActiveRecord: 2.2ms | Allocations: 7453)


Started GET "/authors" for ::1 at 2022-02-18 00:30:12 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 12749)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 18297)
Completed 200 OK in 54ms (Views: 28.0ms | ActiveRecord: 10.5ms | Allocations: 29070)


Started GET "/authors/new" for ::1 at 2022-02-18 00:31:11 +0530
Processing by AuthorsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered authors/_form.html.erb (Duration: 5.6ms | Allocations: 2212)
  Rendered authors/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2524)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 451)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 7979)
Completed 200 OK in 27ms (Views: 19.8ms | ActiveRecord: 1.4ms | Allocations: 10418)


Started POST "/authors" for ::1 at 2022-02-18 00:31:16 +0530
Processing by AuthorsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "author"=>{"name"=>"Ink"}, "commit"=>"Create Author"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms | Allocations: 4843)


  
NameError (undefined local variable or method `author_params' for #<AuthorsController:0x000000000189e8>
Did you mean?  author_path):
  
app/controllers/authors_controller.rb:11:in `create'
Started POST "/authors" for ::1 at 2022-02-18 00:31:38 +0530
Processing by AuthorsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "author"=>{"name"=>"Ink"}, "commit"=>"Create Author"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 400 Bad Request in 19ms (ActiveRecord: 3.8ms | Allocations: 9947)


  
ActionController::ParameterMissing (param is missing or the value is empty: book):
  
app/controllers/authors_controller.rb:22:in `author_params'
app/controllers/authors_controller.rb:11:in `create'
Started POST "/authors" for ::1 at 2022-02-18 00:31:53 +0530
Processing by AuthorsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "author"=>{"name"=>"Ink"}, "commit"=>"Create Author"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mAuthor Create (1.2ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Ink"], ["created_at", "2022-02-17 19:01:53.985357"], ["updated_at", "2022-02-17 19:01:53.985357"]]
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
Redirected to http://localhost:3000/authors
Completed 302 Found in 35ms (ActiveRecord: 13.0ms | Allocations: 13631)


Started GET "/authors" for ::1 at 2022-02-18 00:31:54 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 11814)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 167)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 16463)
Completed 200 OK in 34ms (Views: 24.2ms | ActiveRecord: 6.0ms | Allocations: 18760)


Started GET "/authors" for ::1 at 2022-02-18 00:32:24 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2180)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 7670)
Completed 200 OK in 27ms (Views: 17.9ms | ActiveRecord: 1.6ms | Allocations: 10106)


Started GET "/authors/new" for ::1 at 2022-02-18 00:32:26 +0530
Processing by AuthorsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered authors/_form.html.erb (Duration: 5.5ms | Allocations: 1890)
  Rendered authors/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2165)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 6558)
Completed 200 OK in 19ms (Views: 13.2ms | ActiveRecord: 1.2ms | Allocations: 8209)


Started POST "/authors" for ::1 at 2022-02-18 00:32:30 +0530
Processing by AuthorsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "author"=>{"name"=>"Kayro"}, "commit"=>"Create Author"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mAuthor Create (0.6ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Kayro"], ["created_at", "2022-02-17 19:02:30.187903"], ["updated_at", "2022-02-17 19:02:30.187903"]]
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
Redirected to http://localhost:3000/authors
Completed 302 Found in 11ms (ActiveRecord: 3.2ms | Allocations: 3288)


Started GET "/authors" for ::1 at 2022-02-18 00:32:30 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1591)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6007)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 1.4ms | Allocations: 7527)


Started GET "/authors" for ::1 at 2022-02-18 00:32:46 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2193)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 452)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 7686)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.5ms | Allocations: 10020)


Started GET "/authors/new" for ::1 at 2022-02-18 00:32:48 +0530
Processing by AuthorsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered authors/_form.html.erb (Duration: 5.3ms | Allocations: 1869)
  Rendered authors/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2144)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 145)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6537)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 1.0ms | Allocations: 8184)


Started POST "/authors" for ::1 at 2022-02-18 00:32:50 +0530
Processing by AuthorsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "author"=>{"name"=>"Kim"}, "commit"=>"Create Author"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mAuthor Create (0.4ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Kim"], ["created_at", "2022-02-17 19:02:50.784395"], ["updated_at", "2022-02-17 19:02:50.784395"]]
  ↳ app/controllers/authors_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/authors_controller.rb:12:in `create'
Redirected to http://localhost:3000/authors
Completed 302 Found in 11ms (ActiveRecord: 2.4ms | Allocations: 3295)


Started GET "/authors" for ::1 at 2022-02-18 00:32:50 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1603)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 146)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6026)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 1.2ms | Allocations: 7555)


Started GET "/authors" for ::1 at 2022-02-18 00:33:00 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2210)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 7699)
Completed 200 OK in 34ms (Views: 25.4ms | ActiveRecord: 2.4ms | Allocations: 10019)


Started GET "/authors" for ::1 at 2022-02-18 00:33:07 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 6013)
Completed 200 OK in 29ms (Views: 18.0ms | ActiveRecord: 2.8ms | Allocations: 7605)


Started GET "/authors/new" for ::1 at 2022-02-18 00:33:08 +0530
Processing by AuthorsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered authors/_form.html.erb (Duration: 6.4ms | Allocations: 1869)
  Rendered authors/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2144)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 6537)
Completed 200 OK in 22ms (Views: 14.3ms | ActiveRecord: 1.4ms | Allocations: 8104)


Started GET "/authors" for ::1 at 2022-02-18 00:33:09 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 6013)
Completed 200 OK in 18ms (Views: 11.5ms | ActiveRecord: 1.7ms | Allocations: 7512)


Started GET "/categories" for ::1 at 2022-02-18 00:33:10 +0530
  
ActionController::RoutingError (uninitialized constant CategoriesController
Did you mean?  TurboDeviseController):
  
Started GET "/categories" for ::1 at 2022-02-18 00:37:37 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 139)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 507)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5736)
Completed 200 OK in 31ms (Views: 10.6ms | ActiveRecord: 3.0ms | Allocations: 17450)


Started GET "/authors" for ::1 at 2022-02-18 00:41:43 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 12792)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 164)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 17425)
Completed 200 OK in 41ms (Views: 27.5ms | ActiveRecord: 7.5ms | Allocations: 21224)


Started GET "/users" for ::1 at 2022-02-18 00:41:44 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2006)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 6693)
Completed 200 OK in 25ms (Views: 15.8ms | ActiveRecord: 1.8ms | Allocations: 9107)


Started GET "/" for ::1 at 2022-02-18 00:41:44 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 8632)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.9ms | Allocations: 164)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 13255)
Completed 200 OK in 41ms (Views: 23.2ms | ActiveRecord: 5.0ms | Allocations: 19668)


Started GET "/users" for ::1 at 2022-02-18 00:41:45 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1524)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 5950)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 2.1ms | Allocations: 7545)


Started GET "/authors" for ::1 at 2022-02-18 00:41:46 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 6013)
Completed 200 OK in 26ms (Views: 21.0ms | ActiveRecord: 1.5ms | Allocations: 7519)


Started GET "/categories" for ::1 at 2022-02-18 00:41:47 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 15)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 4451)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.4ms | Allocations: 5962)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP INDEX  "index_users_roles_on_user_id_and_role_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_roles_on_name_and_resource_type_and_resource_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users_roles"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "books_categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 00:43:27 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 4.4ms | Allocations: 6735)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:43:28 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1713)


Started GET "/" for ::1 at 2022-02-18 00:43:28 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms | Allocations: 3049)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:43:28 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 908)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4554)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 68.5ms | Allocations: 35641)
Completed 200 OK in 82ms (Views: 74.3ms | ActiveRecord: 0.0ms | Allocations: 44860)


Started GET "/users/sign_up" for ::1 at 2022-02-18 00:43:29 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.8ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 6651)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.0ms | Allocations: 8247)


Started POST "/users" for ::1 at 2022-02-18 00:44:11 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:14:11.467546"], ["updated_at", "2022-02-17 19:14:11.467546"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 335ms (ActiveRecord: 6.4ms | Allocations: 9804)


Started GET "/" for ::1 at 2022-02-18 00:44:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 53.7ms | Allocations: 29591)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 541)
  Rendered layout layouts/application.html.erb (Duration: 61.8ms | Allocations: 34785)
Completed 200 OK in 75ms (Views: 51.2ms | ActiveRecord: 12.7ms | Allocations: 41297)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (1.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:14:35.471301"], ["updated_at", "2022-02-17 19:14:35.471301"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.7ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 00:44:40 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2676)


Started GET "/" for ::1 at 2022-02-18 00:44:40 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 346)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:44:40 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1068)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 5401)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 6178)


Started POST "/users/sign_in" for ::1 at 2022-02-18 00:44:47 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 28ms (ActiveRecord: 0.4ms | Allocations: 4408)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1077)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 5364)
Completed 200 OK in 241ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6125)


Started GET "/users/sign_up" for ::1 at 2022-02-18 00:44:50 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 77)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1024)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 5276)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 5992)


Started POST "/users" for ::1 at 2022-02-18 00:44:58 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "vivek@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:14:58.614740"], ["updated_at", "2022-02-17 19:14:58.614740"]]
  [1m[36mTRANSACTION (53.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 298ms (ActiveRecord: 54.5ms | Allocations: 5268)


Started GET "/" for ::1 at 2022-02-18 00:44:58 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 4727)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 162)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 9161)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 2.4ms | Allocations: 10690)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:15:18.758962"], ["updated_at", "2022-02-17 19:15:18.758962"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-18 00:45:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 4652)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 9077)
Completed 200 OK in 26ms (Views: 19.2ms | ActiveRecord: 2.5ms | Allocations: 10572)


Started GET "/" for ::1 at 2022-02-18 00:45:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4652)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 9077)
Completed 200 OK in 24ms (Views: 18.5ms | ActiveRecord: 2.5ms | Allocations: 10584)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:45:39 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 1736)


Started GET "/" for ::1 at 2022-02-18 00:45:39 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 288)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:45:39 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1008)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 5250)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 5968)


Started POST "/users/sign_in" for ::1 at 2022-02-18 00:45:44 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 242ms (ActiveRecord: 0.4ms | Allocations: 2449)


Started GET "/" for ::1 at 2022-02-18 00:45:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 7444)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.2ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 11863)
Completed 200 OK in 21ms (Views: 17.2ms | ActiveRecord: 1.4ms | Allocations: 13375)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:48:04 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms (ActiveRecord: 5.0ms | Allocations: 15488)


Started GET "/" for ::1 at 2022-02-18 00:48:04 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 527)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:48:04 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.5ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4549)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 66.4ms | Allocations: 35045)
Completed 200 OK in 74ms (Views: 72.4ms | ActiveRecord: 0.0ms | Allocations: 39449)


Started GET "/users/sign_up" for ::1 at 2022-02-18 00:48:07 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 6651)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 8245)


Started POST "/users" for ::1 at 2022-02-18 00:48:16 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"harsh@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "harsh@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "harsh@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:18:16.278124"], ["updated_at", "2022-02-17 19:18:16.278124"]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 3], ["role_id", 2]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 378ms (ActiveRecord: 14.2ms | Allocations: 35331)


Started GET "/" for ::1 at 2022-02-18 00:48:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 13214)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 540)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 18407)
Completed 200 OK in 49ms (Views: 31.0ms | ActiveRecord: 8.3ms | Allocations: 24861)


Started GET "/authors" for ::1 at 2022-02-18 00:48:57 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 11603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 216)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 16304)
Completed 200 OK in 43ms (Views: 20.2ms | ActiveRecord: 9.4ms | Allocations: 26825)


Started GET "/categories" for ::1 at 2022-02-18 00:48:58 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 133)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4841)
Completed 200 OK in 21ms (Views: 8.9ms | ActiveRecord: 0.8ms | Allocations: 9541)


Started GET "/users" for ::1 at 2022-02-18 00:48:59 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2008)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.7ms | Allocations: 212)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 6695)
Completed 200 OK in 21ms (Views: 12.9ms | ActiveRecord: 1.5ms | Allocations: 9123)


Started GET "/" for ::1 at 2022-02-18 00:49:00 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 8096)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 12781)
Completed 200 OK in 45ms (Views: 24.1ms | ActiveRecord: 6.8ms | Allocations: 19019)


Started GET "/users" for ::1 at 2022-02-18 00:49:00 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1516)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 5944)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 1.2ms | Allocations: 7550)


Started GET "/authors" for ::1 at 2022-02-18 00:49:01 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1534)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 5959)
Completed 200 OK in 20ms (Views: 12.5ms | ActiveRecord: 1.6ms | Allocations: 7464)


Started GET "/" for ::1 at 2022-02-18 00:49:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 4652)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 9077)
Completed 200 OK in 29ms (Views: 22.7ms | ActiveRecord: 2.6ms | Allocations: 10585)


Started GET "/users" for ::1 at 2022-02-18 00:49:03 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1515)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5941)
Completed 200 OK in 20ms (Views: 11.7ms | ActiveRecord: 2.1ms | Allocations: 7456)


Started GET "/authors" for ::1 at 2022-02-18 00:49:03 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1534)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 5959)
Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 1.8ms | Allocations: 7476)


Started GET "/users" for ::1 at 2022-02-18 00:49:04 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10
  Rendered users/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1515)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 5941)
Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 1.7ms | Allocations: 7448)


Started GET "/users" for ::1 at 2022-02-18 00:49:56 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 905)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 498)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 6475)
Completed 200 OK in 30ms (Views: 18.5ms | ActiveRecord: 1.5ms | Allocations: 8815)


Started GET "/users" for ::1 at 2022-02-18 00:50:08 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 903)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 498)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6473)
Completed 200 OK in 28ms (Views: 16.2ms | ActiveRecord: 1.4ms | Allocations: 8934)


Started GET "/users" for ::1 at 2022-02-18 00:50:20 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 906)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 498)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 6567)
Completed 200 OK in 41ms (Views: 15.8ms | ActiveRecord: 0.8ms | Allocations: 9036)


Started GET "/categories" for ::1 at 2022-02-18 00:50:36 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 134)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 502)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 5713)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.3ms | Allocations: 8211)


Started GET "/authors" for ::1 at 2022-02-18 00:50:37 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2086)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.6ms | Allocations: 211)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 6769)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 1.6ms | Allocations: 9067)


Started GET "/users" for ::1 at 2022-02-18 00:50:38 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 903)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 5646)
Completed 200 OK in 18ms (Views: 12.3ms | ActiveRecord: 0.9ms | Allocations: 7885)


Started GET "/authors" for ::1 at 2022-02-18 00:50:39 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1601)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 6076)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 1.5ms | Allocations: 7705)


Started GET "/users" for ::1 at 2022-02-18 00:50:41 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 581)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.8ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5017)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 0.9ms | Allocations: 6528)


Started GET "/" for ::1 at 2022-02-18 00:50:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 5326)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.5ms | Allocations: 211)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 10009)
Completed 200 OK in 27ms (Views: 20.8ms | ActiveRecord: 2.0ms | Allocations: 12162)


Started GET "/users" for ::1 at 2022-02-18 00:50:44 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 581)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 5017)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.9ms | Allocations: 6601)


Started GET "/authors" for ::1 at 2022-02-18 00:50:44 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1534)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.4ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 5959)
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 1.4ms | Allocations: 7476)


Started GET "/users" for ::1 at 2022-02-18 00:50:45 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 581)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.6ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 5017)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 1.4ms | Allocations: 6518)


Started GET "/" for ::1 at 2022-02-18 00:50:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 4650)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 9075)
Completed 200 OK in 25ms (Views: 19.7ms | ActiveRecord: 2.1ms | Allocations: 10584)


Started GET "/users" for ::1 at 2022-02-18 00:50:48 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 581)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_user_sidebar.html.erb (Duration: 0.3ms | Allocations: 159)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 5017)
Completed 200 OK in 19ms (Views: 10.1ms | ActiveRecord: 1.2ms | Allocations: 6510)


Started GET "/users" for ::1 at 2022-02-18 00:51:39 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 902)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.0ms | Allocations: 1427)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 7398)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.6ms | Allocations: 9715)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <nav class="navbar navbar-expand-lg bg-light">
  <div class="container-fluid">
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav me-auto my-2 my-lg-0">
        <li class="nav-item">
          <strong><%= link_to 'Home', root_path, class: "nav-link" %></strong>
        </li>
        <% admin? %>
          <li class="nav-item">
            <strong><%= link_to 'Users',users_path, class: "nav-link" %></strong>
          </li>
        <% end %>
        <li class="nav-item">
          <strong><%= link_to 'Authors', authors_path, class: "nav-link"  %></strong>
        </li>
        <li class="nav-item">
          <strong><%= link_to 'Categories', categories_path, class: "nav-link" %></strong>
        </li>
      </ul>
    </div>
    <strong><div class="user-name-hi"><%= 'Hello' %>,</div> <%= current_user.email %> </strong> &ensp;
    <%= link_to destroy_user_session_path, method: :delete, class: 'btn btn-danger btn-sm'  do %>
      <i class="fas fa-power-off"></i>Logout
    <% end %>
  </div>
</nav>

):
1:    <nav class="navbar navbar-expand-lg bg-light">
2:      <div class="container-fluid">
3:        <div class="collapse navbar-collapse" id="navbarNavDropdown">
4:          <ul class="navbar-nav me-auto my-2 my-lg-0">
5:            <li class="nav-item">
6:              <strong><%= link_to 'Home', root_path, class: "nav-link" %></strong>
7:            </li>
8:            <% admin? %>
9:              <li class="nav-item">
10:                <strong><%= link_to 'Users',users_path, class: "nav-link" %></strong>
11:              </li>
12:            <% end %>
13:            <li class="nav-item">
14:              <strong><%= link_to 'Authors', authors_path, class: "nav-link"  %></strong>
15:            </li>
16:            <li class="nav-item">
17:              <strong><%= link_to 'Categories', categories_path, class: "nav-link" %></strong>
18:            </li>
19:          </ul>
20:        </div>
21:        <strong><div class="user-name-hi"><%= 'Hello' %>,</div> <%= current_user.email %> </strong> &ensp;
22:        <%= link_to destroy_user_session_path, method: :delete, class: 'btn btn-danger btn-sm'  do %>
23:          <i class="fas fa-power-off"></i>Logout
24:        <% end %>
25:      </div>
26:    </nav>
  
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/_user_sidebar.html.erb:29: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/application.html.erb:15
Started GET "/users" for ::1 at 2022-02-18 00:52:01 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 902)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.3ms | Allocations: 1579)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7643)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 1.3ms | Allocations: 10166)


Started GET "/users" for ::1 at 2022-02-18 00:52:19 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 902)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 4.6ms | Allocations: 1570)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 7544)
Completed 200 OK in 34ms (Views: 20.5ms | ActiveRecord: 2.8ms | Allocations: 9961)


Started GET "/users" for ::1 at 2022-02-18 00:52:45 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 906)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.9ms | Allocations: 1518)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 7586)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 1.3ms | Allocations: 10008)


Started GET "/" for ::1 at 2022-02-18 00:52:50 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 5326)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 10586)
Completed 200 OK in 38ms (Views: 29.5ms | ActiveRecord: 2.9ms | Allocations: 12796)


Started GET "/" for ::1 at 2022-02-18 00:56:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 37.1ms | Allocations: 19425)
  Rendered layouts/_messages.html.erb (Duration: 1.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1137)
  Rendered layout layouts/application.html.erb (Duration: 49.1ms | Allocations: 25665)
Completed 200 OK in 72ms (Views: 40.5ms | ActiveRecord: 13.6ms | Allocations: 39072)


Started GET "/users/sign_out" for ::1 at 2022-02-18 00:56:03 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2413)


Started GET "/" for ::1 at 2022-02-18 00:56:03 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 305)


Started GET "/users/sign_in" for ::1 at 2022-02-18 00:56:03 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 582)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2108)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6537)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 8218)


Started POST "/users/sign_in" for ::1 at 2022-02-18 00:56:11 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 240ms (ActiveRecord: 0.4ms | Allocations: 3270)


Started GET "/" for ::1 at 2022-02-18 00:56:12 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 5906)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 826)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 11114)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 1.8ms | Allocations: 12690)


Started GET "/categories" for ::1 at 2022-02-18 00:56:14 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2203)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.2ms | Allocations: 838)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7500)
Completed 200 OK in 27ms (Views: 14.9ms | ActiveRecord: 1.7ms | Allocations: 12184)


Started GET "/categories/new" for ::1 at 2022-02-18 00:56:16 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 6.2ms | Allocations: 2124)
  Rendered categories/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2403)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7467)
Completed 200 OK in 28ms (Views: 15.0ms | ActiveRecord: 4.3ms | Allocations: 11586)


Started GET "/categories/new" for ::1 at 2022-02-18 00:56:30 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 7.5ms | Allocations: 2190)
  Rendered categories/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2502)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1159)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 8663)
Completed 200 OK in 33ms (Views: 22.1ms | ActiveRecord: 1.4ms | Allocations: 11004)


Started POST "/categories" for ::1 at 2022-02-18 00:56:38 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :type. Context: { controller: CategoriesController, action: create, request: #<ActionDispatch::Request:0x00007f264c17eb88>, params: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category", "controller"=>"categories", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.4ms | Allocations: 11715)


  
NameError (undefined local variable or method `new_categories_path' for #<CategoriesController:0x0000000001d2b8>
Did you mean?  new_category_path):
  
app/controllers/categories_controller.rb:15:in `create'
Started POST "/categories" for ::1 at 2022-02-18 00:57:08 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :type. Context: { controller: CategoriesController, action: create, request: #<ActionDispatch::Request:0x00007f2658384750>, params: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category", "controller"=>"categories", "action"=>"create"} }[0m
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 35ms (ActiveRecord: 6.7ms | Allocations: 19987)


Started GET "/categories/new" for ::1 at 2022-02-18 00:57:08 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 20.1ms | Allocations: 11664)
  Rendered categories/new.html.erb within layouts/application (Duration: 20.3ms | Allocations: 11754)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 17122)
Completed 200 OK in 33ms (Views: 25.4ms | ActiveRecord: 4.9ms | Allocations: 19353)


Started POST "/categories" for ::1 at 2022-02-18 00:57:16 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Romantic"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :type. Context: { controller: CategoriesController, action: create, request: #<ActionDispatch::Request:0x00007f26585632d8>, params: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Romantic"}, "commit"=>"Create Category", "controller"=>"categories", "action"=>"create"} }[0m
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 2602)


Started GET "/categories/new" for ::1 at 2022-02-18 00:57:17 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 4.5ms | Allocations: 1529)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1604)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 6669)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.9ms | Allocations: 8206)


Started GET "/categories" for ::1 at 2022-02-18 00:57:18 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1904)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 6985)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 1.3ms | Allocations: 8605)


Started GET "/categories" for ::1 at 2022-02-18 00:57:36 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 11356)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 842)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 16757)
Completed 200 OK in 48ms (Views: 23.4ms | ActiveRecord: 8.8ms | Allocations: 28037)


Started GET "/categories/new" for ::1 at 2022-02-18 00:57:36 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 5.1ms | Allocations: 1649)
  Rendered categories/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1726)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6791)
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 4.0ms | Allocations: 9429)


Started POST "/categories" for ::1 at 2022-02-18 00:57:40 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms | Allocations: 2080)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Novel'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Category.inheritance_column to use another column for that information.):
  
app/controllers/categories_controller.rb:11:in `create'
Started POST "/categories" for ::1 at 2022-02-18 00:58:33 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"type"=>"Novel"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.9ms | Allocations: 2013)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Novel'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Category.inheritance_column to use another column for that information.):
  
app/controllers/categories_controller.rb:11:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_users_roles_on_user_id_and_role_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_roles_on_name_and_resource_type_and_resource_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users_roles"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "books_categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-18 01:00:20 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 34ms (ActiveRecord: 4.7ms | Allocations: 11610)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:00:20 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4562)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 218)
  Rendered layout layouts/application.html.erb (Duration: 61.2ms | Allocations: 35373)
Completed 200 OK in 76ms (Views: 67.5ms | ActiveRecord: 0.0ms | Allocations: 44772)


Started GET "/users/sign_up" for ::1 at 2022-02-18 01:00:22 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 6651)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms | Allocations: 8249)


Started POST "/users" for ::1 at 2022-02-18 01:00:33 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:30:33.736495"], ["updated_at", "2022-02-17 19:30:33.736495"]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:30:33.852854"], ["updated_at", "2022-02-17 19:30:33.852854"]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.7ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 392ms (ActiveRecord: 11.2ms | Allocations: 36800)


Started GET "/" for ::1 at 2022-02-18 01:00:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 13215)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.2ms | Allocations: 1184)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 19052)
Completed 200 OK in 50ms (Views: 32.5ms | ActiveRecord: 7.8ms | Allocations: 25541)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (7.7ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 01:01:43 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 4.1ms | Allocations: 2931)


Started GET "/" for ::1 at 2022-02-18 01:01:43 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 481)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:01:43 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 156)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1236)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5670)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 8436)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:01:51 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 903)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 6882)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 222)
  Rendered layout layouts/application.html.erb (Duration: 69.4ms | Allocations: 37993)
Completed 200 OK in 108ms (Views: 76.0ms | ActiveRecord: 4.9ms | Allocations: 51131)


Started GET "/users/sign_up" for ::1 at 2022-02-18 01:01:55 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.2ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 222)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2218)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 6653)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 8241)


Started POST "/users" for ::1 at 2022-02-18 01:02:04 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:32:05.187056"], ["updated_at", "2022-02-17 19:32:05.187056"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 257ms (ActiveRecord: 4.2ms | Allocations: 11565)


Started GET "/" for ::1 at 2022-02-18 01:02:05 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 94.0ms | Allocations: 29589)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 49)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.5ms | Allocations: 1190)
  Rendered layout layouts/application.html.erb (Duration: 104.5ms | Allocations: 35433)
Completed 200 OK in 158ms (Views: 97.0ms | ActiveRecord: 12.2ms | Allocations: 42395)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (1.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.9ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:32:52.035237"], ["updated_at", "2022-02-17 19:32:52.035237"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-18 01:02:58 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 41.0ms | Allocations: 21773)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 870)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 27122)
Completed 200 OK in 69ms (Views: 38.9ms | ActiveRecord: 14.8ms | Allocations: 40149)


Started GET "/users/sign_out" for ::1 at 2022-02-18 01:03:00 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 3046)


Started GET "/" for ::1 at 2022-02-18 01:03:00 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 357)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:03:00 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 156)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1242)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 5671)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 6999)


Started GET "/users/sign_up" for ::1 at 2022-02-18 01:03:01 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 99)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1231)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5664)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 7077)


Started POST "/users" for ::1 at 2022-02-18 01:03:09 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "vivek@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:33:09.955998"], ["updated_at", "2022-02-17 19:33:09.955998"]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 3], ["role_id", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 261ms (ActiveRecord: 9.2ms | Allocations: 12439)


Started GET "/" for ::1 at 2022-02-18 01:03:09 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 4661)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 3]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 748)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 9681)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 2.1ms | Allocations: 11211)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "moderator"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (1.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "moderator"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:33:26.622082"], ["updated_at", "2022-02-17 19:33:26.622082"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 3], ["LIMIT", 1]]
  [1m[36mRole Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.6ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 3], ["role_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."name" = $2[0m  [["user_id", 3], ["name", "moderator"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (0.5ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1 AND "users_roles"."role_id" = $2[0m  [["user_id", 3], ["role_id", 3]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "users_roles" ON "users"."id" = "users_roles"."user_id" WHERE "users_roles"."role_id" = $1 LIMIT $2[0m  [["role_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole::HABTM_Users Delete All (0.5ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."role_id" = $1[0m  [["role_id", 3]]
  [1m[36mRole Destroy (0.5ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Pluck (0.7ms)[0m  [1m[34mSELECT "roles"."name" FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_users_roles_on_user_id_and_role_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_roles_on_name_and_resource_type_and_resource_id"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users_roles"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "books_categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (76.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 01:06:06 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 4.6ms | Allocations: 6725)


Started GET "/" for ::1 at 2022-02-18 01:06:06 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms | Allocations: 3025)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:06:06 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 908)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 4554)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 64.4ms | Allocations: 35451)
Completed 200 OK in 80ms (Views: 70.5ms | ActiveRecord: 0.0ms | Allocations: 44694)


Started GET "/users/sign_up" for ::1 at 2022-02-18 01:06:08 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 6651)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 8241)


Started POST "/users" for ::1 at 2022-02-18 01:06:15 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:36:15.955536"], ["updated_at", "2022-02-17 19:36:15.955536"]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:36:16.068375"], ["updated_at", "2022-02-17 19:36:16.068375"]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.6ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 376ms (ActiveRecord: 10.4ms | Allocations: 36723)


Started GET "/" for ::1 at 2022-02-18 01:06:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 29.0ms | Allocations: 13213)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.0ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 19044)
Completed 200 OK in 51ms (Views: 32.1ms | ActiveRecord: 8.2ms | Allocations: 25527)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.5ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:37:00.879244"], ["updated_at", "2022-02-17 19:37:00.879244"]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_users_roles_on_user_id_and_role_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_roles_on_name_and_resource_type_and_resource_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users_roles"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 01:08:13 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 30ms (ActiveRecord: 5.5ms | Allocations: 6729)


Started GET "/" for ::1 at 2022-02-18 01:08:13 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 8ms (ActiveRecord: 0.0ms | Allocations: 3049)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:08:13 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 908)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4554)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 68.4ms | Allocations: 35636)
Completed 200 OK in 82ms (Views: 73.6ms | ActiveRecord: 0.0ms | Allocations: 44875)


Started GET "/users/sign_up" for ::1 at 2022-02-18 01:08:15 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 243)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 220)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 6651)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.0ms | Allocations: 8253)


Started POST "/users" for ::1 at 2022-02-18 01:08:24 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:38:24.734047"], ["updated_at", "2022-02-17 19:38:24.734047"]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 346ms (ActiveRecord: 7.4ms | Allocations: 9829)


Started GET "/" for ::1 at 2022-02-18 01:08:24 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 56.4ms | Allocations: 29592)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 1180)
  Rendered layout layouts/application.html.erb (Duration: 65.2ms | Allocations: 35425)
Completed 200 OK in 113ms (Views: 54.8ms | ActiveRecord: 12.1ms | Allocations: 41927)


Started GET "/users/sign_out" for ::1 at 2022-02-18 01:08:28 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2694)


Started GET "/" for ::1 at 2022-02-18 01:08:28 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 342)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:08:28 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 126)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1068)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 5403)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 6179)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:39:11.625691"], ["updated_at", "2022-02-17 19:39:11.625691"]]
  [1m[36mTRANSACTION (51.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_up" for ::1 at 2022-02-18 01:09:27 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 101)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1264)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 5711)
Completed 200 OK in 15ms (Views: 8.3ms | ActiveRecord: 3.0ms | Allocations: 9321)


Started POST "/users" for ::1 at 2022-02-18 01:09:37 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "vivek@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-17 19:39:37.455535"], ["updated_at", "2022-02-17 19:39:37.455535"]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mRole Create (0.4ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-17 19:39:37.475411"], ["updated_at", "2022-02-17 19:39:37.475411"]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  ↳ app/models/user.rb:11:in `assign_default_role'
  [1m[36mTRANSACTION (55.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 343ms (ActiveRecord: 61.7ms | Allocations: 24887)


Started GET "/" for ::1 at 2022-02-18 01:09:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 36.9ms | Allocations: 10762)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 813)
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 16062)
Completed 200 OK in 61ms (Views: 34.7ms | ActiveRecord: 12.4ms | Allocations: 22638)


Started GET "/users/sign_out" for ::1 at 2022-02-18 01:09:48 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 2338)


Started GET "/" for ::1 at 2022-02-18 01:09:48 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 295)


Started GET "/users/sign_in" for ::1 at 2022-02-18 01:09:48 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 156)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1227)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 5656)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 6942)


Started POST "/users/sign_in" for ::1 at 2022-02-18 01:09:54 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 244ms (ActiveRecord: 0.6ms | Allocations: 3058)


Started GET "/" for ::1 at 2022-02-18 01:09:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4855)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 826)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 10063)
Completed 200 OK in 19ms (Views: 15.6ms | ActiveRecord: 1.8ms | Allocations: 11649)


Started GET "/categories" for ::1 at 2022-02-18 01:09:56 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2205)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 839)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 7505)
Completed 200 OK in 29ms (Views: 15.1ms | ActiveRecord: 1.9ms | Allocations: 12207)


Started GET "/categories/new" for ::1 at 2022-02-18 01:09:57 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 5.0ms | Allocations: 2127)
  Rendered categories/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2407)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 7472)
Completed 200 OK in 25ms (Views: 14.3ms | ActiveRecord: 4.3ms | Allocations: 10191)


Started POST "/categories" for ::1 at 2022-02-18 01:10:00 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"category_type"=>"Music"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_type. Context: { controller: CategoriesController, action: create, request: #<ActionDispatch::Request:0x00007fcf1043ccb8>, params: {"authenticity_token"=>"[FILTERED]", "category"=>{"category_type"=>"Music"}, "commit"=>"Create Category", "controller"=>"categories", "action"=>"create"} }[0m
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 20ms (ActiveRecord: 0.4ms | Allocations: 8726)


Started GET "/categories/new" for ::1 at 2022-02-18 01:10:00 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 4.6ms | Allocations: 1648)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1730)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.7ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 6957)
Completed 200 OK in 35ms (Views: 30.7ms | ActiveRecord: 1.0ms | Allocations: 8703)


Started GET "/categories/new" for ::1 at 2022-02-18 01:11:01 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 36.8ms | Allocations: 23527)
  Rendered categories/new.html.erb within layouts/application (Duration: 38.1ms | Allocations: 24205)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 100.6ms | Allocations: 56722)
Completed 200 OK in 158ms (Views: 97.9ms | ActiveRecord: 14.1ms | Allocations: 80980)


Started POST "/categories" for ::1 at 2022-02-18 01:11:05 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"category_type"=>"Music"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2253)


  
ActiveModel::UnknownAttributeError (unknown attribute 'category_type' for Category.):
  
app/controllers/categories_controller.rb:11:in `create'
Started GET "/categories" for ::1 at 2022-02-18 01:11:44 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 11706)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 1164)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 18055)
Completed 200 OK in 48ms (Views: 24.4ms | ActiveRecord: 7.6ms | Allocations: 29746)


Started GET "/categories/new" for ::1 at 2022-02-18 01:11:45 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 6.3ms | Allocations: 2002)
  Rendered categories/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2280)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7348)
Completed 200 OK in 24ms (Views: 14.5ms | ActiveRecord: 3.8ms | Allocations: 10043)


Started POST "/categories" for ::1 at 2022-02-18 01:11:50 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"category_type"=>"Music"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_type. Context: { controller: CategoriesController, action: create, request: #<ActionDispatch::Request:0x00007f367866db58>, params: {"authenticity_token"=>"[FILTERED]", "category"=>{"category_type"=>"Music"}, "commit"=>"Create Category", "controller"=>"categories", "action"=>"create"} }[0m
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 20ms (ActiveRecord: 0.5ms | Allocations: 10465)


Started GET "/categories/new" for ::1 at 2022-02-18 01:11:50 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 3.6ms | Allocations: 1648)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1730)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6895)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 1.2ms | Allocations: 8634)


Started GET "/categories/new" for ::1 at 2022-02-18 01:12:58 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 38.2ms | Allocations: 23423)
  Rendered categories/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 24101)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.2ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 99.5ms | Allocations: 56631)
Completed 200 OK in 155ms (Views: 98.4ms | ActiveRecord: 12.2ms | Allocations: 80924)


Started POST "/categories" for ::1 at 2022-02-18 01:13:05 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Music"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 17ms (ActiveRecord: 0.4ms | Allocations: 10745)


Started GET "/categories/new" for ::1 at 2022-02-18 01:13:05 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 9.2ms | Allocations: 1642)
  Rendered categories/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 1724)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 6938)
Completed 200 OK in 83ms (Views: 62.4ms | ActiveRecord: 1.2ms | Allocations: 8670)


Started GET "/rails/route" for ::1 at 2022-02-18 01:13:55 +0530
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/rails/info/routes?path=c" for ::1 at 2022-02-18 01:13:57 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"c"}
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 3864)


Started GET "/rails/info/routes?path=ca" for ::1 at 2022-02-18 01:14:00 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"ca"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1241)


Started GET "/rails/info/routes?path=cate" for ::1 at 2022-02-18 01:14:01 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"cate"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1177)


Started GET "/rails/info/routes?path=categ" for ::1 at 2022-02-18 01:14:02 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"categ"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1178)


Started GET "/rails/info/routes?path=categor" for ::1 at 2022-02-18 01:14:03 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"categor"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1178)


Started GET "/categories/new" for ::1 at 2022-02-18 01:16:21 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 36.4ms | Allocations: 23423)
  Rendered categories/new.html.erb within layouts/application (Duration: 37.6ms | Allocations: 24101)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 98.5ms | Allocations: 56702)
Completed 200 OK in 151ms (Views: 95.3ms | ActiveRecord: 13.6ms | Allocations: 80974)


Started GET "/users" for ::1 at 2022-02-18 01:16:22 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 898)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 14.8ms | Allocations: 1296)
  Rendered layout layouts/application.html.erb (Duration: 53.8ms | Allocations: 6686)
Completed 200 OK in 59ms (Views: 54.1ms | ActiveRecord: 1.5ms | Allocations: 9117)


Started GET "/" for ::1 at 2022-02-18 01:16:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (22.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 31.3ms | Allocations: 14070)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 19417)
Completed 200 OK in 76ms (Views: 31.9ms | ActiveRecord: 30.9ms | Allocations: 25876)


Started GET "/users" for ::1 at 2022-02-18 01:16:28 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 569)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.7ms | Allocations: 1135)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 5985)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 1.3ms | Allocations: 7622)


Started GET "/authors" for ::1 at 2022-02-18 01:16:29 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2250)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 7548)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 1.5ms | Allocations: 9971)


Started GET "/categories" for ::1 at 2022-02-18 01:16:31 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1881)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6962)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 1.5ms | Allocations: 8671)


Started GET "/authors" for ::1 at 2022-02-18 01:16:34 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 6685)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 1.1ms | Allocations: 8183)


Started GET "/categories" for ::1 at 2022-02-18 01:16:35 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1532)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 6613)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 1.0ms | Allocations: 8105)


Started GET "/categories/new" for ::1 at 2022-02-18 01:16:36 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 3.4ms | Allocations: 1581)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1656)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6721)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 8245)


Started POST "/categories" for ::1 at 2022-02-18 01:16:46 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Music"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 6224)


Started GET "/categories/new" for ::1 at 2022-02-18 01:16:46 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 3.8ms | Allocations: 1640)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1722)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6888)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 0.9ms | Allocations: 8611)


Started GET "/categories" for ::1 at 2022-02-18 01:17:51 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 11364)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 841)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 16674)
Completed 200 OK in 45ms (Views: 23.0ms | ActiveRecord: 8.7ms | Allocations: 27922)


Started GET "/categories/new" for ::1 at 2022-02-18 01:17:53 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 3.8ms | Allocations: 1648)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1725)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 6790)
Completed 200 OK in 20ms (Views: 11.7ms | ActiveRecord: 3.4ms | Allocations: 9410)


Started GET "/categories/new" for ::1 at 2022-02-18 01:20:18 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 20.1ms | Allocations: 11863)
  Rendered categories/new.html.erb within layouts/application (Duration: 21.3ms | Allocations: 12182)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1165)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 18496)
Completed 200 OK in 70ms (Views: 30.2ms | ActiveRecord: 10.8ms | Allocations: 31159)


Started GET "/categories/new" for ::1 at 2022-02-18 01:20:36 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 32.8ms | Allocations: 23423)
  Rendered categories/new.html.erb within layouts/application (Duration: 34.1ms | Allocations: 24101)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 91.8ms | Allocations: 56527)
Completed 200 OK in 142ms (Views: 88.9ms | ActiveRecord: 13.4ms | Allocations: 80790)


Started POST "/categories" for ::1 at 2022-02-18 01:20:40 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Moy"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/categories/new
Completed 302 Found in 22144ms (ActiveRecord: 0.4ms | Allocations: 34740)


Started GET "/categories/new" for ::1 at 2022-02-18 01:21:02 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 9.6ms | Allocations: 1642)
  Rendered categories/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 1724)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.6ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 6982)
Completed 200 OK in 34ms (Views: 23.5ms | ActiveRecord: 1.9ms | Allocations: 8731)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/categories/new" for ::1 at 2022-02-18 01:27:15 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 37.8ms | Allocations: 23424)
  Rendered categories/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 24102)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.8ms | Allocations: 1319)
  Rendered layout layouts/application.html.erb (Duration: 98.2ms | Allocations: 56048)
Completed 200 OK in 159ms (Views: 95.7ms | ActiveRecord: 13.9ms | Allocations: 80330)


Started POST "/categories" for ::1 at 2022-02-18 01:27:22 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Moik"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):1:in `create'
  [1m[36mCategory Create (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Moik"], ["created_at", "2022-02-17 19:57:27.046782"], ["updated_at", "2022-02-17 19:57:27.046782"]]
  ↳ (pry):1:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ (pry):1:in `create'
Completed 500 Internal Server Error in 6067ms (ActiveRecord: 3.4ms | Allocations: 23202)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"categories"}, missing required keys: [:id]
Did you mean?  category_url):
  
app/controllers/categories_controller.rb:14:in `create'
Started GET "/rails/route" for ::1 at 2022-02-18 01:27:47 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/rails/route"):
  
Started GET "/rails/info/routes?path=ca" for ::1 at 2022-02-18 01:27:50 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"ca"}
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 5969)


Started GET "/rails/info/routes?path=cat" for ::1 at 2022-02-18 01:27:50 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"cat"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1222)


Started GET "/rails/info/routes?path=cate" for ::1 at 2022-02-18 01:27:51 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"cate"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1178)


Started POST "/categories" for ::1 at 2022-02-18 01:28:25 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Moik"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mCategory Create (1.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Moik"], ["created_at", "2022-02-17 19:58:29.654191"], ["updated_at", "2022-02-17 19:58:29.654191"]]
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 3698ms (ActiveRecord: 16.8ms | Allocations: 39586)


Started GET "/categories" for ::1 at 2022-02-18 01:28:29 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 20929)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 229)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.5ms | Allocations: 1191)
  Rendered layout layouts/application.html.erb (Duration: 165.2ms | Allocations: 52945)
Completed 200 OK in 174ms (Views: 161.5ms | ActiveRecord: 6.6ms | Allocations: 57606)


Started GET "/" for ::1 at 2022-02-18 01:28:40 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 13985)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 19335)
Completed 200 OK in 53ms (Views: 31.7ms | ActiveRecord: 9.6ms | Allocations: 25834)


Started GET "/books/new" for ::1 at 2022-02-18 01:29:06 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 4605)


  
NoMethodError (undefined method `admin?' for #<BooksController:0x0000000000f438>):
  
app/controllers/books_controller.rb:7:in `new'
Started GET "/" for ::1 at 2022-02-18 01:29:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 38.4ms | Allocations: 20142)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 870)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 25493)
Completed 200 OK in 67ms (Views: 36.0ms | ActiveRecord: 14.0ms | Allocations: 38468)


Started GET "/categories" for ::1 at 2022-02-18 01:29:41 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2963)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 8258)
Completed 200 OK in 29ms (Views: 16.3ms | ActiveRecord: 4.3ms | Allocations: 12763)


Started GET "/categories/new" for ::1 at 2022-02-18 01:29:42 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 11.4ms | Allocations: 4490)
  Rendered categories/new.html.erb within layouts/application (Duration: 12.9ms | Allocations: 4801)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 953)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 10126)
Completed 200 OK in 43ms (Views: 34.6ms | ActiveRecord: 1.3ms | Allocations: 11837)


Started POST "/categories" for ::1 at 2022-02-18 01:29:45 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Tok"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Tok"], ["created_at", "2022-02-17 19:59:47.853034"], ["updated_at", "2022-02-17 19:59:47.853034"]]
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 2165ms (ActiveRecord: 7.3ms | Allocations: 10857)


Started GET "/categories" for ::1 at 2022-02-18 01:29:47 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1612)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 6703)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.9ms | Allocations: 8261)


Started GET "/users" for ::1 at 2022-02-18 01:29:51 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 900)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.0ms | Allocations: 1295)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 6691)
Completed 200 OK in 18ms (Views: 13.6ms | ActiveRecord: 1.4ms | Allocations: 9127)


Started GET "/" for ::1 at 2022-02-18 01:29:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 4748)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 9829)
Completed 200 OK in 36ms (Views: 24.9ms | ActiveRecord: 3.4ms | Allocations: 11420)


Started GET "/books/new" for ::1 at 2022-02-18 01:29:54 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms | Allocations: 4466)


  
NoMethodError (undefined method `admin?' for #<BooksController:0x00000000016008>):
  
app/controllers/books_controller.rb:7:in `new'
Started GET "/books/new" for ::1 at 2022-02-18 01:31:31 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 45.3ms | Allocations: 17925)
  Rendered books/new.html.erb within layouts/application (Duration: 46.1ms | Allocations: 18261)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.1ms | Allocations: 904)
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 23690)
Completed 200 OK in 82ms (Views: 48.4ms | ActiveRecord: 12.7ms | Allocations: 38542)


Started GET "/books/new" for ::1 at 2022-02-18 01:34:18 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:33
  Rendered books/_form.html.erb (Duration: 44.8ms | Allocations: 22695)
  Rendered books/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 23014)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.1ms | Allocations: 1234)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | Allocations: 29408)
Completed 200 OK in 85ms (Views: 46.8ms | ActiveRecord: 18.2ms | Allocations: 44459)


Started GET "/books/new" for ::1 at 2022-02-18 01:34:32 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 12.1ms | Allocations: 5620)
  Rendered books/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5931)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.2ms | Allocations: 1160)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 12092)
Completed 200 OK in 31ms (Views: 25.3ms | ActiveRecord: 1.9ms | Allocations: 14541)


  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBooksCategory Load (2.7ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."category_id" = $1[0m  [["category_id", 1]]
  [1m[36mCategory Destroy (0.5ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBooksCategory Load (0.3ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."category_id" = $1[0m  [["category_id", 2]]
  [1m[36mCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBooksCategory Load (0.2ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."category_id" = $1[0m  [["category_id", 3]]
  [1m[36mCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/books/new" for ::1 at 2022-02-18 01:35:24 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 10.0ms | Allocations: 4605)
  Rendered books/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 4680)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 9745)
Completed 200 OK in 25ms (Views: 18.3ms | ActiveRecord: 1.8ms | Allocations: 11333)


Started GET "/categories" for ::1 at 2022-02-18 01:35:27 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2134)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 839)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 7431)
Completed 200 OK in 19ms (Views: 13.5ms | ActiveRecord: 1.2ms | Allocations: 9845)


Started GET "/categories/new" for ::1 at 2022-02-18 01:35:29 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 5.3ms | Allocations: 1890)
  Rendered categories/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2165)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 7229)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 1.0ms | Allocations: 8898)


Started POST "/categories" for ::1 at 2022-02-18 01:35:33 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Novel"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Novel"], ["created_at", "2022-02-17 20:05:37.888878"], ["updated_at", "2022-02-17 20:05:37.888878"]]
  ↳ app/controllers/categories_controller.rb:13:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:13:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 4702ms (ActiveRecord: 7.1ms | Allocations: 10737)


Started GET "/categories" for ::1 at 2022-02-18 01:35:37 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1555)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6642)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.0ms | Allocations: 8161)


Started GET "/categories/new" for ::1 at 2022-02-18 01:35:57 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 18.6ms | Allocations: 11613)
  Rendered categories/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 11703)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 17071)
Completed 200 OK in 51ms (Views: 22.3ms | ActiveRecord: 10.6ms | Allocations: 29359)


Started POST "/categories" for ::1 at 2022-02-18 01:36:03 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Comic"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comic"], ["created_at", "2022-02-17 20:06:03.546231"], ["updated_at", "2022-02-17 20:06:03.546231"]]
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 19ms (ActiveRecord: 9.2ms | Allocations: 3559)


Started GET "/categories" for ::1 at 2022-02-18 01:36:03 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1630)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.7ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 6718)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.3ms | Allocations: 8308)


Started GET "/categories/new" for ::1 at 2022-02-18 01:36:04 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 4.8ms | Allocations: 1527)
  Rendered categories/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1602)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 6666)
Completed 200 OK in 18ms (Views: 13.9ms | ActiveRecord: 1.0ms | Allocations: 8173)


Started POST "/categories" for ::1 at 2022-02-18 01:36:11 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Spiritual"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Spiritual"], ["created_at", "2022-02-17 20:06:11.395512"], ["updated_at", "2022-02-17 20:06:11.395512"]]
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 16ms (ActiveRecord: 4.3ms | Allocations: 3207)


Started GET "/categories" for ::1 at 2022-02-18 01:36:11 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1578)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 6664)
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 1.6ms | Allocations: 8179)


Started GET "/categories/new" for ::1 at 2022-02-18 01:36:17 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 4.0ms | Allocations: 1513)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1588)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 6742)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.9ms | Allocations: 8259)


Started POST "/categories" for ::1 at 2022-02-18 01:36:20 +0530
Processing by CategoriesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "category"=>{"name"=>"Drama"}, "commit"=>"Create Category"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2022-02-17 20:06:20.150928"], ["updated_at", "2022-02-17 20:06:20.150928"]]
  ↳ app/controllers/categories_controller.rb:12:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/categories_controller.rb:12:in `create'
Redirected to http://localhost:3000/categories
Completed 302 Found in 13ms (ActiveRecord: 5.8ms | Allocations: 3192)


Started GET "/categories" for ::1 at 2022-02-18 01:36:20 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1591)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 6677)
Completed 200 OK in 17ms (Views: 12.1ms | ActiveRecord: 1.4ms | Allocations: 8198)


Started GET "/users" for ::1 at 2022-02-18 01:36:22 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 894)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.3ms | Allocations: 1294)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 6678)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 1.3ms | Allocations: 9076)


Started GET "/" for ::1 at 2022-02-18 01:36:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 11250)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 16594)
Completed 200 OK in 45ms (Views: 28.9ms | ActiveRecord: 7.9ms | Allocations: 22939)


Started GET "/authors" for ::1 at 2022-02-18 01:36:24 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2247)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 7541)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 1.4ms | Allocations: 9963)


Started GET "/" for ::1 at 2022-02-18 01:36:25 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 4745)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 9826)
Completed 200 OK in 33ms (Views: 22.8ms | ActiveRecord: 2.8ms | Allocations: 11419)


Started GET "/books/new" for ::1 at 2022-02-18 01:36:27 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 13.9ms | Allocations: 5757)
  Rendered books/new.html.erb within layouts/application (Duration: 14.2ms | Allocations: 5834)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 10987)
Completed 200 OK in 36ms (Views: 30.0ms | ActiveRecord: 1.9ms | Allocations: 12516)


Started POST "/books" for ::1 at 2022-02-18 01:36:53 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Avengers", "description"=>"Super Heroes", "publish_at(1i)"=>"2020", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"4", "category_ids"=>["", "5", "7"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_ids. Context: { controller: BooksController, action: create, request: #<ActionDispatch::Request:0x000055e62e8f9b38>, params: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Avengers", "description"=>"Super Heroes", "publish_at(1i)"=>"2020", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"4", "category_ids"=>["", "5", "7"]}, "commit"=>"Create Book", "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Avengers"], ["description", "Super Heroes"], ["publish_at", "2020-02-17 00:00:00"], ["created_at", "2022-02-17 20:06:53.823329"], ["updated_at", "2022-02-17 20:06:53.823329"], ["author_id", 4]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 24ms (ActiveRecord: 9.6ms | Allocations: 4798)


Started GET "/books" for ::1 at 2022-02-18 01:36:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 5389)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 35)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 10477)
Completed 200 OK in 26ms (Views: 20.4ms | ActiveRecord: 2.3ms | Allocations: 12018)


Started GET "/books/new" for ::1 at 2022-02-18 01:38:38 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 53.2ms | Allocations: 35297)
  Rendered books/new.html.erb within layouts/application (Duration: 54.3ms | Allocations: 35968)
  Rendered layouts/_messages.html.erb (Duration: 5.4ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 17.6ms | Allocations: 1259)
  Rendered layout layouts/application.html.erb (Duration: 130.1ms | Allocations: 68284)
Completed 200 OK in 185ms (Views: 121.5ms | ActiveRecord: 19.2ms | Allocations: 95769)


Started POST "/books" for ::1 at 2022-02-18 01:39:03 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Uri", "description"=>"NAtionalism", "publish_at(1i)"=>"2017", "publish_at(2i)"=>"3", "publish_at(3i)"=>"17", "author_id"=>"5", "category_ids"=>["", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.5ms | Allocations: 2046)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/controllers/books_controller.rb:26:in `[]'
app/controllers/books_controller.rb:26:in `book_params'
app/controllers/books_controller.rb:11:in `create'
Started POST "/books" for ::1 at 2022-02-18 01:39:57 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Uri", "description"=>"NAtionalism", "publish_at(1i)"=>"2017", "publish_at(2i)"=>"3", "publish_at(3i)"=>"17", "author_id"=>"5", "category_ids"=>["", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN ($1, $2)[0m  [["id", 7], ["id", 4]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Uri"], ["description", "NAtionalism"], ["publish_at", "2017-03-17 00:00:00"], ["created_at", "2022-02-17 20:09:57.792038"], ["updated_at", "2022-02-17 20:09:57.792038"], ["author_id", 5]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 12.9ms | Allocations: 28368)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `book_id`):
  
app/controllers/books_controller.rb:12:in `create'
Started GET "/" for ::1 at 2022-02-18 01:42:05 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 61.0ms | Allocations: 33444)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 1213)
  Rendered layout layouts/application.html.erb (Duration: 114.2ms | Allocations: 65845)
Completed 200 OK in 164ms (Views: 105.1ms | ActiveRecord: 17.4ms | Allocations: 89438)


Started GET "/books/new" for ::1 at 2022-02-18 01:42:07 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 73.7ms | Allocations: 14089)
  Rendered books/new.html.erb within layouts/application (Duration: 74.7ms | Allocations: 14400)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 891)
  Rendered layout layouts/application.html.erb (Duration: 87.4ms | Allocations: 19749)
Completed 200 OK in 106ms (Views: 83.1ms | ActiveRecord: 5.3ms | Allocations: 21640)


Started POST "/books" for ::1 at 2022-02-18 01:42:23 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"ko", "description"=>"454", "publish_at(1i)"=>"2018", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"2", "category_ids"=>["", "5", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms | Allocations: 4749)


  
NoMethodError (undefined method `books' for #<User id: 1, email: "admin@mail.com", created_at: "2022-02-17 19:38:24.734047000 +0000", updated_at: "2022-02-17 19:38:24.734047000 +0000">):
  
app/controllers/books_controller.rb:11:in `create'
Started POST "/books" for ::1 at 2022-02-18 01:42:46 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"ko", "description"=>"454", "publish_at(1i)"=>"2018", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"2", "category_ids"=>["", "5", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.0ms | Allocations: 11761)


  
NameError (undefined local variable or method `books' for #<BooksController:0x00000000015a18>
Did you mean?  books_url):
  
app/controllers/books_controller.rb:11:in `create'
Started GET "/" for ::1 at 2022-02-18 01:46:23 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 57.1ms | Allocations: 33453)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 1213)
  Rendered layout layouts/application.html.erb (Duration: 111.4ms | Allocations: 65449)
Completed 200 OK in 161ms (Views: 101.3ms | ActiveRecord: 17.3ms | Allocations: 89730)


Started GET "/books/new" for ::1 at 2022-02-18 01:46:26 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 114.4ms | Allocations: 14051)
  Rendered books/new.html.erb within layouts/application (Duration: 115.4ms | Allocations: 14362)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.7ms | Allocations: 891)
  Rendered layout layouts/application.html.erb (Duration: 123.6ms | Allocations: 19711)
Completed 200 OK in 130ms (Views: 119.8ms | ActiveRecord: 4.9ms | Allocations: 21603)


Started POST "/books" for ::1 at 2022-02-18 01:46:43 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Misc", "description"=>"Troy", "publish_at(1i)"=>"2017", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"1", "category_ids"=>["", "5", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN ($1, $2, $3)[0m  [["id", 5], ["id", 7], ["id", 4]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Misc"], ["description", "Troy"], ["publish_at", "2017-02-17 00:00:00"], ["created_at", "2022-02-17 20:16:43.939490"], ["updated_at", "2022-02-17 20:16:43.939490"], ["author_id", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.4ms | Allocations: 7500)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `book_id`):
  
app/controllers/books_controller.rb:12:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-18 01:49:17 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.6ms | Allocations: 19804)


  
ArgumentError (No association found for name `categories'. Has it been defined yet?):
  
app/models/book.rb:6:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/books_controller.rb:3:in `index'
Started GET "/" for ::1 at 2022-02-18 01:50:55 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms | Allocations: 6877)


  
ArgumentError (No association found for name `categories'. Has it been defined yet?):
  
app/models/book.rb:6:in `<class:Book>'
app/models/book.rb:1:in `<main>'
app/controllers/books_controller.rb:3:in `index'
Started GET "/" for ::1 at 2022-02-18 01:53:05 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 55.6ms | Allocations: 33085)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 225)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 1213)
  Rendered layout layouts/application.html.erb (Duration: 109.7ms | Allocations: 65645)
Completed 200 OK in 132ms (Views: 99.3ms | ActiveRecord: 16.6ms | Allocations: 78311)


Started GET "/books/new" for ::1 at 2022-02-18 01:53:07 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 30.4ms | Allocations: 18553)
  Rendered books/new.html.erb within layouts/application (Duration: 31.1ms | Allocations: 18835)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 891)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 24093)
Completed 200 OK in 41ms (Views: 32.7ms | ActiveRecord: 5.7ms | Allocations: 25801)


Started GET "/books/new" for ::1 at 2022-02-18 01:54:50 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 55.6ms | Allocations: 35438)
  Rendered books/new.html.erb within layouts/application (Duration: 57.4ms | Allocations: 36122)
  Rendered layout layouts/application.html.erb (Duration: 57.7ms | Allocations: 36213)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 16.2ms | Allocations: 62935)


  
ActionView::Template::Error (Rails couldn't find a valid model for BooksCategory association. Please provide the :class_name option on the association declaration. If :class_name is already provided, make sure it's an ActiveRecord::Base subclass.):
    31:     <div class="form-group row"> 
    32:       <%= form.label 'Category', class: "col-sm-3 col-form-label" %>
    33:       <div class="col-sm-7">
    34:         <%= form.collection_select(:category_ids, order_categories_by_name, :id, :name, {}, {:multiple => true, class: 'form-control'}) %>
    35:       </div>
    36:     </div>
    37:     <br>
  
app/views/books/_form.html.erb:34
app/views/books/_form.html.erb:1
app/views/books/new.html.erb:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-18 01:59:44 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 57.3ms | Allocations: 33435)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.9ms | Allocations: 1213)
  Rendered layout layouts/application.html.erb (Duration: 121.0ms | Allocations: 65655)
Completed 200 OK in 168ms (Views: 112.5ms | ActiveRecord: 16.3ms | Allocations: 88352)


Started GET "/books/new" for ::1 at 2022-02-18 01:59:45 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 78.2ms | Allocations: 14244)
  Rendered books/new.html.erb within layouts/application (Duration: 79.2ms | Allocations: 14570)
  Rendered layout layouts/application.html.erb (Duration: 79.4ms | Allocations: 14651)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 2.7ms | Allocations: 16690)


  
ActionView::Template::Error (Rails couldn't find a valid model for BooksCategory association. Please provide the :class_name option on the association declaration. If :class_name is already provided, make sure it's an ActiveRecord::Base subclass.):
    31:     <div class="form-group row"> 
    32:       <%= form.label 'Category', class: "col-sm-3 col-form-label" %>
    33:       <div class="col-sm-7">
    34:         <%= form.collection_select(:category_ids, order_categories_by_name, :id, :name, {}, {:multiple => true, class: 'form-control'}) %>
    35:       </div>
    36:     </div>
    37:     <br>
  
app/views/books/_form.html.erb:34
app/views/books/_form.html.erb:1
app/views/books/new.html.erb:4
Started GET "/books/new" for ::1 at 2022-02-18 02:00:45 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 78.2ms | Allocations: 39929)
  Rendered books/new.html.erb within layouts/application (Duration: 79.7ms | Allocations: 40600)
  Rendered layouts/_messages.html.erb (Duration: 5.8ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 27.8ms | Allocations: 1258)
  Rendered layout layouts/application.html.erb (Duration: 242.7ms | Allocations: 72920)
Completed 200 OK in 303ms (Views: 231.3ms | ActiveRecord: 23.2ms | Allocations: 99518)


Started POST "/books" for ::1 at 2022-02-18 02:01:22 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"ji", "description"=>"jijn", "publish_at(1i)"=>"2022", "publish_at(2i)"=>"2", "publish_at(3i)"=>"17", "author_id"=>"4", "category_ids"=>["", "5", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN ($1, $2, $3)[0m  [["id", 5], ["id", 7], ["id", 4]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "ji"], ["description", "jijn"], ["publish_at", "2022-02-17 00:00:00"], ["created_at", "2022-02-17 20:31:35.413080"], ["updated_at", "2022-02-17 20:31:35.413080"], ["author_id", 4]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBooksCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 9], ["category_id", 5], ["created_at", "2022-02-17 20:31:35.416108"], ["updated_at", "2022-02-17 20:31:35.416108"]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBooksCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 9], ["category_id", 7], ["created_at", "2022-02-17 20:31:35.419604"], ["updated_at", "2022-02-17 20:31:35.419604"]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBooksCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 9], ["category_id", 4], ["created_at", "2022-02-17 20:31:35.422052"], ["updated_at", "2022-02-17 20:31:35.422052"]]
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 13174ms (ActiveRecord: 22.3ms | Allocations: 56188)


Started GET "/books" for ::1 at 2022-02-18 02:01:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:19
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 16411)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 49)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 838)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 21729)
Completed 200 OK in 43ms (Views: 32.5ms | ActiveRecord: 7.0ms | Allocations: 23964)


Started GET "/books" for ::1 at 2022-02-18 02:02:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  Rendered books/index.html.erb within layouts/application (Duration: 64.4ms | Allocations: 31459)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 1210)
  Rendered layout layouts/application.html.erb (Duration: 74.1ms | Allocations: 37774)
Completed 200 OK in 93ms (Views: 59.4ms | ActiveRecord: 19.4ms | Allocations: 50226)


  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Pluck (0.4ms)[0m  [1m[34mSELECT "categories"."id" FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
Started GET "/books" for ::1 at 2022-02-18 02:08:26 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:25
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:25
  Rendered books/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 15119)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 212)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.1ms | Allocations: 1156)
  Rendered layout layouts/application.html.erb (Duration: 59.4ms | Allocations: 21402)
Completed 200 OK in 65ms (Views: 55.9ms | ActiveRecord: 5.3ms | Allocations: 23859)


Started GET "/books" for ::1 at 2022-02-18 02:10:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 27.1ms | Allocations: 12641)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.1ms | Allocations: 1156)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 18839)
Completed 200 OK in 42ms (Views: 34.1ms | ActiveRecord: 4.4ms | Allocations: 21278)


Started GET "/users/sign_out" for ::1 at 2022-02-18 02:11:31 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 3088)


Started GET "/" for ::1 at 2022-02-18 02:11:31 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 417)


Started GET "/users/sign_in" for ::1 at 2022-02-18 02:11:31 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 897)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3437)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 8399)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 10733)


Started POST "/users/sign_in" for ::1 at 2022-02-18 02:11:41 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 235ms (ActiveRecord: 0.3ms | Allocations: 5157)


Started GET "/" for ::1 at 2022-02-18 02:11:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 12516)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 1109)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 18256)
Completed 200 OK in 35ms (Views: 28.7ms | ActiveRecord: 3.7ms | Allocations: 20608)


Started GET "/" for ::1 at 2022-02-18 02:11:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 11764)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.1ms | Allocations: 745)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 16775)
Completed 200 OK in 35ms (Views: 28.5ms | ActiveRecord: 4.3ms | Allocations: 18373)


Started GET "/users/sign_out" for ::1 at 2022-02-18 02:11:55 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1788)


Started GET "/" for ::1 at 2022-02-18 02:11:55 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 298)


Started GET "/users/sign_in" for ::1 at 2022-02-18 02:11:55 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1035)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5277)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 6004)


Started POST "/users/sign_in" for ::1 at 2022-02-18 02:12:00 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 0.3ms | Allocations: 2344)


Started GET "/" for ::1 at 2022-02-18 02:12:00 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 11836)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 825)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 16936)
Completed 200 OK in 32ms (Views: 25.8ms | ActiveRecord: 4.1ms | Allocations: 18444)


Started GET "/users/sign_out" for ::1 at 2022-02-18 02:12:21 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1711)


Started GET "/" for ::1 at 2022-02-18 02:12:21 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 274)


Started GET "/users/sign_in" for ::1 at 2022-02-18 02:12:21 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1006)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 5248)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 5967)


Started GET "/" for ::1 at 2022-02-18 10:44:59 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 23ms (ActiveRecord: 0.0ms | Allocations: 7464)


Started GET "/users/sign_in" for ::1 at 2022-02-18 10:44:59 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 3.6ms | Allocations: 908)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 4579)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 218)
  Rendered layout layouts/application.html.erb (Duration: 150.2ms | Allocations: 35694)
Completed 200 OK in 187ms (Views: 161.9ms | ActiveRecord: 11.2ms | Allocations: 46007)


Started POST "/users/sign_in" for ::1 at 2022-02-18 10:45:10 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 397ms (ActiveRecord: 1.4ms | Allocations: 7302)


Started GET "/" for ::1 at 2022-02-18 10:45:10 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (39.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 308.5ms | Allocations: 48795)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.8ms | Allocations: 1232)
  Rendered layout layouts/application.html.erb (Duration: 320.7ms | Allocations: 54681)
Completed 200 OK in 333ms (Views: 252.1ms | ActiveRecord: 71.3ms | Allocations: 60268)


Started GET "/users" for ::1 at 2022-02-18 10:45:18 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 895)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 4.8ms | Allocations: 1295)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 6682)
Completed 200 OK in 26ms (Views: 19.8ms | ActiveRecord: 1.7ms | Allocations: 9114)


Started GET "/authors" for ::1 at 2022-02-18 10:45:19 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2248)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 7545)
Completed 200 OK in 37ms (Views: 24.8ms | ActiveRecord: 2.9ms | Allocations: 9972)


Started GET "/categories" for ::1 at 2022-02-18 10:45:21 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2236)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 7533)
Completed 200 OK in 30ms (Views: 18.6ms | ActiveRecord: 2.9ms | Allocations: 9972)


Started GET "/" for ::1 at 2022-02-18 10:45:22 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 34.1ms | Allocations: 11862)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 16943)
Completed 200 OK in 48ms (Views: 37.5ms | ActiveRecord: 6.3ms | Allocations: 18526)


Started GET "/books/new" for ::1 at 2022-02-18 10:46:33 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 94.6ms | Allocations: 39904)
  Rendered books/new.html.erb within layouts/application (Duration: 97.1ms | Allocations: 40575)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 222)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 19.1ms | Allocations: 1258)
  Rendered layout layouts/application.html.erb (Duration: 212.5ms | Allocations: 72939)
Completed 200 OK in 292ms (Views: 199.1ms | ActiveRecord: 28.8ms | Allocations: 99550)


Started POST "/books" for ::1 at 2022-02-18 10:46:58 +0530
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Koyo", "description"=>"This is Music.", "publish_at(1i)"=>"2018", "publish_at(2i)"=>"2", "publish_at(3i)"=>"18", "author_id"=>"2", "category_ids"=>["", "5", "7", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN ($1, $2, $3)[0m  [["id", 5], ["id", 7], ["id", 4]]
  ↳ app/controllers/books_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBook Create (4.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Koyo"], ["description", "This is Music."], ["publish_at", "2018-02-18 00:00:00"], ["created_at", "2022-02-18 05:16:58.998807"], ["updated_at", "2022-02-18 05:16:58.998807"], ["author_id", 2]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBooksCategory Create (1.2ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 10], ["category_id", 5], ["created_at", "2022-02-18 05:16:59.007981"], ["updated_at", "2022-02-18 05:16:59.007981"]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBooksCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 10], ["category_id", 7], ["created_at", "2022-02-18 05:16:59.012347"], ["updated_at", "2022-02-18 05:16:59.012347"]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mBooksCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 10], ["category_id", 4], ["created_at", "2022-02-18 05:16:59.015438"], ["updated_at", "2022-02-18 05:16:59.015438"]]
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Redirected to http://localhost:3000/books
Completed 302 Found in 88ms (ActiveRecord: 13.5ms | Allocations: 16733)


Started GET "/books" for ::1 at 2022-02-18 10:46:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 10]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 14991)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 37)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.1ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 57.6ms | Allocations: 20195)
Completed 200 OK in 64ms (Views: 51.7ms | ActiveRecord: 7.4ms | Allocations: 21948)


Started GET "/categories" for ::1 at 2022-02-18 10:47:08 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2198)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 7502)
Completed 200 OK in 26ms (Views: 19.2ms | ActiveRecord: 1.8ms | Allocations: 9930)


Started GET "/categories/new" for ::1 at 2022-02-18 10:47:09 +0530
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered categories/_form.html.erb (Duration: 6.9ms | Allocations: 1922)
  Rendered categories/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2201)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.4ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 7268)
Completed 200 OK in 30ms (Views: 23.6ms | ActiveRecord: 1.2ms | Allocations: 8965)


Started GET "/categories" for ::1 at 2022-02-18 10:47:10 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1591)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.9ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 6672)
Completed 200 OK in 23ms (Views: 16.1ms | ActiveRecord: 2.1ms | Allocations: 8178)


Started GET "/authors" for ::1 at 2022-02-18 10:47:13 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2210)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.2ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 7507)
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 1.4ms | Allocations: 9937)


Started GET "/" for ::1 at 2022-02-18 10:47:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 10]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 41.3ms | Allocations: 13335)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 18416)
Completed 200 OK in 56ms (Views: 45.5ms | ActiveRecord: 6.4ms | Allocations: 20012)


Started GET "/users/sign_out" for ::1 at 2022-02-18 10:47:27 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 0.9ms | Allocations: 3083)


Started GET "/" for ::1 at 2022-02-18 10:47:27 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for ::1 at 2022-02-18 10:47:27 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 897)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3435)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7864)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms | Allocations: 10004)


Started POST "/users/sign_in" for ::1 at 2022-02-18 10:47:33 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"vivek@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivek@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 362ms (ActiveRecord: 1.0ms | Allocations: 5153)


Started GET "/" for ::1 at 2022-02-18 10:47:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 3]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 4]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 5]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 6]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 9]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 10]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 40.5ms | Allocations: 13343)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.5ms | Allocations: 755)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 18495)
Completed 200 OK in 57ms (Views: 46.2ms | ActiveRecord: 6.0ms | Allocations: 20226)


Started GET "/users/sign_out" for ::1 at 2022-02-18 10:47:53 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 1779)


Started GET "/" for ::1 at 2022-02-18 10:47:53 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 300)


Started GET "/users/sign_in" for ::1 at 2022-02-18 10:47:53 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/harsh-g/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1034)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 5276)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 6014)


Started GET "/" for ::1 at 2022-02-18 11:14:26 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 81ms (ActiveRecord: 0.0ms | Allocations: 11259)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:14:26 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 903)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5276)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 223)
  Rendered layout layouts/application.html.erb (Duration: 4816.1ms | Allocations: 145953)
Completed 200 OK in 4836ms (Views: 4823.5ms | ActiveRecord: 3.6ms | Allocations: 157573)


Started POST "/users/sign_in" for ::1 at 2022-02-18 11:14:35 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"VIVEKDABHI80@GMAIL.COM", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vivekdabhi80@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 234ms (ActiveRecord: 0.9ms | Allocations: 8827)


Started GET "/" for ::1 at 2022-02-18 11:14:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 80.1ms | Allocations: 40343)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 1183)
  Rendered layout layouts/application.html.erb (Duration: 89.5ms | Allocations: 46186)
Completed 200 OK in 99ms (Views: 74.3ms | ActiveRecord: 16.7ms | Allocations: 51993)


  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users/sign_out" for ::1 at 2022-02-18 11:16:39 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms | Allocations: 5810)


Started GET "/" for ::1 at 2022-02-18 11:16:39 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 534)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:16:39 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 7.8ms | Allocations: 126)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 18.6ms | Allocations: 1065)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 61.2ms | Allocations: 5484)
Completed 200 OK in 82ms (Views: 71.8ms | ActiveRecord: 0.0ms | Allocations: 6461)


Started GET "/users/sign_up" for ::1 at 2022-02-18 11:16:41 +0530
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 242)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 220)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2218)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 6818)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 8591)


Started POST "/users" for ::1 at 2022-02-18 11:17:27 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:47:27.785512"], ["updated_at", "2022-02-18 05:47:27.785512"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 234ms (ActiveRecord: 6.7ms | Allocations: 10523)


Started GET "/" for ::1 at 2022-02-18 11:17:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 35.2ms | Allocations: 25710)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 810)
  Rendered layout layouts/application.html.erb (Duration: 41.1ms | Allocations: 31176)
Completed 200 OK in 50ms (Views: 30.5ms | ActiveRecord: 11.9ms | Allocations: 37107)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.8ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 05:47:52.893831"], ["updated_at", "2022-02-18 05:47:52.893831"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.5ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-18 11:17:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 5783)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 826)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 10959)
Completed 200 OK in 40ms (Views: 27.8ms | ActiveRecord: 3.5ms | Allocations: 12761)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (1.0ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:50:51.637059"], ["updated_at", "2022-02-18 05:50:51.637059"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Role Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 3], ["role_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Create (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 05:50:51.674561"], ["updated_at", "2022-02-18 05:50:51.674561"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Role Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 3], ["role_id", 2]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 2], ["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (0.3ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:56:03.512085"], ["updated_at", "2022-02-18 05:56:03.512085"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Role Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 4], ["role_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mRole Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Role Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND "roles"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Create (0.2ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 4], ["role_id", 2]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (0.9ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 4]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:58:35.508878"], ["updated_at", "2022-02-18 05:58:35.508878"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:58:35.715046"], ["updated_at", "2022-02-18 05:58:35.715046"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 5]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (1.0ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 5]]
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser::HABTM_Roles Delete All (0.9ms)[0m  [1m[31mDELETE FROM "users_roles" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:59:37.152646"], ["updated_at", "2022-02-18 05:59:37.152646"]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 7]]
  ↳ app/models/user.rb:12:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/models/user.rb:12:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 7], ["role_id", 1]]
  ↳ app/models/user.rb:12:in `assign_default_role'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 05:59:37.383340"], ["updated_at", "2022-02-18 05:59:37.383340"]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 8]]
  ↳ app/models/user.rb:14:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:14:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 8], ["role_id", 2]]
  ↳ app/models/user.rb:14:in `assign_default_role'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 8]]
Started GET "/books/new" for ::1 at 2022-02-18 11:31:27 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (ActiveRecord: 5.3ms | Allocations: 9023)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:31:28 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 156)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1238)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 5754)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 8919)


Started POST "/users/sign_in" for ::1 at 2022-02-18 11:31:37 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/books/new
Completed 302 Found in 226ms (ActiveRecord: 0.8ms | Allocations: 2866)


Started GET "/books/new" for ::1 at 2022-02-18 11:31:38 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 7]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 38.7ms | Allocations: 27854)
  Rendered books/new.html.erb within layouts/application (Duration: 39.3ms | Allocations: 28199)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 28283)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 2.4ms | Allocations: 35058)


  
ActionView::Template::Error (PG::UndefinedColumn: ERROR:  column "name" does not exist
LINE 1: SELECT "categories".* FROM "categories" ORDER BY "name" ASC
                                                         ^
):
    31:     <div class="form-group row"> 
    32:       <%= form.label 'Category', class: "col-sm-3 col-form-label" %>
    33:       <div class="col-sm-7">
    34:         <%= form.collection_select(:category_ids, order_categories_by_name, :id, :name, {}, {:multiple => true, class: 'form-control'}) %>
    35:       </div>
    36:     </div>
    37:     <br>
  
app/views/books/_form.html.erb:34
app/views/books/_form.html.erb:1
app/views/books/new.html.erb:4
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategoriesType (20220217133438)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20220217133438)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220217133438"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/books/new" for ::1 at 2022-02-18 11:36:46 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 7]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 52.5ms | Allocations: 34204)
  Rendered books/new.html.erb within layouts/application (Duration: 54.5ms | Allocations: 34888)
  Rendered layout layouts/application.html.erb (Duration: 54.8ms | Allocations: 34979)
Completed 500 Internal Server Error in 159ms (ActiveRecord: 15.0ms | Allocations: 61762)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "categories" does not exist
LINE 9:  WHERE a.attrelid = '"categories"'::regclass
                            ^
):
    31:     <div class="form-group row"> 
    32:       <%= form.label 'Category', class: "col-sm-3 col-form-label" %>
    33:       <div class="col-sm-7">
    34:         <%= form.collection_select(:category_ids, order_categories_by_name, :id, :name, {}, {:multiple => true, class: 'form-control'}) %>
    35:       </div>
    36:     </div>
    37:     <br>
  
app/helpers/books_helper.rb:7:in `order_categories_by_name'
app/views/books/_form.html.erb:34
app/views/books/_form.html.erb:1
app/views/books/new.html.erb:4
Started PUT "/__web_console/repl_sessions/cc576f10d7ec3787dc734138f903f600" for ::1 at 2022-02-18 11:38:23 +0530
Started PUT "/__web_console/repl_sessions/cc576f10d7ec3787dc734138f903f600" for ::1 at 2022-02-18 11:38:26 +0530
Started PUT "/__web_console/repl_sessions/cc576f10d7ec3787dc734138f903f600" for ::1 at 2022-02-18 11:38:33 +0530
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5059155558442177080)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (261.7ms)[0m  [1m[35mCREATE DATABASE "userdashboard_test" ENCODING = 'unicode'[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooks (20220217070925)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "description" character varying, "publish_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217070925"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20220217071939)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "authors" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217071939"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthorIdInTobook (20220217072832)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "books" ADD "author_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217072832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-18 06:11:16.554973"], ["updated_at", "2022-02-18 06:11:16.554973"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.6ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-18 06:16:18.005702"], ["updated_at", "2022-02-18 06:16:18.005702"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Steave"], ["created_at", "2022-02-18 06:16:18.010287"], ["updated_at", "2022-02-18 06:16:18.010287"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Novel"], ["created_at", "2022-02-18 06:16:31.569891"], ["updated_at", "2022-02-18 06:16:31.569891"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2022-02-18 06:16:31.574232"], ["updated_at", "2022-02-18 06:16:31.574232"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ikigai"], ["description", "For great live life"], ["publish_at", "2022-02-18 06:16:36.148392"], ["created_at", "2022-02-18 06:16:36.163140"], ["updated_at", "2022-02-18 06:16:36.163140"], ["author_id", 1]]
  [1m[36mBooksCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 1], ["category_id", 1], ["created_at", "2022-02-18 06:16:36.164992"], ["updated_at", "2022-02-18 06:16:36.164992"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Secret"], ["description", "For futures"], ["publish_at", "2022-02-18 06:16:36.148412"], ["created_at", "2022-02-18 06:16:36.171009"], ["updated_at", "2022-02-18 06:16:36.171009"], ["author_id", 2]]
  [1m[36mBooksCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 2], ["category_id", 2], ["created_at", "2022-02-18 06:16:36.172810"], ["updated_at", "2022-02-18 06:16:36.172810"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."author_id" = $1[0m  [["author_id", 1]]
  [1m[36mBooksCategory Load (0.3ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  [1m[36mBooksCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books_categories" WHERE "books_categories"."id" = $1[0m  [["id", 1]]
  [1m[36mBook Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = $1[0m  [["id", 1]]
  [1m[36mAuthor Destroy (0.3ms)[0m  [1m[31mDELETE FROM "authors" WHERE "authors"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."author_id" = $1[0m  [["author_id", 2]]
  [1m[36mBooksCategory Load (0.3ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  [1m[36mBooksCategory Destroy (0.4ms)[0m  [1m[31mDELETE FROM "books_categories" WHERE "books_categories"."id" = $1[0m  [["id", 2]]
  [1m[36mBook Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = $1[0m  [["id", 2]]
  [1m[36mAuthor Destroy (0.3ms)[0m  [1m[31mDELETE FROM "authors" WHERE "authors"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBooksCategory Load (0.6ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."category_id" = $1[0m  [["category_id", 1]]
  [1m[36mCategory Destroy (0.8ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBooksCategory Load (0.6ms)[0m  [1m[34mSELECT "books_categories".* FROM "books_categories" WHERE "books_categories"."category_id" = $1[0m  [["category_id", 2]]
  [1m[36mCategory Destroy (0.7ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:17:16.656908"], ["updated_at", "2022-02-18 06:17:16.656908"]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Create (0.5ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:17:16.680694"], ["updated_at", "2022-02-18 06:17:16.680694"]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:17:16.889565"], ["updated_at", "2022-02-18 06:17:16.889565"]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Create (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:17:16.894225"], ["updated_at", "2022-02-18 06:17:16.894225"]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.2ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-18 06:17:16.905404"], ["updated_at", "2022-02-18 06:17:16.905404"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Steave"], ["created_at", "2022-02-18 06:17:16.909392"], ["updated_at", "2022-02-18 06:17:16.909392"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Novel"], ["created_at", "2022-02-18 06:17:16.920309"], ["updated_at", "2022-02-18 06:17:16.920309"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2022-02-18 06:17:16.924233"], ["updated_at", "2022-02-18 06:17:16.924233"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (5016.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "userdashboard_test"[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (118.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "userdashboard_test"[0m
  [1m[35m (266.8ms)[0m  [1m[35mCREATE DATABASE "userdashboard_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "authors" CASCADE[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "authors" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "books" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "description" character varying, "publish_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "author_id" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "books_categories" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "roles" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users_roles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220217103813)[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220217070925),
(20220217071939),
(20220217072832),
(20220217084743),
(20220217092316),
(20220217094519);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-18 06:18:48.059186"], ["updated_at", "2022-02-18 06:18:48.059186"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "67410ba48bb172d7cffbbb4b715cfb24934dba5a"], ["created_at", "2022-02-18 06:18:48.068341"], ["updated_at", "2022-02-18 06:18:48.068341"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:18:48.329383"], ["updated_at", "2022-02-18 06:18:48.329383"]]
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Create (0.4ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:18:48.359028"], ["updated_at", "2022-02-18 06:18:48.359028"]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.4ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:18:48.563298"], ["updated_at", "2022-02-18 06:18:48.563298"]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Create (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:18:48.567552"], ["updated_at", "2022-02-18 06:18:48.567552"]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.2ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.4ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-18 06:18:48.579817"], ["updated_at", "2022-02-18 06:18:48.579817"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Steave"], ["created_at", "2022-02-18 06:18:48.583349"], ["updated_at", "2022-02-18 06:18:48.583349"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Novel"], ["created_at", "2022-02-18 06:18:48.594039"], ["updated_at", "2022-02-18 06:18:48.594039"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2022-02-18 06:18:48.597431"], ["updated_at", "2022-02-18 06:18:48.597431"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ikigai"], ["description", "For great live life"], ["publish_at", "2022-02-18 06:18:48.603475"], ["created_at", "2022-02-18 06:18:48.624102"], ["updated_at", "2022-02-18 06:18:48.624102"], ["author_id", 1]]
  [1m[36mBooksCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 1], ["category_id", 1], ["created_at", "2022-02-18 06:18:48.626194"], ["updated_at", "2022-02-18 06:18:48.626194"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Secret"], ["description", "For futures"], ["publish_at", "2022-02-18 06:18:48.603495"], ["created_at", "2022-02-18 06:18:48.632884"], ["updated_at", "2022-02-18 06:18:48.632884"], ["author_id", 2]]
  [1m[36mBooksCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 2], ["category_id", 2], ["created_at", "2022-02-18 06:18:48.634326"], ["updated_at", "2022-02-18 06:18:48.634326"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBook Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Started GET "/books/new" for ::1 at 2022-02-18 11:49:17 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 7]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  Rendered books/_form.html.erb (Duration: 24.9ms | Allocations: 19684)
  Rendered books/new.html.erb within layouts/application (Duration: 25.2ms | Allocations: 19783)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 19868)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 3.8ms | Allocations: 33313)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "categories" does not exist
LINE 9:  WHERE a.attrelid = '"categories"'::regclass
                            ^
):
    31:     <div class="form-group row"> 
    32:       <%= form.label 'Category', class: "col-sm-3 col-form-label" %>
    33:       <div class="col-sm-7">
    34:         <%= form.collection_select(:category_ids, order_categories_by_name, :id, :name, {}, {:multiple => true, class: 'form-control'}) %>
    35:       </div>
    36:     </div>
    37:     <br>
  
app/helpers/books_helper.rb:7:in `order_categories_by_name'
app/views/books/_form.html.erb:34
app/views/books/_form.html.erb:1
app/views/books/new.html.erb:4
Started GET "/" for ::1 at 2022-02-18 11:49:21 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 7]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  Rendered books/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 10476)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 10564)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.4ms | Allocations: 12556)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "categories" does not exist
LINE 9:  WHERE a.attrelid = '"categories"'::regclass
                            ^
):
    23:           <td><%= book.author.name %></td>
    24:           <td><%= book.description %></td>
    25:           <td>
    26:             <% book.category.each do |category_name| %>
    27:               <li><%= category_name.name %></li>
    28:             <% end %>
    29:           </td>
  
app/views/books/index.html.erb:26
app/views/books/index.html.erb:20
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (117.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "userdashboard_test"[0m
  [1m[35m (259.7ms)[0m  [1m[35mCREATE DATABASE "userdashboard_test" ENCODING = 'unicode'[0m
Started GET "/" for ::1 at 2022-02-18 11:50:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 7]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  Rendered books/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 4219)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 4297)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.1ms | Allocations: 6156)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "categories" does not exist
LINE 9:  WHERE a.attrelid = '"categories"'::regclass
                            ^
):
    23:           <td><%= book.author.name %></td>
    24:           <td><%= book.description %></td>
    25:           <td>
    26:             <% book.category.each do |category_name| %>
    27:               <li><%= category_name.name %></li>
    28:             <% end %>
    29:           </td>
  
app/views/books/index.html.erb:26
app/views/books/index.html.erb:20
Started GET "/" for ::1 at 2022-02-18 11:50:42 +0530
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 7 pending migrations:

20220217070925_create_books.rb
20220217071939_create_authors.rb
20220217072832_add_author_id_in_tobook.rb
20220217084743_create_categories.rb
20220217092316_create_books_categories.rb
20220217094519_devise_create_users.rb
20220217103813_rolify_create_roles.rb


):
  
activerecord (7.0.2.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2022-02-18 11:50:45 +0530
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBooks (20220217070925)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "description" character varying, "publish_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217070925"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20220217071939)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "authors" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217071939"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthorIdInTobook (20220217072832)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "books" ADD "author_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217072832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20220217084743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217084743"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooksCategories (20220217092316)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "books_categories" ("id" bigserial primary key, "book_id" integer, "category_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217092316"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20220217094519)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217094519"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RolifyCreateRoles (20220217103813)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "resource_type" character varying, "resource_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_roles_on_resource" ON "roles" ("resource_type", "resource_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users_roles" ("user_id" bigint, "role_id" bigint)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id" ON "users_roles" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_role_id" ON "users_roles" ("role_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220217103813"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-18 06:20:45.296452"], ["updated_at", "2022-02-18 06:20:45.296452"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-02-18 11:50:45 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (ActiveRecord: 3.0ms | Allocations: 10075)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:50:45 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 894)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 4226)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 217)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 35565)
Completed 200 OK in 57ms (Views: 52.0ms | ActiveRecord: 0.0ms | Allocations: 42299)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:20:54.180528"], ["updated_at", "2022-02-18 06:20:54.180528"]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mRole Create (0.4ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:20:54.205332"], ["updated_at", "2022-02-18 06:20:54.205332"]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 1], ["role_id", 1]]
  ↳ app/models/user.rb:13:in `assign_default_role'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "user@mail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-02-18 06:20:54.423191"], ["updated_at", "2022-02-18 06:20:54.423191"]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."name" = $1 AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mRole Create (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "user"], ["resource_type", nil], ["resource_id", nil], ["created_at", "2022-02-18 06:20:54.427296"], ["updated_at", "2022-02-18 06:20:54.427296"]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mUser::HABTM_Roles Create (0.3ms)[0m  [1m[32mINSERT INTO "users_roles" ("user_id", "role_id") VALUES ($1, $2)[0m  [["user_id", 2], ["role_id", 2]]
  ↳ app/models/user.rb:15:in `assign_default_role'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.4ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Michale"], ["created_at", "2022-02-18 06:20:54.439707"], ["updated_at", "2022-02-18 06:20:54.439707"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Create (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Steave"], ["created_at", "2022-02-18 06:20:54.443421"], ["updated_at", "2022-02-18 06:20:54.443421"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Novel"], ["created_at", "2022-02-18 06:20:54.453951"], ["updated_at", "2022-02-18 06:20:54.453951"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2022-02-18 06:20:54.457380"], ["updated_at", "2022-02-18 06:20:54.457380"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ikigai"], ["description", "For great live life"], ["publish_at", "2022-02-18 06:20:54.471574"], ["created_at", "2022-02-18 06:20:54.492372"], ["updated_at", "2022-02-18 06:20:54.492372"], ["author_id", 1]]
  [1m[36mBooksCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 1], ["category_id", 1], ["created_at", "2022-02-18 06:20:54.494292"], ["updated_at", "2022-02-18 06:20:54.494292"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "description", "publish_at", "created_at", "updated_at", "author_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Secret"], ["description", "For futures"], ["publish_at", "2022-02-18 06:20:54.471592"], ["created_at", "2022-02-18 06:20:54.501211"], ["updated_at", "2022-02-18 06:20:54.501211"], ["author_id", 2]]
  [1m[36mBooksCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "books_categories" ("book_id", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["book_id", 2], ["category_id", 2], ["created_at", "2022-02-18 06:20:54.502662"], ["updated_at", "2022-02-18 06:20:54.502662"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/sign_in" for ::1 at 2022-02-18 11:50:57 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1015)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 5340)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 6372)


Started POST "/users/sign_in" for ::1 at 2022-02-18 11:51:01 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 227ms (ActiveRecord: 0.6ms | Allocations: 4676)


Started GET "/" for ::1 at 2022-02-18 11:51:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 72.3ms | Allocations: 41286)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.9ms | Allocations: 1235)
  Rendered layout layouts/application.html.erb (Duration: 83.7ms | Allocations: 47341)
Completed 200 OK in 93ms (Views: 71.4ms | ActiveRecord: 13.6ms | Allocations: 53081)


Started GET "/authors" for ::1 at 2022-02-18 11:51:14 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:16
  Rendered authors/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2210)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7590)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 1.9ms | Allocations: 10216)


Started GET "/categories" for ::1 at 2022-02-18 11:51:15 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:16
  Rendered categories/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2211)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.6ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 7590)
Completed 200 OK in 23ms (Views: 16.8ms | ActiveRecord: 1.5ms | Allocations: 10200)


Started GET "/users" for ::1 at 2022-02-18 11:51:16 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 895)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.3ms | Allocations: 1295)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 6764)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 1.3ms | Allocations: 9384)


Started GET "/" for ::1 at 2022-02-18 11:51:17 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 4603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 9769)
Completed 200 OK in 26ms (Views: 20.0ms | ActiveRecord: 3.0ms | Allocations: 11560)


Started GET "/users/sign_out" for ::1 at 2022-02-18 11:51:26 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms | Allocations: 2895)


Started GET "/" for ::1 at 2022-02-18 11:51:26 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 536)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:51:27 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 126)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1065)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5484)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6441)


Started POST "/users/sign_in" for ::1 at 2022-02-18 11:51:34 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 219ms (ActiveRecord: 0.5ms | Allocations: 2674)


Started GET "/" for ::1 at 2022-02-18 11:51:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:20
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:23
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:26
  Rendered books/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4582)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.4ms | Allocations: 748)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 9689)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 2.2ms | Allocations: 11405)


Started GET "/" for ::1 at 2022-02-18 11:54:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 5287)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.9ms | Allocations: 1110)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 11534)
Completed 200 OK in 29ms (Views: 21.7ms | ActiveRecord: 2.5ms | Allocations: 14077)


Started GET "/" for ::1 at 2022-02-18 11:54:31 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:23
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:26
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:29
  Rendered books/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 5275)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1110)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 11547)
Completed 200 OK in 46ms (Views: 33.4ms | ActiveRecord: 4.2ms | Allocations: 14161)


Started GET "/" for ::1 at 2022-02-18 11:54:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 5283)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.2ms | Allocations: 1110)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 11677)
Completed 200 OK in 48ms (Views: 33.9ms | ActiveRecord: 3.7ms | Allocations: 14280)


Started GET "/" for ::1 at 2022-02-18 11:54:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 5288)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.8ms | Allocations: 1110)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 11535)
Completed 200 OK in 46ms (Views: 33.8ms | ActiveRecord: 4.6ms | Allocations: 14146)


Started GET "/users/sign_out" for ::1 at 2022-02-18 11:54:50 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2046)


Started GET "/" for ::1 at 2022-02-18 11:54:50 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 486)


Started GET "/users/sign_in" for ::1 at 2022-02-18 11:54:50 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 565)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2073)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 6586)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms | Allocations: 8382)


Started POST "/users/sign_in" for ::1 at 2022-02-18 11:54:54 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 219ms (ActiveRecord: 0.6ms | Allocations: 3009)


Started GET "/" for ::1 at 2022-02-18 11:54:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4675)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9860)
Completed 200 OK in 20ms (Views: 14.2ms | ActiveRecord: 2.1ms | Allocations: 11567)


Started GET "/" for ::1 at 2022-02-18 11:55:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 5414)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.1ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 11869)
Completed 200 OK in 60ms (Views: 32.3ms | ActiveRecord: 3.9ms | Allocations: 14389)


Started GET "/" for ::1 at 2022-02-18 12:08:55 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:24
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  Rendered books/index.html.erb within layouts/application (Duration: 34.8ms | Allocations: 27701)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.3ms | Allocations: 870)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 33119)
Completed 200 OK in 70ms (Views: 38.4ms | ActiveRecord: 8.4ms | Allocations: 47866)


Started GET "/" for ::1 at 2022-02-18 12:10:52 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25
  Rendered books/index.html.erb within layouts/application (Duration: 21.2ms | Allocations: 14967)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 15054)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.8ms | Allocations: 27992)


  
ActionView::Template::Error (undefined method `+' for nil:NilClass):
    24:     <tbody>
    25:       <% @books.each do |book,index| %>
    26:         <tr>
    27:           <%= page_index(params[:page], index) %>
    28:           <td><%= book.name %></td>
    29:           <td><%= book.author.name %></td>
    30:           <td><%= book.description %></td>
  
app/helpers/application_helper.rb:15:in `page_index'
app/views/books/index.html.erb:27
app/views/books/index.html.erb:25
Started GET "/" for ::1 at 2022-02-18 12:11:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25
  Rendered books/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2999)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3077)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.8ms | Allocations: 4873)


  
ActionView::Template::Error (undefined method `+' for nil:NilClass):
    24:     <tbody>
    25:       <% @books.each do |book,index| %>
    26:         <tr>
    27:           <%= page_index(params[:page], index) %>
    28:           <td><%= book.name %></td>
    29:           <td><%= book.author.name %></td>
    30:           <td><%= book.description %></td>
  
app/helpers/application_helper.rb:15:in `page_index'
app/views/books/index.html.erb:27
app/views/books/index.html.erb:25
Started GET "/" for ::1 at 2022-02-18 12:11:44 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 61.9ms | Allocations: 21536)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1185)
  Rendered layout layouts/application.html.erb (Duration: 73.6ms | Allocations: 28059)
Completed 200 OK in 87ms (Views: 66.2ms | ActiveRecord: 12.6ms | Allocations: 30597)


Started GET "/books/new" for ::1 at 2022-02-18 12:11:49 +0530
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY "authors"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  ↳ app/views/books/_form.html.erb:34
  Rendered books/_form.html.erb (Duration: 17.4ms | Allocations: 7258)
  Rendered books/new.html.erb within layouts/application (Duration: 18.7ms | Allocations: 7540)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.5ms | Allocations: 889)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 12878)
Completed 200 OK in 32ms (Views: 24.6ms | ActiveRecord: 2.6ms | Allocations: 14773)


Started GET "/books" for ::1 at 2022-02-18 12:11:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 4659)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 9816)
Completed 200 OK in 40ms (Views: 27.6ms | ActiveRecord: 4.7ms | Allocations: 11660)


Started GET "/books" for ::1 at 2022-02-18 12:18:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 5504)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.0ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 11768)
Completed 200 OK in 48ms (Views: 21.3ms | ActiveRecord: 11.7ms | Allocations: 16710)


Started GET "/books" for ::1 at 2022-02-18 12:19:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 5461)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.8ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 11725)
Completed 200 OK in 48ms (Views: 32.5ms | ActiveRecord: 5.8ms | Allocations: 14370)


Started GET "/books" for ::1 at 2022-02-18 12:20:08 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 5463)
  Rendered layouts/_messages.html.erb (Duration: 1.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.5ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 11727)
Completed 200 OK in 44ms (Views: 35.5ms | ActiveRecord: 4.1ms | Allocations: 14362)


Started GET "/books" for ::1 at 2022-02-18 12:20:15 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 5463)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.8ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 11727)
Completed 200 OK in 42ms (Views: 32.1ms | ActiveRecord: 3.6ms | Allocations: 14358)


Started GET "/books" for ::1 at 2022-02-18 12:24:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 18.0ms | Allocations: 5462)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.4ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 11726)
Completed 200 OK in 36ms (Views: 28.9ms | ActiveRecord: 3.7ms | Allocations: 14375)


Started GET "/" for ::1 at 2022-02-18 12:24:04 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 4599)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 1.8ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 9927)
Completed 200 OK in 31ms (Views: 25.7ms | ActiveRecord: 2.2ms | Allocations: 11744)


Started GET "/users" for ::1 at 2022-02-18 12:24:05 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:8
  Rendered users/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 894)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 5.5ms | Allocations: 1294)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 6762)
Completed 200 OK in 19ms (Views: 13.0ms | ActiveRecord: 1.7ms | Allocations: 9373)


Started GET "/users" for ::1 at 2022-02-18 12:25:44 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  Rendered users/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 942)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 5.5ms | Allocations: 1614)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 7694)
Completed 200 OK in 28ms (Views: 19.4ms | ActiveRecord: 2.3ms | Allocations: 10318)


Started GET "/users" for ::1 at 2022-02-18 12:25:53 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  Rendered users/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1076)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 4.6ms | Allocations: 1607)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 7992)
Completed 200 OK in 29ms (Views: 20.6ms | ActiveRecord: 1.9ms | Allocations: 10607)


Started GET "/users" for ::1 at 2022-02-18 12:26:02 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  ↳ app/views/users/index.html.erb:13
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  ↳ app/views/users/index.html.erb:13
  Rendered users/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3188)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 4.2ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 9837)
Completed 200 OK in 40ms (Views: 25.7ms | ActiveRecord: 4.7ms | Allocations: 12452)


Started GET "/users" for ::1 at 2022-02-18 12:26:11 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  Rendered users/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1876)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 6.4ms | Allocations: 1543)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 8555)
Completed 200 OK in 33ms (Views: 26.6ms | ActiveRecord: 1.7ms | Allocations: 11147)


Started GET "/users" for ::1 at 2022-02-18 12:26:16 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  ↳ app/views/users/index.html.erb:13
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  ↳ app/views/users/index.html.erb:13
  Rendered users/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3117)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 3.7ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 9766)
Completed 200 OK in 33ms (Views: 24.7ms | ActiveRecord: 3.1ms | Allocations: 12377)


  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
Started GET "/users" for ::1 at 2022-02-18 12:27:07 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  Rendered users/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 4771)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4855)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms | Allocations: 7426)


  
ActionView::Template::Error (undefined method `role' for #<User id: 1, email: "admin@mail.com", created_at: "2022-02-18 06:20:54.180528000 +0000", updated_at: "2022-02-18 06:20:54.180528000 +0000">
Did you mean?  roles):
    10:       <tr>
    11:         <%= page_index(params[:page], index) %>
    12:         <td><%= user.email %></td>
    13:         <td><%= user.role.inspect %></td>
    14:       </tr>
    15:     <% end %>
    16:   </tbody>
  
app/views/users/index.html.erb:13
app/views/users/index.html.erb:9:in `each_with_index'
app/views/users/index.html.erb:9
Started GET "/users" for ::1 at 2022-02-18 12:27:19 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:13
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ (pry):5
  Rendered users/index.html.erb within layouts/application (Duration: 42854.4ms | Allocations: 67324)
  Rendered layouts/_messages.html.erb (Duration: 5.7ms | Allocations: 209)
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 7.3ms | Allocations: 1518)
  Rendered layout layouts/application.html.erb (Duration: 42892.0ms | Allocations: 74209)
Completed 200 OK in 42902ms (Views: 42891.5ms | ActiveRecord: 5.1ms | Allocations: 76864)


Started GET "/users" for ::1 at 2022-02-18 12:28:07 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:9:in `each_with_index'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:13
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:13
  Rendered users/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 2832)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 6.1ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 9495)
Completed 200 OK in 40ms (Views: 28.9ms | ActiveRecord: 4.4ms | Allocations: 12120)


Started GET "/users" for ::1 at 2022-02-18 12:28:18 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2853)
  Rendered layouts/_messages.html.erb (Duration: 1.6ms | Allocations: 209)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 5.6ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 9516)
Completed 200 OK in 38ms (Views: 29.5ms | ActiveRecord: 3.2ms | Allocations: 12118)


Started GET "/authors" for ::1 at 2022-02-18 12:28:22 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2219)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_sidebar.html.erb (Duration: 2.3ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 7581)
Completed 200 OK in 27ms (Views: 20.3ms | ActiveRecord: 1.6ms | Allocations: 10182)


Started GET "/authors" for ::1 at 2022-02-18 12:29:12 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 2215)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 8483)
Completed 200 OK in 46ms (Views: 31.2ms | ActiveRecord: 3.4ms | Allocations: 11112)


Started GET "/authors" for ::1 at 2022-02-18 12:29:13 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 6742)
Completed 200 OK in 27ms (Views: 15.5ms | ActiveRecord: 3.1ms | Allocations: 8521)


Started GET "/categories" for ::1 at 2022-02-18 12:29:16 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2216)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.2ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7578)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 1.1ms | Allocations: 10185)


Started GET "/authors" for ::1 at 2022-02-18 12:29:18 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.2ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 6742)
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 2.2ms | Allocations: 8534)


Started GET "/users" for ::1 at 2022-02-18 12:29:19 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2852)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1206)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 8701)
Completed 200 OK in 37ms (Views: 18.0ms | ActiveRecord: 2.4ms | Allocations: 11041)


Started GET "/" for ::1 at 2022-02-18 12:29:21 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 5461)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 10823)
Completed 200 OK in 36ms (Views: 23.7ms | ActiveRecord: 2.9ms | Allocations: 13282)


Started GET "/users" for ::1 at 2022-02-18 12:29:25 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2376)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.2ms | Allocations: 1118)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 7846)
Completed 200 OK in 27ms (Views: 19.2ms | ActiveRecord: 2.9ms | Allocations: 9624)


Started GET "/authors" for ::1 at 2022-02-18 12:29:26 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 6785)
Completed 200 OK in 31ms (Views: 19.2ms | ActiveRecord: 2.4ms | Allocations: 8486)


Started GET "/categories" for ::1 at 2022-02-18 12:29:27 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.9ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 6788)
Completed 200 OK in 29ms (Views: 17.1ms | ActiveRecord: 3.0ms | Allocations: 8495)


Started GET "/" for ::1 at 2022-02-18 12:29:30 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4598)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.1ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 9754)
Completed 200 OK in 30ms (Views: 22.5ms | ActiveRecord: 3.1ms | Allocations: 11473)


Started GET "/users" for ::1 at 2022-02-18 12:29:32 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2375)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.4ms | Allocations: 1118)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 7845)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 2.6ms | Allocations: 9538)


Started GET "/" for ::1 at 2022-02-18 12:29:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:25:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:32
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:32
  Rendered books/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 4598)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 9754)
Completed 200 OK in 29ms (Views: 19.0ms | ActiveRecord: 3.0ms | Allocations: 11483)


DEPRECATION WARNING: ActiveRecord::Base.timestamped_migrations is deprecated and will be removed in Rails 7.1.
Use `ActiveRecord.timestamped_migrations` instead.
 (called from <main> at bin/rails:4)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ActsAsFavoritorMigration (20220218070044)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites"[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "favoritable_type" character varying NOT NULL, "favoritable_id" bigint NOT NULL, "favoritor_type" character varying NOT NULL, "favoritor_id" bigint NOT NULL, "scope" character varying DEFAULT 'favorite' NOT NULL, "blocked" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_favoritable" ON "favorites" ("favoritable_type", "favoritable_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_favoritor" ON "favorites" ("favoritor_type", "favoritor_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_scope" ON "favorites" ("scope")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_blocked" ON "favorites" ("blocked")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "fk_favorites" ON "favorites" ("favoritor_id", "favoritor_type")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "fk_favoritables" ON "favorites" ("favoritable_id", "favoritable_type")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "uniq_favorites__and_favoritables" ON "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220218070044"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4920356370046580400)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/rails/info/routes" for ::1 at 2022-02-18 12:33:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [78 times] (Duration: 16.0ms | Allocations: 12529)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 2.1ms | Allocations: 1425)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 25.2ms | Allocations: 22511)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 25.9ms | Allocations: 22905)
Completed 200 OK in 47ms (Views: 42.2ms | ActiveRecord: 0.0ms | Allocations: 28821)


Started GET "/rails/info/routes" for ::1 at 2022-02-18 12:33:20 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [78 times] (Duration: 25.0ms | Allocations: 12377)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 1.8ms | Allocations: 948)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 37.8ms | Allocations: 21412)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 38.6ms | Allocations: 21754)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.0ms | Allocations: 22963)


Started GET "/" for ::1 at 2022-02-18 12:34:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 62.1ms | Allocations: 41794)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 221)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.1ms | Allocations: 1208)
  Rendered layout layouts/application.html.erb (Duration: 103.0ms | Allocations: 74345)
Completed 200 OK in 135ms (Views: 89.0ms | ActiveRecord: 19.9ms | Allocations: 93907)


Started GET "/books?name=ikigai&button=" for ::1 at 2022-02-18 12:34:13 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"ikigai", "button"=>""}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%ikigai%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  Rendered books/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1659)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.5ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6818)
Completed 200 OK in 18ms (Views: 12.9ms | ActiveRecord: 1.6ms | Allocations: 8689)


Started GET "/books?name=&button=" for ::1 at 2022-02-18 12:34:18 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 4692)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 10021)
Completed 200 OK in 29ms (Views: 20.1ms | ActiveRecord: 4.5ms | Allocations: 11777)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:34:23 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3171)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 8330)
Completed 200 OK in 28ms (Views: 18.4ms | ActiveRecord: 3.6ms | Allocations: 10106)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:34:34 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 4164)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 10430)
Completed 200 OK in 39ms (Views: 30.4ms | ActiveRecord: 3.6ms | Allocations: 13017)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:34:42 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 4158)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 10421)
Completed 200 OK in 38ms (Views: 29.1ms | ActiveRecord: 3.0ms | Allocations: 13079)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:34:45 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3170)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.2ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 8326)
Completed 200 OK in 34ms (Views: 20.4ms | ActiveRecord: 3.7ms | Allocations: 10163)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:35:30 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:33:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:40
  Rendered books/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4158)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 10421)
Completed 200 OK in 35ms (Views: 26.4ms | ActiveRecord: 2.7ms | Allocations: 12995)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:35:45 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 4160)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 10423)
Completed 200 OK in 41ms (Views: 29.4ms | ActiveRecord: 3.5ms | Allocations: 13091)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:35:59 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 4159)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 10594)
Completed 200 OK in 38ms (Views: 29.7ms | ActiveRecord: 3.0ms | Allocations: 13258)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:36:33 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 5196)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5290)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.4ms | Allocations: 7931)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if user_signed_in? %>
  <% if admin? %>
    <h2 class= 'text-center' style= 'background-color: lightblue'>Admin Dashboard</h2><br/>
    <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
      <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
    <% end %>
  <% else %>
    <h2 class= 'text-center' style= 'background-color: lightblue'>User Dashboard</h2>
  <% end %>
  <br>
  <br>

  <div class="pull-left col-md-4">
    <%= form_tag books_path, method: 'get' do %>
      <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Search book" %>
      <span><%= button_tag( type: "submit") %>Search</span>
      <% end %>
    <% end %>
  </div><br/>

  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th><%= 'Book Name' %></th>
        <th><%= 'Author' %></th>
        <th><%= 'Description' %></th>
        <th><%= 'Category' %>
        <th><%= 'Publish At'%></th>
      </tr>
    </thead>
    <tbody>
      <% @books.each_with_index do |book,index| %>
        <tr>
          <%= page_index(params[:page], index) %>
          <td><%= book.name %></td>
          <td><%= book.author.name %></td>
          <td><%= book.description %></td>
          <td>
            <% book.category.each do |category_name| %>
              <li><%= category_name.name %></li>
            <% end %>
          </td>
          <td><%= book.publish_at.to_date %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

):
1:    <% if user_signed_in? %>
2:      <% if admin? %>
3:        <h2 class= 'text-center' style= 'background-color: lightblue'>Admin Dashboard</h2><br/>
4:        <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
5:          <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
6:        <% end %>
7:      <% else %>
8:        <h2 class= 'text-center' style= 'background-color: lightblue'>User Dashboard</h2>
9:      <% end %>
10:      <br>
11:      <br>
12:    
13:      <div class="pull-left col-md-4">
14:        <%= form_tag books_path, method: 'get' do %>
15:          <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Search book" %>
16:          <span><%= button_tag( type: "submit") %>Search</span>
17:          <% end %>
18:        <% end %>
19:      </div><br/>
20:    
21:      <table class="table table-bordered table-hover">
22:        <thead>
23:          <tr>
24:            <th>#</th>
25:            <th><%= 'Book Name' %></th>
26:            <th><%= 'Author' %></th>
27:            <th><%= 'Description' %></th>
28:            <th><%= 'Category' %>
29:            <th><%= 'Publish At'%></th>
30:          </tr>
31:        </thead>
32:        <tbody>
33:          <% @books.each_with_index do |book,index| %>
34:            <tr>
35:              <%= page_index(params[:page], index) %>
36:              <td><%= book.name %></td>
37:              <td><%= book.author.name %></td>
38:              <td><%= book.description %></td>
39:              <td>
40:                <% book.category.each do |category_name| %>
41:                  <li><%= category_name.name %></li>
42:                <% end %>
43:              </td>
44:              <td><%= book.publish_at.to_date %></td>
45:            </tr>
46:          <% end %>
47:        </tbody>
48:      </table>
49:    <% end %>
  
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:51: syntax error, unexpected `end', expecting end-of-input
Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:36:37 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:32:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:39
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 4134)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.2ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 10568)
Completed 200 OK in 41ms (Views: 30.0ms | ActiveRecord: 3.1ms | Allocations: 13347)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:36:50 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:32:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:39
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4132)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 10394)
Completed 200 OK in 37ms (Views: 28.5ms | ActiveRecord: 3.4ms | Allocations: 13048)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:36:54 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:32:in `each_with_index'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:39
  Rendered books/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 3165)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 8321)
Completed 200 OK in 64ms (Views: 47.2ms | ActiveRecord: 5.6ms | Allocations: 10166)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:37:10 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:32:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:39
  Rendered books/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 4132)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 10394)
Completed 200 OK in 42ms (Views: 30.4ms | ActiveRecord: 3.5ms | Allocations: 12958)


Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 12:37:22 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 4160)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.9ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 10423)
Completed 200 OK in 48ms (Views: 33.4ms | ActiveRecord: 3.5ms | Allocations: 13079)


Started GET "/books?name=&button=" for ::1 at 2022-02-18 12:37:25 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"", "button"=>""}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4690)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 9846)
Completed 200 OK in 29ms (Views: 20.9ms | ActiveRecord: 3.0ms | Allocations: 11675)


Started GET "/books?name=&button=" for ::1 at 2022-02-18 12:37:41 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"", "button"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 5680)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 11943)
Completed 200 OK in 42ms (Views: 32.4ms | ActiveRecord: 3.7ms | Allocations: 14525)


Started GET "/users/sign_out" for ::1 at 2022-02-18 12:41:40 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 0.4ms | Allocations: 5079)


Started GET "/" for ::1 at 2022-02-18 12:41:40 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 610)


Started GET "/users/sign_in" for ::1 at 2022-02-18 12:41:40 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.2ms | Allocations: 897)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3995)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 9207)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.0ms | Allocations: 11772)


Started POST "/users/sign_in" for ::1 at 2022-02-18 12:41:45 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 0.6ms | Allocations: 4655)


Started GET "/" for ::1 at 2022-02-18 12:41:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 5611)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.4ms | Allocations: 1068)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 11458)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 2.1ms | Allocations: 14013)


  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFavorite Load (2.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 1], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 1], ["favoritor_type", "User"], ["favoritor_id", 1], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 07:15:48.201463"], ["updated_at", "2022-02-18 07:15:48.201463"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_type" = $5[0m  [["favoritor_id", 1], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_type", "book"]]
Started GET "/rails/info/routes" for ::1 at 2022-02-18 12:47:23 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [79 times] (Duration: 12.5ms | Allocations: 12532)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 0.9ms | Allocations: 948)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 17.6ms | Allocations: 21675)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 18.4ms | Allocations: 22016)
Completed 200 OK in 20ms (Views: 19.5ms | Allocations: 23139)


Started GET "/" for ::1 at 2022-02-18 12:49:20 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 41.4ms | Allocations: 30367)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.2ms | Allocations: 780)
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | Allocations: 35860)
Completed 200 OK in 67ms (Views: 45.1ms | ActiveRecord: 10.0ms | Allocations: 43477)


Started GET "/" for ::1 at 2022-02-18 12:50:47 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 7708)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 7792)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.5ms | Allocations: 9010)


  
ActionView::Template::Error (undefined local variable or method `cocktail' for #<ActionView::Base:0x0000000001d330>):
    28:         <th><%= 'Description' %></th>
    29:         <th><%= 'Category' %>
    30:         <th><%= 'Publish At'%></th>
    31:         <th><%= link_to "like", toggle_favorite_cocktail_path(cocktail), remote: true, method: :post %>
    32: </th>
    33:       </tr>
    34:     </thead>
  
app/views/books/index.html.erb:31
Started GET "/" for ::1 at 2022-02-18 12:51:05 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 7750)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 7834)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.4ms | Allocations: 9003)


  
ActionView::Template::Error (undefined local variable or method `book' for #<ActionView::Base:0x0000000001d718>
Did you mean?  @books):
    28:         <th><%= 'Description' %></th>
    29:         <th><%= 'Category' %>
    30:         <th><%= 'Publish At'%></th>
    31:         <th><%= link_to "like", toggle_favorite_book_path(book), remote: true, method: :post %>
    32: </th>
    33:       </tr>
    34:     </thead>
  
app/views/books/index.html.erb:31
Started GET "/" for ::1 at 2022-02-18 12:51:16 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 22.9ms | Allocations: 4271)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 4355)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.4ms | Allocations: 5526)


  
ActionView::Template::Error (No route matches {:action=>"toggle_favorite", :controller=>"books", :id=>nil}, missing required keys: [:id]):
    28:         <th><%= 'Description' %></th>
    29:         <th><%= 'Category' %>
    30:         <th><%= 'Publish At'%></th>
    31:         <th><%= link_to "like", toggle_favorite_book_path(@book), remote: true, method: :post %>
    32: </th>
    33:       </tr>
    34:     </thead>
  
app/views/books/index.html.erb:31
Started GET "/" for ::1 at 2022-02-18 12:51:23 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 4252)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 4336)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.4ms | Allocations: 5505)


  
ActionView::Template::Error (No route matches {:action=>"toggle_favorite", :controller=>"books", :id=>nil}, missing required keys: [:id]):
    28:         <th><%= 'Description' %></th>
    29:         <th><%= 'Category' %>
    30:         <th><%= 'Publish At'%></th>
    31:         <th><%= link_to "like", toggle_favorite_book_path(@book), remote: true, method: :post %>
    32: </th>
    33:       </tr>
    34:     </thead>
  
app/views/books/index.html.erb:31
Started GET "/" for ::1 at 2022-02-18 12:51:40 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 22.2ms | Allocations: 6882)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 13222)
Completed 200 OK in 39ms (Views: 33.2ms | ActiveRecord: 3.9ms | Allocations: 14430)


Started GET "/" for ::1 at 2022-02-18 12:51:52 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 6867)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.3ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 13033)
Completed 200 OK in 43ms (Views: 35.1ms | ActiveRecord: 4.5ms | Allocations: 14247)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 12:51:55 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" ORDER BY "favorites"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" ORDER BY "favorites"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-02-18 12:52:15 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 5795)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.6ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 10866)
Completed 200 OK in 41ms (Views: 33.3ms | ActiveRecord: 4.6ms | Allocations: 11257)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 12:52:20 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 12:53:57 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 6867)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 13205)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 3.4ms | Allocations: 14391)


Started GET "/" for ::1 at 2022-02-18 12:53:58 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 5788)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.6ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 10859)
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 3.0ms | Allocations: 11250)


Started GET "/" for ::1 at 2022-02-18 12:53:59 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 5790)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 10861)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 3.3ms | Allocations: 11230)


Started GET "/" for ::1 at 2022-02-18 12:53:59 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 5798)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 10869)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 3.2ms | Allocations: 11238)


Started GET "/" for ::1 at 2022-02-18 12:53:59 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 5784)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.5ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 10855)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 3.1ms | Allocations: 11224)


Started GET "/" for ::1 at 2022-02-18 12:53:59 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 20.0ms | Allocations: 5789)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.6ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 11032)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 2.8ms | Allocations: 11402)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 12:54:02 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 13:10:30 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 31150)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1089)
  Rendered layout layouts/application.html.erb (Duration: 59.2ms | Allocations: 37568)
Completed 200 OK in 85ms (Views: 56.8ms | ActiveRecord: 10.9ms | Allocations: 45380)


Started GET "/" for ::1 at 2022-02-18 13:10:56 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 6864)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 13030)
Completed 200 OK in 34ms (Views: 27.9ms | ActiveRecord: 3.4ms | Allocations: 14254)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 13:10:59 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:21:53 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 5934)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.9ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 11177)
Completed 200 OK in 66ms (Views: 37.4ms | ActiveRecord: 14.3ms | Allocations: 13781)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:21:58 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:22:13 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 5791)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.1ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 11034)
Completed 200 OK in 36ms (Views: 29.9ms | ActiveRecord: 4.6ms | Allocations: 11399)


Started GET "/" for ::1 at 2022-02-18 14:22:40 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 90.6ms | Allocations: 32130)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.1ms | Allocations: 760)
  Rendered layout layouts/application.html.erb (Duration: 99.0ms | Allocations: 37594)
Completed 200 OK in 108ms (Views: 71.9ms | ActiveRecord: 28.7ms | Allocations: 42697)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:22:52 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:23:42 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 6875)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | Allocations: 13213)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 3.7ms | Allocations: 14429)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:23:45 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:24:01 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 6876)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.0ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 13042)
Completed 200 OK in 34ms (Views: 28.8ms | ActiveRecord: 3.3ms | Allocations: 14246)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:24:03 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" ORDER BY "favorites"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2022-02-18 14:28:45 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 5796)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.9ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 50.2ms | Allocations: 11039)
Completed 200 OK in 52ms (Views: 47.1ms | ActiveRecord: 4.0ms | Allocations: 11427)


Started GET "/" for ::1 at 2022-02-18 14:31:32 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 136.3ms | Allocations: 49028)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 235)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1105)
  Rendered layout layouts/application.html.erb (Duration: 221.4ms | Allocations: 81329)
Completed 200 OK in 242ms (Views: 194.3ms | ActiveRecord: 30.8ms | Allocations: 91403)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:31:39 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:32:03 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 6876)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.8ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 13044)
Completed 200 OK in 38ms (Views: 31.9ms | ActiveRecord: 4.0ms | Allocations: 14289)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:32:05 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:33:31 +0530
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:1
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 96.0ms | Allocations: 32729)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 1082)
  Rendered layout layouts/application.html.erb (Duration: 107.6ms | Allocations: 39139)
Completed 200 OK in 118ms (Views: 81.3ms | ActiveRecord: 28.2ms | Allocations: 44591)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:33:33 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:34:08 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 87.6ms | Allocations: 28178)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.0ms | Allocations: 760)
  Rendered layout layouts/application.html.erb (Duration: 97.7ms | Allocations: 33643)
Completed 200 OK in 127ms (Views: 77.1ms | ActiveRecord: 27.8ms | Allocations: 47247)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:34:14 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/1/toggle_favorite" for ::1 at 2022-02-18 14:34:52 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/1/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 14:35:18 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 87.3ms | Allocations: 39171)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1102)
  Rendered layout layouts/application.html.erb (Duration: 197.5ms | Allocations: 71645)
Completed 200 OK in 237ms (Views: 179.0ms | ActiveRecord: 25.8ms | Allocations: 93425)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:35:21 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books?name=Secret&button=" for ::1 at 2022-02-18 14:36:28 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"Secret", "button"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%Secret%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 4163)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1061)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 10332)
Completed 200 OK in 40ms (Views: 31.3ms | ActiveRecord: 3.5ms | Allocations: 12979)


Started GET "/books?name=&button=" for ::1 at 2022-02-18 14:36:32 +0530
Processing by BooksController#index as HTML
  Parameters: {"name"=>"", "button"=>""}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (name LIKE '%%') ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 4700)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.2ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 9771)
Completed 200 OK in 39ms (Views: 27.5ms | ActiveRecord: 5.0ms | Allocations: 11593)


Started GET "/books" for ::1 at 2022-02-18 14:41:22 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 85.1ms | Allocations: 28848)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1082)
  Rendered layout layouts/application.html.erb (Duration: 100.3ms | Allocations: 35177)
Completed 200 OK in 136ms (Views: 77.2ms | ActiveRecord: 30.7ms | Allocations: 48908)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:41:27 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:42:15 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 5703)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 212)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.5ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 11961)
Completed 200 OK in 56ms (Views: 46.0ms | ActiveRecord: 4.4ms | Allocations: 14586)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:42:21 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:42:49 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:45:48 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 95.3ms | Allocations: 39526)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 1103)
  Rendered layout layouts/application.html.erb (Duration: 178.7ms | Allocations: 72125)
Completed 200 OK in 250ms (Views: 157.3ms | ActiveRecord: 32.0ms | Allocations: 96051)


Started GET "/rails/info/routes" for ::1 at 2022-02-18 14:45:53 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [79 times] (Duration: 23.9ms | Allocations: 12654)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 2.0ms | Allocations: 1320)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 35.5ms | Allocations: 22277)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 36.4ms | Allocations: 22661)
Completed 200 OK in 40ms (Views: 38.6ms | ActiveRecord: 0.0ms | Allocations: 23932)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:46:05 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:46:45 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:47:36 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 103.6ms | Allocations: 39546)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.5ms | Allocations: 1103)
  Rendered layout layouts/application.html.erb (Duration: 186.3ms | Allocations: 72011)
Completed 200 OK in 236ms (Views: 168.1ms | ActiveRecord: 27.0ms | Allocations: 95938)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:47:38 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/rails/info/routes?path=toggle_favorite_book_path" for ::1 at 2022-02-18 14:47:58 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"toggle_favorite_book_path"}
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 3167)


Started GET "/rails/info/routes?path=toggle_favorite_book_path" for ::1 at 2022-02-18 14:47:58 +0530
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"toggle_favorite_book_path"}
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1072)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:49:07 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:49:10 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:49:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 5707)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.2ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 12049)
Completed 200 OK in 40ms (Views: 28.8ms | ActiveRecord: 4.7ms | Allocations: 14751)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:49:18 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:53:09 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 5713)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 212)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1063)
  Rendered layout layouts/application.html.erb (Duration: 45.2ms | Allocations: 12057)
Completed 200 OK in 52ms (Views: 42.8ms | ActiveRecord: 4.5ms | Allocations: 14647)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:53:16 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:53:30 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:54:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 99.8ms | Allocations: 39419)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 226)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1109)
  Rendered layout layouts/application.html.erb (Duration: 185.6ms | Allocations: 71863)
Completed 200 OK in 232ms (Views: 159.0ms | ActiveRecord: 35.5ms | Allocations: 93658)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:54:44 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Count (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 09:24:57.864361"], ["updated_at", "2022-02-18 09:24:57.864361"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
Completed 406 Not Acceptable in 13171ms (ActiveRecord: 21.5ms | Allocations: 33436)


  
ActionController::UnknownFormat (BooksController#toggle_favorite is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (7.0.2.2) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:55:25 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books" for ::1 at 2022-02-18 14:56:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1655)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 1740)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms | Allocations: 4310)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if user_signed_in? %>
  <% if admin? %>
    <h2 class= 'text-center' style= 'background-color: lightblue'>Admin Dashboard</h2><br/>
    <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
      <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
    <% end %>
  <% else %>
    <h2 class= 'text-center' style= 'background-color: lightblue'>User Dashboard</h2>
  <% end %>
  <br>
  <br>

  <div class="pull-left col-md-4">
    <%= form_tag books_path, method: 'get' do %>
      <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
      <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
        <span>Search</span>
      <% end %>
    <% end %>
  </div><br/>

  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th><%= 'Book Name' %></th>
        <th><%= 'Author' %></th>
        <th><%= 'Description' %></th>
        <th><%= 'Category' %>
        <th><%= 'Publish At'%></th>
      </tr>
    </thead>
    <tbody>
      <% @books.each_with_index do |book,index| %>
        <tr>
          <%= page_index(params[:page], index) %>
          <td><%= book.name %></td>
          <td><%= book.author.name %></td>
          <td><%= book.description %></td>
          <td>
            <% book.category.each do |category_name| %>
              <li><%= category_name.name %></li>
            <% end %>
          </td>
          <td><%= book.publish_at.to_date %></td>
          <td>
            <%= link_to "Like", toggle_favorite_book_path(id: book.id),method: :post} %>

          <%#= button_to 'Like', toggle_favorite_book_path(book), method: :post %></td>

        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

):
1:    <% if user_signed_in? %>
2:      <% if admin? %>
3:        <h2 class= 'text-center' style= 'background-color: lightblue'>Admin Dashboard</h2><br/>
4:        <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
5:          <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
6:        <% end %>
7:      <% else %>
8:        <h2 class= 'text-center' style= 'background-color: lightblue'>User Dashboard</h2>
9:      <% end %>
10:      <br>
11:      <br>
12:    
13:      <div class="pull-left col-md-4">
14:        <%= form_tag books_path, method: 'get' do %>
15:          <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
16:          <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
17:            <span>Search</span>
18:          <% end %>
19:        <% end %>
20:      </div><br/>
21:    
22:      <table class="table table-bordered table-hover">
23:        <thead>
24:          <tr>
25:            <th>#</th>
26:            <th><%= 'Book Name' %></th>
27:            <th><%= 'Author' %></th>
28:            <th><%= 'Description' %></th>
29:            <th><%= 'Category' %>
30:            <th><%= 'Publish At'%></th>
31:          </tr>
32:        </thead>
33:        <tbody>
34:          <% @books.each_with_index do |book,index| %>
35:            <tr>
36:              <%= page_index(params[:page], index) %>
37:              <td><%= book.name %></td>
38:              <td><%= book.author.name %></td>
39:              <td><%= book.description %></td>
40:              <td>
41:                <% book.category.each do |category_name| %>
42:                  <li><%= category_name.name %></li>
43:                <% end %>
44:              </td>
45:              <td><%= book.publish_at.to_date %></td>
46:              <td>
47:                <%= link_to "Like", toggle_favorite_book_path(id: book.id),method: :post} %>
48:    
49:              <%#= button_to 'Like', toggle_favorite_book_path(book), method: :post %></td>
50:    
51:            </tr>
52:          <% end %>
53:        </tbody>
54:      </table>
55:    <% end %>
  
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:47: syntax error, unexpected '}', expecting ')'
app/views/books/index.html.erb:52: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:55: syntax error, unexpected `end', expecting ')'
app/views/books/index.html.erb:57: syntax error, unexpected `end', expecting ')'
Started GET "/books" for ::1 at 2022-02-18 14:56:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 25.2ms | Allocations: 5822)
  Rendered layouts/_messages.html.erb (Duration: 1.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.8ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 44.5ms | Allocations: 12162)
Completed 200 OK in 56ms (Views: 42.4ms | ActiveRecord: 5.3ms | Allocations: 14923)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 14:57:01 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/rails/info/routes" for ::1 at 2022-02-18 14:57:46 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [79 times] (Duration: 22.8ms | Allocations: 12531)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 1.5ms | Allocations: 948)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 29.7ms | Allocations: 21671)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 30.8ms | Allocations: 22015)
Completed 200 OK in 33ms (Views: 32.1ms | ActiveRecord: 0.0ms | Allocations: 23273)


Started GET "/books" for ::1 at 2022-02-18 14:58:15 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 80.1ms | Allocations: 28927)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.3ms | Allocations: 1082)
  Rendered layout layouts/application.html.erb (Duration: 92.3ms | Allocations: 35341)
Completed 200 OK in 129ms (Views: 74.9ms | ActiveRecord: 25.8ms | Allocations: 49098)


Started GET "/books/toggle_favorite.2" for ::1 at 2022-02-18 14:58:20 +0530
  
AbstractController::ActionNotFound (The action 'show' could not be found for BooksController):
  
actionpack (7.0.2.2) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/rails/info/routes" for ::1 at 2022-02-18 14:59:37 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [79 times] (Duration: 21.3ms | Allocations: 12534)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 2.7ms | Allocations: 948)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 29.6ms | Allocations: 21674)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 30.6ms | Allocations: 22015)
Completed 200 OK in 34ms (Views: 33.0ms | ActiveRecord: 0.0ms | Allocations: 23147)


Started GET "/books" for ::1 at 2022-02-18 14:59:51 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 78.0ms | Allocations: 28903)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.7ms | Allocations: 1082)
  Rendered layout layouts/application.html.erb (Duration: 91.7ms | Allocations: 35311)
Completed 200 OK in 131ms (Views: 73.7ms | ActiveRecord: 27.1ms | Allocations: 49066)


Started GET "/books" for ::1 at 2022-02-18 15:00:04 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 5779)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1060)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 11946)
Completed 200 OK in 40ms (Views: 31.8ms | ActiveRecord: 3.0ms | Allocations: 14585)


Started GET "/toggle_favorite?id=2" for ::1 at 2022-02-18 15:00:08 +0530
  
ActionController::RoutingError (No route matches [GET] "/toggle_favorite"):
  
Started GET "/rails/info/routes" for ::1 at 2022-02-18 15:01:48 +0530
  
SyntaxError (/home/botree/sites/UserDashboardMgt/config/routes.rb:14: syntax error, unexpected `end', expecting end-of-input):
  
config/routes.rb:14: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:14: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:14: syntax error, unexpected `end', expecting end-of-input
Started GET "/rails/info/routes" for ::1 at 2022-02-18 15:01:56 +0530
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [79 times] (Duration: 26.1ms | Allocations: 12532)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/actionpack-7.0.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 2.5ms | Allocations: 948)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 39.7ms | Allocations: 21686)
  Rendered layout /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/railties-7.0.2.2/lib/rails/templates/layouts/application.html.erb (Duration: 40.8ms | Allocations: 22027)
Completed 200 OK in 44ms (Views: 42.7ms | ActiveRecord: 0.0ms | Allocations: 23183)


Started GET "/books" for ::1 at 2022-02-18 15:02:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 88.9ms | Allocations: 29111)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1087)
  Rendered layout layouts/application.html.erb (Duration: 102.7ms | Allocations: 35501)
Completed 200 OK in 130ms (Views: 80.6ms | ActiveRecord: 29.0ms | Allocations: 49203)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:02:28 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ (pry):1:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ (pry):3:in `toggle_favorite'
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ (pry):4:in `toggle_favorite'
  [1m[36mCACHE Book Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Destroy (1.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
Completed 406 Not Acceptable in 43324ms (ActiveRecord: 16.6ms | Allocations: 36570)


  
ActionController::UnknownFormat (BooksController#toggle_favorite is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (7.0.2.2) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
<internal:kernel>:90:in `tap'
actionpack (7.0.2.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.2.2) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.2) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.2) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.2) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.2) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.2) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.2) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.2) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.2) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.2) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.2) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/books" for ::1 at 2022-02-18 15:06:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 70.9ms | Allocations: 28405)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.9ms | Allocations: 765)
  Rendered layout layouts/application.html.erb (Duration: 81.0ms | Allocations: 33847)
Completed 200 OK in 106ms (Views: 62.7ms | ActiveRecord: 23.6ms | Allocations: 47221)


  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" ORDER BY "favorites"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
Started GET "/books" for ::1 at 2022-02-18 15:06:31 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 4900)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 9959)
Completed 200 OK in 61ms (Views: 43.4ms | ActiveRecord: 6.4ms | Allocations: 11796)


Started GET "/books" for ::1 at 2022-02-18 15:06:41 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 115.0ms | Allocations: 39879)
  Rendered layouts/_messages.html.erb (Duration: 1.1ms | Allocations: 230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1114)
  Rendered layout layouts/application.html.erb (Duration: 212.0ms | Allocations: 72333)
Completed 200 OK in 266ms (Views: 191.0ms | ActiveRecord: 31.0ms | Allocations: 96255)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:06:43 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:21:in `toggle_favorite'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 09:36:43.830803"], ["updated_at", "2022-02-18 09:36:43.830803"]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 56ms (ActiveRecord: 10.5ms | Allocations: 19919)


Started GET "/books" for ::1 at 2022-02-18 15:06:43 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 4986)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 36)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 733)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 10150)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 3.9ms | Allocations: 12017)


  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
Started GET "/users/sign_out" for ::1 at 2022-02-18 15:07:39 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.7ms | Allocations: 4911)


Started GET "/" for ::1 at 2022-02-18 15:07:39 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 621)


Started GET "/users/sign_in" for ::1 at 2022-02-18 15:07:39 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.5ms | Allocations: 892)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4143)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 8658)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 11041)


Started POST "/users/sign_in" for ::1 at 2022-02-18 15:07:49 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 311ms (ActiveRecord: 1.3ms | Allocations: 5347)


Started GET "/" for ::1 at 2022-02-18 15:07:50 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 7811)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.1ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 13070)
Completed 200 OK in 37ms (Views: 27.6ms | ActiveRecord: 5.0ms | Allocations: 15034)


Started GET "/users" for ::1 at 2022-02-18 15:07:57 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3916)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.0ms | Allocations: 1195)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 9837)
Completed 200 OK in 53ms (Views: 43.7ms | ActiveRecord: 3.4ms | Allocations: 12444)


Started GET "/authors" for ::1 at 2022-02-18 15:07:58 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2260)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 7625)
Completed 200 OK in 35ms (Views: 20.1ms | ActiveRecord: 3.1ms | Allocations: 10260)


Started GET "/categories" for ::1 at 2022-02-18 15:07:59 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 2258)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.7ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 7800)
Completed 200 OK in 28ms (Views: 21.7ms | ActiveRecord: 1.8ms | Allocations: 10431)


Started GET "/" for ::1 at 2022-02-18 15:08:01 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 4987)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 10130)
Completed 200 OK in 38ms (Views: 30.0ms | ActiveRecord: 3.7ms | Allocations: 11941)


Started GET "/" for ::1 at 2022-02-18 15:09:18 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 90.1ms | Allocations: 31240)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.3ms | Allocations: 1170)
  Rendered layout layouts/application.html.erb (Duration: 102.3ms | Allocations: 37750)
Completed 200 OK in 134ms (Views: 84.7ms | ActiveRecord: 25.8ms | Allocations: 51474)


Started GET "/users" for ::1 at 2022-02-18 15:11:18 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3842)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.2ms | Allocations: 1195)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 9591)
Completed 200 OK in 33ms (Views: 24.4ms | ActiveRecord: 3.4ms | Allocations: 12200)


Started GET "/" for ::1 at 2022-02-18 15:11:19 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 26.6ms | Allocations: 6033)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 11361)
Completed 200 OK in 46ms (Views: 35.1ms | ActiveRecord: 4.4ms | Allocations: 13180)


Started GET "/users" for ::1 at 2022-02-18 15:11:22 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2375)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.9ms | Allocations: 1118)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 7845)
Completed 200 OK in 30ms (Views: 21.5ms | ActiveRecord: 3.6ms | Allocations: 9544)


Started GET "/users" for ::1 at 2022-02-18 15:12:06 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:21:in `each_with_index'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:25
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:25
  Rendered users/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4062)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 10329)
Completed 200 OK in 32ms (Views: 23.9ms | ActiveRecord: 3.0ms | Allocations: 12859)


Started GET "/users" for ::1 at 2022-02-18 15:12:39 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2850)
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 10336)
Completed 200 OK in 29ms (Views: 21.7ms | ActiveRecord: 2.7ms | Allocations: 12933)


Started GET "/" for ::1 at 2022-02-18 15:12:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:34:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:41
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 7047)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.3ms | Allocations: 835)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 13095)
Completed 200 OK in 59ms (Views: 45.7ms | ActiveRecord: 4.8ms | Allocations: 15526)


Started GET "/" for ::1 at 2022-02-18 15:13:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 6230)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 212)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.6ms | Allocations: 1157)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 13347)
Completed 200 OK in 59ms (Views: 47.5ms | ActiveRecord: 4.2ms | Allocations: 15997)


Started GET "/users" for ::1 at 2022-02-18 15:13:19 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 2849)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.8ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 9473)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 2.7ms | Allocations: 11875)


Started GET "/" for ::1 at 2022-02-18 15:13:19 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 20.0ms | Allocations: 5339)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 11183)
Completed 200 OK in 39ms (Views: 32.1ms | ActiveRecord: 3.2ms | Allocations: 12998)


Started GET "/" for ::1 at 2022-02-18 15:13:36 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 6229)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 1161)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 12520)
Completed 200 OK in 46ms (Views: 35.6ms | ActiveRecord: 4.0ms | Allocations: 15094)


Started GET "/users" for ::1 at 2022-02-18 15:13:43 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2849)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1206)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 8609)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 3.3ms | Allocations: 11024)


Started GET "/authors" for ::1 at 2022-02-18 15:13:45 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2257)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.0ms | Allocations: 836)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 7619)
Completed 200 OK in 22ms (Views: 16.2ms | ActiveRecord: 1.8ms | Allocations: 10224)


Started GET "/" for ::1 at 2022-02-18 15:13:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 5344)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 1.9ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 10500)
Completed 200 OK in 44ms (Views: 29.8ms | ActiveRecord: 5.3ms | Allocations: 12317)


Started GET "/" for ::1 at 2022-02-18 15:14:06 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 6229)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 210)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1977)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 13313)
Completed 200 OK in 42ms (Views: 31.4ms | ActiveRecord: 3.4ms | Allocations: 15871)


Started GET "/users" for ::1 at 2022-02-18 15:14:08 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 2855)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.3ms | Allocations: 1910)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 9491)
Completed 200 OK in 46ms (Views: 31.1ms | ActiveRecord: 3.8ms | Allocations: 11916)


Started GET "/authors" for ::1 at 2022-02-18 15:14:09 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 2215)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.0ms | Allocations: 1539)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 8452)
Completed 200 OK in 33ms (Views: 24.7ms | ActiveRecord: 1.9ms | Allocations: 10879)


Started GET "/categories" for ::1 at 2022-02-18 15:14:10 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2254)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1539)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 8319)
Completed 200 OK in 30ms (Views: 21.1ms | ActiveRecord: 2.0ms | Allocations: 10922)


Started GET "/" for ::1 at 2022-02-18 15:14:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 5344)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 11372)
Completed 200 OK in 40ms (Views: 27.4ms | ActiveRecord: 4.2ms | Allocations: 13193)


Started GET "/users" for ::1 at 2022-02-18 15:14:17 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2375)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.5ms | Allocations: 1818)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 8545)
Completed 200 OK in 31ms (Views: 22.5ms | ActiveRecord: 3.1ms | Allocations: 10240)


Started GET "/authors" for ::1 at 2022-02-18 15:14:18 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.1ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 7442)
Completed 200 OK in 27ms (Views: 20.1ms | ActiveRecord: 1.8ms | Allocations: 9146)


Started GET "/categories" for ::1 at 2022-02-18 15:14:20 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.9ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 7445)
Completed 200 OK in 27ms (Views: 20.2ms | ActiveRecord: 1.8ms | Allocations: 9139)


Started GET "/" for ::1 at 2022-02-18 15:14:21 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 5315)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 11171)
Completed 200 OK in 37ms (Views: 27.4ms | ActiveRecord: 3.7ms | Allocations: 12888)


Started GET "/users" for ::1 at 2022-02-18 15:14:22 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2375)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.8ms | Allocations: 1819)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 8616)
Completed 200 OK in 35ms (Views: 26.4ms | ActiveRecord: 3.2ms | Allocations: 10308)


Started GET "/authors" for ::1 at 2022-02-18 15:14:24 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1586)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.6ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 7614)
Completed 200 OK in 40ms (Views: 28.4ms | ActiveRecord: 2.2ms | Allocations: 9322)


Started GET "/" for ::1 at 2022-02-18 15:14:26 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 5315)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1516)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 11343)
Completed 200 OK in 45ms (Views: 32.1ms | ActiveRecord: 5.0ms | Allocations: 13055)


Started GET "/" for ::1 at 2022-02-18 15:14:40 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 6234)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.0ms | Allocations: 1890)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 13295)
Completed 200 OK in 52ms (Views: 39.8ms | ActiveRecord: 4.0ms | Allocations: 15859)


Started GET "/users" for ::1 at 2022-02-18 15:14:42 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2849)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.6ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 9287)
Completed 200 OK in 45ms (Views: 34.5ms | ActiveRecord: 2.9ms | Allocations: 11683)


Started GET "/authors" for ::1 at 2022-02-18 15:14:43 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2214)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 8247)
Completed 200 OK in 26ms (Views: 20.2ms | ActiveRecord: 1.9ms | Allocations: 10661)


Started GET "/categories" for ::1 at 2022-02-18 15:14:44 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2212)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.8ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 8245)
Completed 200 OK in 32ms (Views: 24.9ms | ActiveRecord: 1.9ms | Allocations: 10668)


Started GET "/users" for ::1 at 2022-02-18 15:14:44 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2380)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 32.6ms | Allocations: 1789)
  Rendered layout layouts/application.html.erb (Duration: 71.7ms | Allocations: 8521)
Completed 200 OK in 83ms (Views: 70.3ms | ActiveRecord: 4.1ms | Allocations: 10304)


Started GET "/" for ::1 at 2022-02-18 15:14:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:23:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:27
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 57.0ms | Allocations: 5339)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.5ms | Allocations: 1487)
  Rendered layout layouts/application.html.erb (Duration: 69.3ms | Allocations: 11237)
Completed 200 OK in 81ms (Views: 66.5ms | ActiveRecord: 4.0ms | Allocations: 12971)


Started GET "/" for ::1 at 2022-02-18 15:15:22 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 7016)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1884)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 14155)
Completed 200 OK in 43ms (Views: 34.3ms | ActiveRecord: 3.5ms | Allocations: 16726)


Started GET "/users" for ::1 at 2022-02-18 15:15:23 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2849)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.0ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 9304)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 3.2ms | Allocations: 11708)


Started GET "/authors" for ::1 at 2022-02-18 15:15:24 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 2214)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 8318)
Completed 200 OK in 46ms (Views: 34.0ms | ActiveRecord: 3.3ms | Allocations: 10746)


Started GET "/categories" for ::1 at 2022-02-18 15:15:25 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 2213)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.2ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 8260)
Completed 200 OK in 35ms (Views: 23.2ms | ActiveRecord: 2.6ms | Allocations: 10678)


Started GET "/" for ::1 at 2022-02-18 15:15:26 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 6036)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1487)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 11951)
Completed 200 OK in 41ms (Views: 31.0ms | ActiveRecord: 4.7ms | Allocations: 13780)


Started GET "/users/sign_out" for ::1 at 2022-02-18 15:15:29 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.3ms | Allocations: 2648)


Started GET "/" for ::1 at 2022-02-18 15:15:29 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 501)


Started GET "/users/sign_in" for ::1 at 2022-02-18 15:15:29 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 582)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2107)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 46)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 6621)
Completed 200 OK in 32ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 8490)


Started POST "/users/sign_in" for ::1 at 2022-02-18 15:15:33 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 311ms (ActiveRecord: 0.6ms | Allocations: 3089)


Started GET "/" for ::1 at 2022-02-18 15:15:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 6299)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.2ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 12017)
Completed 200 OK in 48ms (Views: 36.8ms | ActiveRecord: 3.8ms | Allocations: 13749)


Started GET "/" for ::1 at 2022-02-18 15:20:05 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.2ms | Allocations: 7065)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 212)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1771)
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 14112)
Completed 200 OK in 51ms (Views: 43.4ms | ActiveRecord: 3.4ms | Allocations: 16657)


Started GET "/" for ::1 at 2022-02-18 15:20:16 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 7066)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1771)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 14014)
Completed 200 OK in 50ms (Views: 38.8ms | ActiveRecord: 3.9ms | Allocations: 16643)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:20:18 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:21:28 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 15:21:30 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 69.7ms | Allocations: 7240)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 210)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.1ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 90.1ms | Allocations: 14272)
Completed 200 OK in 110ms (Views: 90.1ms | ActiveRecord: 7.5ms | Allocations: 16927)


Started GET "/" for ::1 at 2022-02-18 15:23:18 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 113.9ms | Allocations: 41127)
  Rendered layout layouts/application.html.erb (Duration: 547.9ms | Allocations: 62371)
Completed 500 Internal Server Error in 610ms (ActiveRecord: 31.7ms | Allocations: 86261)


  
ActionView::Template::Error (Error: File to import not found or unreadable: font-awesome.
        on line 17:2 of app/assets/stylesheets/application.scss
>>  @import "font-awesome";

   -^
):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
  
app/assets/stylesheets/application.scss:17
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2022-02-18 15:25:07 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 106.3ms | Allocations: 41102)
  Rendered layouts/_messages.html.erb (Duration: 1.3ms | Allocations: 267)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.1ms | Allocations: 1947)
  Rendered layout layouts/application.html.erb (Duration: 7663.6ms | Allocations: 228118)
Completed 200 OK in 7730ms (Views: 7642.0ms | ActiveRecord: 31.8ms | Allocations: 252108)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:25:18 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:21:in `toggle_favorite'
  [1m[36mFavorite Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 58ms (ActiveRecord: 12.2ms | Allocations: 16083)


Started GET "/books" for ::1 at 2022-02-18 15:25:19 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 6290)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 36)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 12822)
Completed 200 OK in 42ms (Views: 31.5ms | ActiveRecord: 4.1ms | Allocations: 14736)


  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:25:31 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:21:in `toggle_favorite'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 09:55:31.852213"], ["updated_at", "2022-02-18 09:55:31.852213"]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 29ms (ActiveRecord: 6.0ms | Allocations: 9416)


Started GET "/books" for ::1 at 2022-02-18 15:25:31 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6150)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.6ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 12583)
Completed 200 OK in 42ms (Views: 33.0ms | ActiveRecord: 4.0ms | Allocations: 14317)


  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
Started GET "/books" for ::1 at 2022-02-18 15:26:04 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 79.8ms | Allocations: 29676)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.8ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 91.5ms | Allocations: 36300)
Completed 200 OK in 123ms (Views: 71.7ms | ActiveRecord: 27.8ms | Allocations: 49660)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:26:06 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:21:in `toggle_favorite'
  [1m[36mFavorite Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ (pry):1:in `toggle_favorite'
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Destroy (1.1ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 261904ms (ActiveRecord: 21.3ms | Allocations: 35669)


Started GET "/books" for ::1 at 2022-02-18 15:30:28 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 4.3ms | Allocations: 13072)


  
NameError (wrong constant name book):
  
app/controllers/books_controller.rb:5:in `index'
Started GET "/books" for ::1 at 2022-02-18 15:30:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2182)


  
NameError (wrong constant name book):
  
app/controllers/books_controller.rb:5:in `index'
Started GET "/books" for ::1 at 2022-02-18 15:30:45 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 184.7ms | Allocations: 31602)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 214)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1780)
  Rendered layout layouts/application.html.erb (Duration: 203.3ms | Allocations: 39341)
Completed 200 OK in 252ms (Views: 188.2ms | ActiveRecord: 27.7ms | Allocations: 57343)


Started GET "/books" for ::1 at 2022-02-18 15:30:51 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 7095)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 13523)
Completed 200 OK in 46ms (Views: 35.7ms | ActiveRecord: 5.5ms | Allocations: 15497)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:30:54 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:00:56.990115"], ["updated_at", "2022-02-18 10:00:56.990115"]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 2664ms (ActiveRecord: 14.5ms | Allocations: 17582)


Started GET "/books" for ::1 at 2022-02-18 15:30:57 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  Rendered books/_book.html.erb (Duration: 0.9ms | Allocations: 171)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 24.9ms | Allocations: 7454)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 13880)
Completed 200 OK in 42ms (Views: 33.7ms | ActiveRecord: 4.4ms | Allocations: 15752)


Started GET "/books" for ::1 at 2022-02-18 15:31:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  Rendered books/_book.html.erb (Duration: 0.1ms | Allocations: 19)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 7198)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | Allocations: 13694)
Completed 200 OK in 45ms (Views: 35.5ms | ActiveRecord: 5.6ms | Allocations: 15540)


Started GET "/books" for ::1 at 2022-02-18 15:33:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 11.8ms | Allocations: 5013)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 80.1ms | Allocations: 34282)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 207)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.8ms | Allocations: 1780)
  Rendered layout layouts/application.html.erb (Duration: 93.9ms | Allocations: 42003)
Completed 200 OK in 129ms (Views: 75.3ms | ActiveRecord: 28.8ms | Allocations: 59475)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:33:33 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Destroy (1.0ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 2939ms (ActiveRecord: 8.1ms | Allocations: 13249)


Started GET "/books" for ::1 at 2022-02-18 15:33:36 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:13
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:40:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:47
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 7083)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 13590)
Completed 200 OK in 42ms (Views: 32.0ms | ActiveRecord: 4.8ms | Allocations: 15495)


Started GET "/books" for ::1 at 2022-02-18 15:33:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 7232)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.2ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 14855)
Completed 200 OK in 47ms (Views: 36.6ms | ActiveRecord: 3.2ms | Allocations: 17539)


Started GET "/books" for ::1 at 2022-02-18 15:34:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:31:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:35
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:38
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:61
  Rendered books/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 8255)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.9ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 15823)
Completed 200 OK in 59ms (Views: 45.3ms | ActiveRecord: 6.3ms | Allocations: 18593)


Started GET "/books" for ::1 at 2022-02-18 15:34:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:60
  Rendered books/index.html.erb within layouts/application (Duration: 41.2ms | Allocations: 8252)
  Rendered layouts/_messages.html.erb (Duration: 1.4ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.4ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 66.7ms | Allocations: 15820)
Completed 200 OK in 79ms (Views: 63.5ms | ActiveRecord: 7.2ms | Allocations: 18589)


Started GET "/books" for ::1 at 2022-02-18 15:34:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:60
  Rendered books/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 8254)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.8ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 15823)
Completed 200 OK in 56ms (Views: 43.7ms | ActiveRecord: 5.3ms | Allocations: 18598)


Started GET "/books" for ::1 at 2022-02-18 15:34:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:58
  Rendered books/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 8243)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.1ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 43.4ms | Allocations: 15811)
Completed 200 OK in 54ms (Views: 40.7ms | ActiveRecord: 6.0ms | Allocations: 18580)


Started GET "/books" for ::1 at 2022-02-18 15:35:17 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 8244)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.2ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 44.7ms | Allocations: 15812)
Completed 200 OK in 57ms (Views: 42.8ms | ActiveRecord: 5.2ms | Allocations: 18591)


Started GET "/books" for ::1 at 2022-02-18 15:35:23 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 8244)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.4ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 15812)
Completed 200 OK in 57ms (Views: 41.3ms | ActiveRecord: 5.4ms | Allocations: 18581)


Started GET "/books" for ::1 at 2022-02-18 15:35:30 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 8244)
  Rendered layouts/_messages.html.erb (Duration: 21.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1779)
  Rendered layout layouts/application.html.erb (Duration: 89.1ms | Allocations: 15816)
Completed 200 OK in 106ms (Views: 87.9ms | ActiveRecord: 8.0ms | Allocations: 18579)


Started GET "/books" for ::1 at 2022-02-18 15:35:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 8244)
  Rendered layouts/_messages.html.erb (Duration: 1.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.4ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | Allocations: 15816)
Completed 200 OK in 58ms (Views: 44.2ms | ActiveRecord: 5.6ms | Allocations: 18604)


Started GET "/books" for ::1 at 2022-02-18 15:35:43 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 8247)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 210)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.4ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | Allocations: 15816)
Completed 200 OK in 60ms (Views: 45.1ms | ActiveRecord: 5.0ms | Allocations: 18584)


Started GET "/books" for ::1 at 2022-02-18 15:35:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1743)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 1828)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 4581)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if user_signed_in? %>
  <% if admin? %>
    <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
      <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
    <% end %>
  <% end %>
  <br>

  <div class="pull-left col-md-4">
    <%= form_tag books_path, method: 'get' do %>
      <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
      <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
        <span>Search</span>
      <% end %>
    <% end %><br>
    <% end %><br>
  </div><br>

  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th><%= 'Book Name' %></th>
        <th><%= 'Author' %></th>
        <th><%= 'Description' %></th>
        <th><%= 'Category' %>
        <th><%= 'Publish At'%></th>
      </tr>
    </thead>
    <tbody>
      <% @books.each_with_index do |book,index| %>
        <tr>
          <%= page_index(params[:page], index) %>
          <td><%= book.name %></td>
          <td><%= book.author.name %></td>
          <td><%= book.description %></td>
          <td>
            <% book.category.each do |category_name| %>
              <li><%= category_name.name %></li>
            <% end %>
          </td>
          <td><%= book.publish_at.to_date %></td>
          <% unless admin? %>
            <td><%#= button_to 'Like', toggle_favorite_book_path(id: book.id), method: :post %>

            <%= button_to toggle_favorite_book_path(book), method: :post do %>
              <i class="fa-solid fa-circle-heart"></i>
            <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table><br>

  <div class="col-xs-12 col-sm-6">
    <h3>Liked Books</h3>
    <div class="favorites">
      <% @favorite_books.each do |book| %>
        <%= render 'book', book: book %>
      <% end %>
    </div>
  </div>
<% end %>
):
1:    <% if user_signed_in? %>
2:      <% if admin? %>
3:        <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
4:          <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
5:        <% end %>
6:      <% end %>
7:      <br>
8:    
9:      <div class="pull-left col-md-4">
10:        <%= form_tag books_path, method: 'get' do %>
11:          <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
12:          <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
13:            <span>Search</span>
14:          <% end %>
15:        <% end %><br>
16:        <% end %><br>
17:      </div><br>
18:    
19:      <table class="table table-bordered table-hover">
20:        <thead>
21:          <tr>
22:            <th>#</th>
23:            <th><%= 'Book Name' %></th>
24:            <th><%= 'Author' %></th>
25:            <th><%= 'Description' %></th>
26:            <th><%= 'Category' %>
27:            <th><%= 'Publish At'%></th>
28:          </tr>
29:        </thead>
30:        <tbody>
31:          <% @books.each_with_index do |book,index| %>
32:            <tr>
33:              <%= page_index(params[:page], index) %>
34:              <td><%= book.name %></td>
35:              <td><%= book.author.name %></td>
36:              <td><%= book.description %></td>
37:              <td>
38:                <% book.category.each do |category_name| %>
39:                  <li><%= category_name.name %></li>
40:                <% end %>
41:              </td>
42:              <td><%= book.publish_at.to_date %></td>
43:              <% unless admin? %>
44:                <td><%#= button_to 'Like', toggle_favorite_book_path(id: book.id), method: :post %>
45:    
46:                <%= button_to toggle_favorite_book_path(book), method: :post do %>
47:                  <i class="fa-solid fa-circle-heart"></i>
48:                <% end %>
49:                </td>
50:              <% end %>
51:            </tr>
52:          <% end %>
53:        </tbody>
54:      </table><br>
55:    
56:      <div class="col-xs-12 col-sm-6">
57:        <h3>Liked Books</h3>
58:        <div class="favorites">
59:          <% @favorite_books.each do |book| %>
60:            <%= render 'book', book: book %>
61:          <% end %>
62:        </div>
63:      </div>
64:    <% end %>
  
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:67: syntax error, unexpected `end', expecting end-of-input
Started GET "/books" for ::1 at 2022-02-18 15:35:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 8247)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 57.6ms | Allocations: 15923)
Completed 200 OK in 68ms (Views: 55.2ms | ActiveRecord: 5.7ms | Allocations: 18813)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:36:31 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:06:34.336469"], ["updated_at", "2022-02-18 10:06:34.336469"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 3279ms (ActiveRecord: 8.2ms | Allocations: 13930)


Started GET "/books" for ::1 at 2022-02-18 15:36:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.3ms | Allocations: 860)
  Rendered books/index.html.erb within layouts/application (Duration: 36.6ms | Allocations: 9296)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 211)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.3ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 54.2ms | Allocations: 16964)
Completed 200 OK in 62ms (Views: 52.7ms | ActiveRecord: 4.7ms | Allocations: 19667)


Started GET "/books" for ::1 at 2022-02-18 15:48:13 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.0ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 7877)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.8ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 50.3ms | Allocations: 14299)
Completed 200 OK in 78ms (Views: 43.6ms | ActiveRecord: 17.3ms | Allocations: 18614)


Started GET "/books" for ::1 at 2022-02-18 15:49:17 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.8ms | Allocations: 1052)
  Rendered books/index.html.erb within layouts/application (Duration: 137.7ms | Allocations: 46772)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.3ms | Allocations: 1863)
  Rendered layout layouts/application.html.erb (Duration: 148.3ms | Allocations: 49831)
Completed 200 OK in 259ms (Views: 121.5ms | ActiveRecord: 44.7ms | Allocations: 79818)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:49:23 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Destroy (1.1ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 3277ms (ActiveRecord: 9.8ms | Allocations: 21397)


Started GET "/books" for ::1 at 2022-02-18 15:49:26 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 7177)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 36)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 8993)
Completed 200 OK in 36ms (Views: 24.8ms | ActiveRecord: 5.2ms | Allocations: 10983)


Started GET "/books" for ::1 at 2022-02-18 15:49:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 106.5ms | Allocations: 30289)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 111.3ms | Allocations: 32193)
Completed 200 OK in 153ms (Views: 90.5ms | ActiveRecord: 31.1ms | Allocations: 49245)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:49:42 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:19:42.059015"], ["updated_at", "2022-02-18 10:19:42.059015"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 44ms (ActiveRecord: 9.0ms | Allocations: 13199)


Started GET "/books" for ::1 at 2022-02-18 15:49:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.0ms | Allocations: 635)
  Rendered books/index.html.erb within layouts/application (Duration: 26.3ms | Allocations: 7846)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 9635)
Completed 200 OK in 36ms (Views: 27.5ms | ActiveRecord: 4.9ms | Allocations: 11534)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:49:46 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 24ms (ActiveRecord: 6.0ms | Allocations: 5407)


Started GET "/books" for ::1 at 2022-02-18 15:49:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 7060)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 8852)
Completed 200 OK in 35ms (Views: 25.5ms | ActiveRecord: 4.9ms | Allocations: 10718)


Started GET "/books" for ::1 at 2022-02-18 15:49:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 107.2ms | Allocations: 30341)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.8ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 113.0ms | Allocations: 32244)
Completed 200 OK in 198ms (Views: 88.3ms | ActiveRecord: 43.2ms | Allocations: 49334)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:50:01 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:20:01.878473"], ["updated_at", "2022-02-18 10:20:01.878473"]]
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:23:in `toggle_favorite'
Redirected to http://localhost:3000/books
Completed 302 Found in 57ms (ActiveRecord: 13.5ms | Allocations: 11825)


Started GET "/books" for ::1 at 2022-02-18 15:50:01 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.7ms | Allocations: 635)
  Rendered books/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 7846)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 9629)
Completed 200 OK in 37ms (Views: 28.0ms | ActiveRecord: 5.1ms | Allocations: 11507)


Started GET "/books" for ::1 at 2022-02-18 15:53:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.8ms | Allocations: 640)
  Rendered books/index.html.erb within layouts/application (Duration: 87.7ms | Allocations: 33018)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 93.2ms | Allocations: 34901)
Completed 200 OK in 133ms (Views: 71.5ms | ActiveRecord: 33.7ms | Allocations: 51991)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:53:10 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 4.4ms | Allocations: 7393)


Started GET "/" for ::1 at 2022-02-18 15:53:10 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 7066)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 8859)
Completed 200 OK in 37ms (Views: 27.3ms | ActiveRecord: 4.4ms | Allocations: 10759)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:53:14 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:23:14.156104"], ["updated_at", "2022-02-18 10:23:14.156104"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 63ms (ActiveRecord: 6.0ms | Allocations: 7987)


Started GET "/" for ::1 at 2022-02-18 15:53:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 73.1ms | Allocations: 7813)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 77.7ms | Allocations: 9599)
Completed 200 OK in 95ms (Views: 75.0ms | ActiveRecord: 5.2ms | Allocations: 11460)


Started GET "/" for ::1 at 2022-02-18 15:53:40 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.1ms | Allocations: 640)
  Rendered books/index.html.erb within layouts/application (Duration: 97.8ms | Allocations: 33004)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.2ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 103.6ms | Allocations: 34887)
Completed 200 OK in 149ms (Views: 78.3ms | ActiveRecord: 37.8ms | Allocations: 52015)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:53:42 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 6.1ms | Allocations: 7409)


Started GET "/" for ::1 at 2022-02-18 15:53:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 7066)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 10.8ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 8859)
Completed 200 OK in 39ms (Views: 31.5ms | ActiveRecord: 4.1ms | Allocations: 10756)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:53:44 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:23:44.618624"], ["updated_at", "2022-02-18 10:23:44.618624"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 7.4ms | Allocations: 7970)


Started GET "/" for ::1 at 2022-02-18 15:53:44 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.2ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 7813)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 9599)
Completed 200 OK in 37ms (Views: 29.1ms | ActiveRecord: 4.4ms | Allocations: 11480)


Started GET "/" for ::1 at 2022-02-18 15:54:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.5ms | Allocations: 640)
  Rendered books/index.html.erb within layouts/application (Duration: 105.3ms | Allocations: 33032)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1401)
  Rendered layout layouts/application.html.erb (Duration: 109.6ms | Allocations: 34915)
Completed 200 OK in 156ms (Views: 86.7ms | ActiveRecord: 35.3ms | Allocations: 52031)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:54:38 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 6.1ms | Allocations: 7399)


Started GET "/" for ::1 at 2022-02-18 15:54:38 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 7067)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.7ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 8860)
Completed 200 OK in 29ms (Views: 21.4ms | ActiveRecord: 4.3ms | Allocations: 10744)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:54:42 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:24:42.740530"], ["updated_at", "2022-02-18 10:24:42.740530"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 6.1ms | Allocations: 7980)


Started GET "/" for ::1 at 2022-02-18 15:54:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.9ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 24.5ms | Allocations: 7813)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.7ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 9599)
Completed 200 OK in 33ms (Views: 25.6ms | ActiveRecord: 3.8ms | Allocations: 11460)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:54:47 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 6.4ms | Allocations: 5173)


Started GET "/" for ::1 at 2022-02-18 15:54:47 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 7059)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.5ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 8850)
Completed 200 OK in 30ms (Views: 23.3ms | ActiveRecord: 3.3ms | Allocations: 10723)


Started GET "/" for ::1 at 2022-02-18 15:55:07 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 76.4ms | Allocations: 31099)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.0ms | Allocations: 1784)
  Rendered layout layouts/application.html.erb (Duration: 84.4ms | Allocations: 34007)
Completed 200 OK in 126ms (Views: 63.9ms | ActiveRecord: 31.4ms | Allocations: 51404)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:55:10 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:25:10.140367"], ["updated_at", "2022-02-18 10:25:10.140367"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 8.4ms | Allocations: 11839)


Started GET "/" for ::1 at 2022-02-18 15:55:10 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.9ms | Allocations: 859)
  Rendered books/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 8153)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 9941)
Completed 200 OK in 34ms (Views: 25.4ms | ActiveRecord: 3.9ms | Allocations: 11835)


Started GET "/" for ::1 at 2022-02-18 15:57:38 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (2.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 1051)
  Rendered books/index.html.erb within layouts/application (Duration: 112.3ms | Allocations: 46800)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.4ms | Allocations: 1862)
  Rendered layout layouts/application.html.erb (Duration: 120.0ms | Allocations: 49858)
Completed 200 OK in 211ms (Views: 96.6ms | ActiveRecord: 39.5ms | Allocations: 79760)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:57:41 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 6.3ms | Allocations: 7941)


Started GET "/" for ::1 at 2022-02-18 15:57:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 7205)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 36)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 9020)
Completed 200 OK in 32ms (Views: 23.3ms | ActiveRecord: 4.5ms | Allocations: 10944)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:57:47 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:27:48.007811"], ["updated_at", "2022-02-18 10:27:48.007811"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 5.4ms | Allocations: 9349)


Started GET "/" for ::1 at 2022-02-18 15:57:48 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.5ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 7845)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 9632)
Completed 200 OK in 38ms (Views: 28.7ms | ActiveRecord: 5.3ms | Allocations: 11492)


Started GET "/" for ::1 at 2022-02-18 15:58:09 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.2ms | Allocations: 856)
  Rendered books/index.html.erb within layouts/application (Duration: 38.0ms | Allocations: 9275)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.5ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 12113)
Completed 200 OK in 67ms (Views: 48.7ms | ActiveRecord: 6.2ms | Allocations: 14800)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:58:11 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 13]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 6.4ms | Allocations: 5282)


Started GET "/" for ::1 at 2022-02-18 15:58:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 7087)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.6ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 8878)
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 4.0ms | Allocations: 10758)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:58:13 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:28:13.393776"], ["updated_at", "2022-02-18 10:28:13.393776"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 6.8ms | Allocations: 6853)


Started GET "/" for ::1 at 2022-02-18 15:58:13 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.6ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 7841)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.6ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 9626)
Completed 200 OK in 35ms (Views: 26.6ms | ActiveRecord: 4.8ms | Allocations: 11503)


Started GET "/" for ::1 at 2022-02-18 15:58:50 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.3ms | Allocations: 634)
  Rendered books/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 7841)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 9622)
Completed 200 OK in 36ms (Views: 26.1ms | ActiveRecord: 4.7ms | Allocations: 11487)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:58:53 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 6.9ms | Allocations: 5152)


Started GET "/" for ::1 at 2022-02-18 15:58:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 7087)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 8877)
Completed 200 OK in 31ms (Views: 23.2ms | ActiveRecord: 4.1ms | Allocations: 10745)


Started GET "/" for ::1 at 2022-02-18 15:59:34 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 8233)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.1ms | Allocations: 1773)
  Rendered layout layouts/application.html.erb (Duration: 44.2ms | Allocations: 11083)
Completed 200 OK in 56ms (Views: 42.3ms | ActiveRecord: 5.7ms | Allocations: 13777)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 15:59:35 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:29:35.719979"], ["updated_at", "2022-02-18 10:29:35.719979"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 5.9ms | Allocations: 6994)


Started GET "/" for ::1 at 2022-02-18 15:59:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.7ms | Allocations: 859)
  Rendered books/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 8127)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 9913)
Completed 200 OK in 36ms (Views: 27.5ms | ActiveRecord: 4.1ms | Allocations: 11817)


Started GET "/" for ::1 at 2022-02-18 16:00:12 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.0ms | Allocations: 885)
  Rendered books/index.html.erb within layouts/application (Duration: 101.2ms | Allocations: 34118)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.0ms | Allocations: 1781)
  Rendered layout layouts/application.html.erb (Duration: 111.3ms | Allocations: 36964)
Completed 200 OK in 156ms (Views: 92.0ms | ActiveRecord: 32.5ms | Allocations: 54439)


Started GET "/" for ::1 at 2022-02-18 16:00:22 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.6ms | Allocations: 1051)
  Rendered books/index.html.erb within layouts/application (Duration: 115.5ms | Allocations: 46800)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.7ms | Allocations: 1860)
  Rendered layout layouts/application.html.erb (Duration: 124.3ms | Allocations: 49856)
Completed 200 OK in 209ms (Views: 103.7ms | ActiveRecord: 36.4ms | Allocations: 79773)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:00:24 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Completed 406 Not Acceptable in 31ms (ActiveRecord: 6.1ms | Allocations: 8162)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/books_controller.rb:31:in `toggle_favorite'
Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:01:28 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 16:01:31 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 103.9ms | Allocations: 30296)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.9ms | Allocations: 1404)
  Rendered layout layouts/application.html.erb (Duration: 109.4ms | Allocations: 32202)
Completed 200 OK in 161ms (Views: 86.1ms | ActiveRecord: 36.2ms | Allocations: 49357)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:01:33 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:31:33.517214"], ["updated_at", "2022-02-18 10:31:33.517214"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 44ms (ActiveRecord: 7.4ms | Allocations: 13245)


Started GET "/" for ::1 at 2022-02-18 16:01:33 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.1ms | Allocations: 635)
  Rendered books/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 7874)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 9662)
Completed 200 OK in 27ms (Views: 19.9ms | ActiveRecord: 3.3ms | Allocations: 11568)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:01:35 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 6.4ms | Allocations: 5424)


Started GET "/" for ::1 at 2022-02-18 16:01:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 7088)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.7ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 8879)
Completed 200 OK in 31ms (Views: 23.3ms | ActiveRecord: 3.8ms | Allocations: 10733)


Started GET "/" for ::1 at 2022-02-18 16:05:12 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 7092)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 7176)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.7ms | Allocations: 9832)


  
ActionView::Template::Error (undefined method `stringify_keys' for "/books/2/toggle_favorite":String):
    41:           <td><%= book.publish_at.to_date %></td>
    42:           <% unless admin? %>
    43:             <td>
    44:             <%= button_to 'Like', toggle_favorite_book_path(id: book.id), method: :post do %>
    45:               <%= render 'books/like_button', book: book %>>
    46:             <% end %>
    47:             </td>
  
app/views/books/index.html.erb:44
app/views/books/index.html.erb:30:in `each_with_index'
app/views/books/index.html.erb:30
Started GET "/" for ::1 at 2022-02-18 16:05:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 7034)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 7118)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.5ms | Allocations: 9844)


  
ActionView::Template::Error (undefined method `stringify_keys' for "/books/2/toggle_favorite":String):
    41:           <td><%= book.publish_at.to_date %></td>
    42:           <% unless admin? %>
    43:             <td>
    44:             <%= link_to 'Like', toggle_favorite_book_path(id: book.id), method: :post do %>
    45:               <%= render 'books/like_button', book: book %>>
    46:             <% end %>
    47:             </td>
  
app/views/books/index.html.erb:44
app/views/books/index.html.erb:30:in `each_with_index'
app/views/books/index.html.erb:30
Started GET "/" for ::1 at 2022-02-18 16:06:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.8ms | Allocations: 972)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.7ms | Allocations: 824)
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 36.3ms | Allocations: 10037)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1769)
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 12900)
Completed 200 OK in 52ms (Views: 39.7ms | ActiveRecord: 5.9ms | Allocations: 15673)


Started GET "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:06:09 +0530
  
ActionController::RoutingError (No route matches [GET] "/books/2/toggle_favorite"):
  
Started GET "/" for ::1 at 2022-02-18 16:06:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.6ms | Allocations: 969)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.7ms | Allocations: 824)
  [1m[35mSQL (2.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 39.2ms | Allocations: 10210)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.3ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 49.3ms | Allocations: 13048)
Completed 200 OK in 59ms (Views: 44.9ms | ActiveRecord: 7.5ms | Allocations: 15760)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:06:29 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:36:29.709180"], ["updated_at", "2022-02-18 10:36:29.709180"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 5.9ms | Allocations: 6995)


Started GET "/" for ::1 at 2022-02-18 16:06:29 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.7ms | Allocations: 816)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.7ms | Allocations: 824)
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.7ms | Allocations: 862)
  Rendered books/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 9867)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.2ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 11654)
Completed 200 OK in 41ms (Views: 32.3ms | ActiveRecord: 4.7ms | Allocations: 13540)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:06:32 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 73ms (ActiveRecord: 5.8ms | Allocations: 5163)


Started GET "/" for ::1 at 2022-02-18 16:06:32 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.4ms | Allocations: 814)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.5ms | Allocations: 824)
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 60.5ms | Allocations: 8825)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 65.3ms | Allocations: 10610)
Completed 200 OK in 83ms (Views: 61.1ms | ActiveRecord: 5.7ms | Allocations: 12488)


Started GET "/" for ::1 at 2022-02-18 16:06:50 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ (pry):1
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 13939.8ms | Allocations: 30904)
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 1390.2ms | Allocations: 14014)
  [1m[35mSQL (2.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 15375.8ms | Allocations: 53523)
  Rendered layouts/_messages.html.erb (Duration: 2.3ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.0ms | Allocations: 1775)
  Rendered layout layouts/application.html.erb (Duration: 15390.8ms | Allocations: 56413)
Completed 200 OK in 15403ms (Views: 15384.3ms | ActiveRecord: 11.0ms | Allocations: 59088)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:07:11 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:37:11.933309"], ["updated_at", "2022-02-18 10:37:11.933309"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 6.9ms | Allocations: 6963)


Started GET "/" for ::1 at 2022-02-18 16:07:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ (pry):3
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 5540.4ms | Allocations: 18478)
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 12130.9ms | Allocations: 14006)
  [1m[35mSQL (2.5ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 7.8ms | Allocations: 860)
  Rendered books/index.html.erb within layouts/application (Duration: 17724.6ms | Allocations: 40742)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 36)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.8ms | Allocations: 1394)
  Rendered layout layouts/application.html.erb (Duration: 17733.5ms | Allocations: 42587)
Completed 200 OK in 17741ms (Views: 17724.3ms | ActiveRecord: 10.5ms | Allocations: 44481)


Started GET "/" for ::1 at 2022-02-18 16:08:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 3040.1ms | Allocations: 17385)
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:3
  Rendered books/_like_button.html.erb (Duration: 788.2ms | Allocations: 13918)
  [1m[35mSQL (2.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 4.1ms | Allocations: 635)
  Rendered books/index.html.erb within layouts/application (Duration: 3877.9ms | Allocations: 39268)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 31)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 8.1ms | Allocations: 1394)
  Rendered layout layouts/application.html.erb (Duration: 3888.6ms | Allocations: 41107)
Completed 200 OK in 3895ms (Views: 3878.0ms | ActiveRecord: 11.6ms | Allocations: 42957)


Started GET "/" for ::1 at 2022-02-18 16:09:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.8ms | Allocations: 971)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.8ms | Allocations: 825)
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.5ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 39.7ms | Allocations: 11245)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.0ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 49.2ms | Allocations: 14083)
Completed 200 OK in 58ms (Views: 46.0ms | ActiveRecord: 6.4ms | Allocations: 16753)


Started GET "/" for ::1 at 2022-02-18 16:19:02 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 6.6ms | Allocations: 1746)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.7ms | Allocations: 831)
  [1m[35mSQL (2.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.2ms | Allocations: 1043)
  Rendered books/index.html.erb within layouts/application (Duration: 137.8ms | Allocations: 49469)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.7ms | Allocations: 1861)
  Rendered layout layouts/application.html.erb (Duration: 147.4ms | Allocations: 52526)
Completed 200 OK in 243ms (Views: 120.5ms | ActiveRecord: 42.2ms | Allocations: 82455)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:19:06 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.8ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 6.4ms | Allocations: 7282)


Started GET "/" for ::1 at 2022-02-18 16:19:06 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.4ms | Allocations: 815)
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.2ms | Allocations: 824)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 8944)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 10748)
Completed 200 OK in 55ms (Views: 42.2ms | ActiveRecord: 7.7ms | Allocations: 12670)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:19:08 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:49:08.955687"], ["updated_at", "2022-02-18 10:49:08.955687"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 6.6ms | Allocations: 9331)


Started GET "/" for ::1 at 2022-02-18 16:19:08 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.2ms | Allocations: 816)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.5ms | Allocations: 824)
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 1.8ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 37.9ms | Allocations: 9580)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.8ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 43.4ms | Allocations: 11366)
Completed 200 OK in 50ms (Views: 36.9ms | ActiveRecord: 7.9ms | Allocations: 13230)


Started GET "/" for ::1 at 2022-02-18 16:20:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.8ms | Allocations: 816)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.2ms | Allocations: 824)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 9577)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 11358)
Completed 200 OK in 46ms (Views: 35.5ms | ActiveRecord: 7.0ms | Allocations: 13207)


Started GET "/" for ::1 at 2022-02-18 16:20:16 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 7.1ms | Allocations: 1746)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.8ms | Allocations: 831)
  [1m[35mSQL (3.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 4.1ms | Allocations: 1043)
  Rendered books/index.html.erb within layouts/application (Duration: 123.9ms | Allocations: 49460)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.9ms | Allocations: 1861)
  Rendered layout layouts/application.html.erb (Duration: 132.9ms | Allocations: 52517)
Completed 200 OK in 214ms (Views: 107.0ms | ActiveRecord: 40.2ms | Allocations: 82430)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:20:18 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 4.1ms | Allocations: 7282)


Started GET "/" for ::1 at 2022-02-18 16:20:18 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.7ms | Allocations: 815)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.2ms | Allocations: 824)
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 32.3ms | Allocations: 8944)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.1ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 10748)
Completed 200 OK in 44ms (Views: 32.0ms | ActiveRecord: 7.0ms | Allocations: 12666)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:20:20 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:50:20.504747"], ["updated_at", "2022-02-18 10:50:20.504747"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 7.1ms | Allocations: 9333)


Started GET "/" for ::1 at 2022-02-18 16:20:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.4ms | Allocations: 816)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.3ms | Allocations: 824)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.6ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 9580)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 11366)
Completed 200 OK in 46ms (Views: 33.6ms | ActiveRecord: 6.6ms | Allocations: 13230)


Started GET "/" for ::1 at 2022-02-18 16:20:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.1ms | Allocations: 972)
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.5ms | Allocations: 824)
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 37.3ms | Allocations: 11240)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.1ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 44.1ms | Allocations: 14078)
Completed 200 OK in 52ms (Views: 39.6ms | ActiveRecord: 7.1ms | Allocations: 16766)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:20:59 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 5.6ms | Allocations: 5275)


Started GET "/" for ::1 at 2022-02-18 16:20:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.4ms | Allocations: 814)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.2ms | Allocations: 824)
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 8825)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.0ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 10611)
Completed 200 OK in 41ms (Views: 29.5ms | ActiveRecord: 6.1ms | Allocations: 12511)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:21:02 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:51:02.446471"], ["updated_at", "2022-02-18 10:51:02.446471"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 5.5ms | Allocations: 6855)


Started GET "/" for ::1 at 2022-02-18 16:21:02 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.5ms | Allocations: 817)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.0ms | Allocations: 824)
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.1ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 9577)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.8ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 11362)
Completed 200 OK in 57ms (Views: 47.2ms | ActiveRecord: 4.9ms | Allocations: 13224)


Started GET "/" for ::1 at 2022-02-18 16:25:00 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 5.9ms | Allocations: 1746)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.5ms | Allocations: 831)
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.5ms | Allocations: 1043)
  Rendered books/index.html.erb within layouts/application (Duration: 124.8ms | Allocations: 49461)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.1ms | Allocations: 1861)
  Rendered layout layouts/application.html.erb (Duration: 134.6ms | Allocations: 52518)
Completed 200 OK in 218ms (Views: 125.1ms | ActiveRecord: 39.2ms | Allocations: 82443)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:25:03 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 6.5ms | Allocations: 7292)


Started GET "/" for ::1 at 2022-02-18 16:25:03 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.0ms | Allocations: 815)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.5ms | Allocations: 824)
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 29.9ms | Allocations: 8944)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.4ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 10748)
Completed 200 OK in 40ms (Views: 30.1ms | ActiveRecord: 5.9ms | Allocations: 12660)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:25:04 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (1.2ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 10:55:05.023644"], ["updated_at", "2022-02-18 10:55:05.023644"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 8.0ms | Allocations: 9332)


Started GET "/" for ::1 at 2022-02-18 16:25:05 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.5ms | Allocations: 816)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.1ms | Allocations: 824)
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.1ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 36.2ms | Allocations: 9580)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.9ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 11366)
Completed 200 OK in 49ms (Views: 36.8ms | ActiveRecord: 7.2ms | Allocations: 13224)


Started GET "/" for ::1 at 2022-02-18 16:25:22 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.2ms | Allocations: 972)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 3.3ms | Allocations: 824)
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 41.4ms | Allocations: 11242)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.7ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 14081)
Completed 200 OK in 70ms (Views: 49.9ms | ActiveRecord: 6.9ms | Allocations: 16783)


Started GET "/" for ::1 at 2022-02-18 16:28:59 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 4.0ms | Allocations: 972)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  Rendered books/_like_button.html.erb (Duration: 2.9ms | Allocations: 824)
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.6ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 11240)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 48.5ms | Allocations: 14078)
Completed 200 OK in 66ms (Views: 46.1ms | ActiveRecord: 7.3ms | Allocations: 16841)


Started GET "/" for ::1 at 2022-02-18 16:31:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.1ms | Allocations: 1791)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.4ms | Allocations: 1583)
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.3ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 38.3ms | Allocations: 12820)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 211)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 57.2ms | Allocations: 15665)
Completed 200 OK in 65ms (Views: 54.2ms | ActiveRecord: 5.6ms | Allocations: 18461)


Started GET "/" for ::1 at 2022-02-18 16:31:38 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/_like_button.html.erb (Duration: 11.8ms | Allocations: 5283)
  Rendered books/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 10423)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 10508)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 3.5ms | Allocations: 13266)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="like-icon mx-2 <%='red' if current_user.favorited?(book) %>" data-id="<%= book.id %>">
  <% Unelss current_user.favorited?(book) %>
    Like
  <% else %>
    Dislike
  <% end %>
</div>

):
1:    <div class="like-icon mx-2 <%='red' if current_user.favorited?(book) %>" data-id="<%= book.id %>">
2:      <% Unelss current_user.favorited?(book) %>
3:        Like
4:      <% else %>
5:        Dislike
6:      <% end %>
7:    </div>
  
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/_like_button.html.erb:4: else without rescue is useless
app/views/books/_like_button.html.erb:10: syntax error, unexpected `end', expecting end-of-input
app/views/books/index.html.erb:45
app/views/books/index.html.erb:44
app/views/books/index.html.erb:30:in `each_with_index'
app/views/books/index.html.erb:30
Started GET "/" for ::1 at 2022-02-18 16:31:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 8.9ms | Allocations: 1783)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (1.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 9.4ms | Allocations: 1583)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.8ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 56.7ms | Allocations: 12810)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.1ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 66.9ms | Allocations: 15650)
Completed 200 OK in 78ms (Views: 62.1ms | ActiveRecord: 8.5ms | Allocations: 18543)


Started POST "/books/1/toggle_favorite" for ::1 at 2022-02-18 16:31:48 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 1], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 11:01:49.010117"], ["updated_at", "2022-02-18 11:01:49.010117"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 5.4ms | Allocations: 6963)


Started GET "/" for ::1 at 2022-02-18 16:31:49 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.8ms | Allocations: 1575)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.7ms | Allocations: 1585)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.0ms | Allocations: 633)
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 41.1ms | Allocations: 11825)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.3ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | Allocations: 13611)
Completed 200 OK in 51ms (Views: 41.4ms | ActiveRecord: 5.6ms | Allocations: 15485)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:31:53 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 5.4ms | Allocations: 5168)


Started GET "/" for ::1 at 2022-02-18 16:31:53 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.9ms | Allocations: 1573)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.7ms | Allocations: 1585)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.6ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 34.7ms | Allocations: 11094)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.9ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 12879)
Completed 200 OK in 46ms (Views: 36.5ms | ActiveRecord: 5.2ms | Allocations: 14744)


Started POST "/books/1/toggle_favorite" for ::1 at 2022-02-18 16:31:54 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 1], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 4.7ms | Allocations: 5152)


Started GET "/" for ::1 at 2022-02-18 16:31:54 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 8.3ms | Allocations: 1573)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.1ms | Allocations: 1583)
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 10343)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 12128)
Completed 200 OK in 46ms (Views: 36.2ms | ActiveRecord: 5.8ms | Allocations: 13997)


Started GET "/" for ::1 at 2022-02-18 16:35:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 7.0ms | Allocations: 1781)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.7ms | Allocations: 1583)
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 11775)
  Rendered layouts/_messages.html.erb (Duration: 2.3ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.0ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 54.6ms | Allocations: 14613)
Completed 200 OK in 62ms (Views: 50.9ms | ActiveRecord: 6.4ms | Allocations: 17281)


Started GET "/users/sign_out" for ::1 at 2022-02-18 16:35:25 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 0.3ms | Allocations: 4881)


Started GET "/" for ::1 at 2022-02-18 16:35:25 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 611)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:35:25 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 897)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 4153)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 4664)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.0ms | Allocations: 7033)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:35:29 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 321ms (ActiveRecord: 0.4ms | Allocations: 3215)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 126)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1077)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 1438)
Completed 200 OK in 321ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 2227)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:35:35 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 300ms (ActiveRecord: 0.9ms | Allocations: 3051)


Started GET "/" for ::1 at 2022-02-18 16:35:35 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 9810)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.8ms | Allocations: 1496)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 11732)
Completed 200 OK in 34ms (Views: 25.3ms | ActiveRecord: 4.2ms | Allocations: 13614)


Started GET "/" for ::1 at 2022-02-18 16:36:14 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1721)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 1806)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms | Allocations: 4461)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if user_signed_in? %>
  <% if admin? %>
    <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
      <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
    <% end %>
  <% end %>
  <br>

  <div class="pull-left col-md-4">
    <%= form_tag books_path, method: 'get' do %>
      <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
      <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
        <span>Search</span>
      <% end %>
    <% end %><br><br>
  </div>

  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th><%= 'Book Name' %></th>
        <th><%= 'Author' %></th>
        <th><%= 'Description' %></th>
        <th><%= 'Category' %>
        <th><%= 'Publish At'%></th>
      </tr>
    </thead>
    <tbody>
      <% @books.each_with_index do |book,index| %>
        <tr>
          <%= page_index(params[:page], index) %>
          <td><%= book.name %></td>
          <td><%= book.author.name %></td>
          <td><%= book.description %></td>
          <td>
            <% book.category.each do |category_name| %>
              <li><%= category_name.name %></li>
            <% end %>
          </td>
          <td><%= book.publish_at.to_date %></td>
          <% unless admin? %>
            <td>
            <%= button_to toggle_favorite_book_path(book), remote: true, method: :post do %>
              <%= render 'books/like_button', book: book %>
            <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table><br>

<% if user_signed_in? %>
  <div class="col-xs-12 col-sm-6">
    <h3>Liked Books</h3>
    <div class="favorites">
      <% @favorite_books.each do |book| %>
        <%= render 'book', book: book %>
      <% end %>
    </div>
  </div>
<% end %>
):
1:    <% if user_signed_in? %>
2:      <% if admin? %>
3:        <%= link_to new_book_path, class: "btn btn-outline-primary" do %>
4:          <i class="fas fa-plus-circle"></i> <%= 'New Book' %>
5:        <% end %>
6:      <% end %>
7:      <br>
8:    
9:      <div class="pull-left col-md-4">
10:        <%= form_tag books_path, method: 'get' do %>
11:          <%= text_field_tag :name, params[:name],class: 'input-search', placeholder: "Enter book name" %>
12:          <%= button_tag( type: "submit", class: 'btn-search search-icon-set') do%>
13:            <span>Search</span>
14:          <% end %>
15:        <% end %><br><br>
16:      </div>
17:    
18:      <table class="table table-bordered table-hover">
19:        <thead>
20:          <tr>
21:            <th>#</th>
22:            <th><%= 'Book Name' %></th>
23:            <th><%= 'Author' %></th>
24:            <th><%= 'Description' %></th>
25:            <th><%= 'Category' %>
26:            <th><%= 'Publish At'%></th>
27:          </tr>
28:        </thead>
29:        <tbody>
30:          <% @books.each_with_index do |book,index| %>
31:            <tr>
32:              <%= page_index(params[:page], index) %>
33:              <td><%= book.name %></td>
34:              <td><%= book.author.name %></td>
35:              <td><%= book.description %></td>
36:              <td>
37:                <% book.category.each do |category_name| %>
38:                  <li><%= category_name.name %></li>
39:                <% end %>
40:              </td>
41:              <td><%= book.publish_at.to_date %></td>
42:              <% unless admin? %>
43:                <td>
44:                <%= button_to toggle_favorite_book_path(book), remote: true, method: :post do %>
45:                  <%= render 'books/like_button', book: book %>
46:                <% end %>
47:                </td>
48:              <% end %>
49:            </tr>
50:          <% end %>
51:        </tbody>
52:      </table><br>
53:    
54:    <% if user_signed_in? %>
55:      <div class="col-xs-12 col-sm-6">
56:        <h3>Liked Books</h3>
57:        <div class="favorites">
58:          <% @favorite_books.each do |book| %>
59:            <%= render 'book', book: book %>
60:          <% end %>
61:        </div>
62:      </div>
63:    <% end %>
  
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
app/views/books/index.html.erb:65: syntax error, unexpected end-of-input, expecting `end'
Started GET "/" for ::1 at 2022-02-18 16:36:28 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 32.1ms | Allocations: 8094)
  Rendered layouts/_messages.html.erb (Duration: 1.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.3ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | Allocations: 11079)
Completed 200 OK in 52ms (Views: 41.3ms | ActiveRecord: 5.0ms | Allocations: 13962)


Started GET "/" for ::1 at 2022-02-18 16:36:44 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 38.2ms | Allocations: 8093)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.7ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 48.5ms | Allocations: 11078)
Completed 200 OK in 59ms (Views: 46.9ms | ActiveRecord: 5.5ms | Allocations: 13865)


Started GET "/" for ::1 at 2022-02-18 16:36:58 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered books/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 7046)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.7ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 10031)
Completed 200 OK in 45ms (Views: 32.8ms | ActiveRecord: 3.8ms | Allocations: 12788)


Started GET "/" for ::1 at 2022-02-18 16:37:29 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 8064)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.4ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 11049)
Completed 200 OK in 58ms (Views: 38.6ms | ActiveRecord: 4.7ms | Allocations: 13816)


Started GET "/users/sign_out" for ::1 at 2022-02-18 16:37:34 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 0.9ms | Allocations: 2070)


Started GET "/" for ::1 at 2022-02-18 16:37:34 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 496)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:37:34 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 570)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2078)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 2589)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 4390)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:37:38 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 124)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1001)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 1396)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 2401)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:37:43 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 303ms (ActiveRecord: 0.6ms | Allocations: 2948)


Started GET "/" for ::1 at 2022-02-18 16:37:43 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.6ms | Allocations: 1780)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.0ms | Allocations: 1583)
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  Rendered books/index.html.erb within layouts/application (Duration: 35.2ms | Allocations: 10732)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.0ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 12518)
Completed 200 OK in 47ms (Views: 35.1ms | ActiveRecord: 6.2ms | Allocations: 14396)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 16:37:56 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 2], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 11:07:56.619054"], ["updated_at", "2022-02-18 11:07:56.619054"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 6.0ms | Allocations: 6877)


Started GET "/" for ::1 at 2022-02-18 16:37:56 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.9ms | Allocations: 1575)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 3.9ms | Allocations: 1583)
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:57
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.5ms | Allocations: 859)
  Rendered books/index.html.erb within layouts/application (Duration: 35.8ms | Allocations: 11381)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.4ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 13166)
Completed 200 OK in 45ms (Views: 35.1ms | ActiveRecord: 5.4ms | Allocations: 15036)


Started GET "/" for ::1 at 2022-02-18 16:38:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.2ms | Allocations: 1783)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.1ms | Allocations: 1583)
  Rendered books/index.html.erb within layouts/application (Duration: 32.8ms | Allocations: 10770)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.5ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 41.5ms | Allocations: 13608)
Completed 200 OK in 50ms (Views: 39.7ms | ActiveRecord: 4.6ms | Allocations: 16262)


Started GET "/" for ::1 at 2022-02-18 16:38:24 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.6ms | Allocations: 1783)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.4ms | Allocations: 1583)
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:58
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.5ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 45.2ms | Allocations: 12820)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.8ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 55.6ms | Allocations: 15658)
Completed 200 OK in 66ms (Views: 52.8ms | ActiveRecord: 6.2ms | Allocations: 18425)


Started GET "/" for ::1 at 2022-02-18 16:38:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.6ms | Allocations: 1783)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.7ms | Allocations: 1583)
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.2ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 12849)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 57.3ms | Allocations: 15687)
Completed 200 OK in 68ms (Views: 54.6ms | ActiveRecord: 7.2ms | Allocations: 18447)


Started GET "/" for ::1 at 2022-02-18 16:38:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 7.4ms | Allocations: 1783)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 7.6ms | Allocations: 1583)
  Rendered books/index.html.erb within layouts/application (Duration: 39.1ms | Allocations: 10873)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.3ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 47.5ms | Allocations: 13711)
Completed 200 OK in 66ms (Views: 46.7ms | ActiveRecord: 6.3ms | Allocations: 16477)


Started GET "/users/sign_out" for ::1 at 2022-02-18 16:38:54 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.4ms | Allocations: 2064)


Started GET "/" for ::1 at 2022-02-18 16:38:54 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 478)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:38:54 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 565)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2074)
  Rendered layouts/_messages.html.erb (Duration: 1.6ms | Allocations: 214)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3112)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms | Allocations: 5101)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:38:58 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 287ms (ActiveRecord: 0.7ms | Allocations: 3026)


Started GET "/" for ::1 at 2022-02-18 16:38:58 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 8091)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1883)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 10578)
Completed 200 OK in 40ms (Views: 30.8ms | ActiveRecord: 4.6ms | Allocations: 13078)


Started GET "/" for ::1 at 2022-02-18 16:39:12 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (2.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 1], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:60
  Rendered books/index.html.erb within layouts/application (Duration: 46819.3ms | Allocations: 61665)
  Rendered layouts/_messages.html.erb (Duration: 2.7ms | Allocations: 210)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 10.7ms | Allocations: 1925)
  Rendered layout layouts/application.html.erb (Duration: 46838.3ms | Allocations: 64773)
Completed 200 OK in 46852ms (Views: 46835.0ms | ActiveRecord: 8.6ms | Allocations: 67543)


Started GET "/" for ::1 at 2022-02-18 16:40:13 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:55
  Rendered books/index.html.erb within layouts/application (Duration: 27.1ms | Allocations: 7808)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.1ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 10793)
Completed 200 OK in 45ms (Views: 34.7ms | ActiveRecord: 4.9ms | Allocations: 13572)


Started GET "/" for ::1 at 2022-02-18 16:40:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:55
  Rendered books/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 7806)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.7ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 10791)
Completed 200 OK in 50ms (Views: 35.6ms | ActiveRecord: 5.2ms | Allocations: 13570)


Started GET "/" for ::1 at 2022-02-18 16:41:17 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 7813)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 10798)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 4.5ms | Allocations: 13571)


Started GET "/" for ::1 at 2022-02-18 16:41:20 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 7816)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 14.7ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 10801)
Completed 200 OK in 64ms (Views: 48.4ms | ActiveRecord: 5.5ms | Allocations: 13555)


Started GET "/" for ::1 at 2022-02-18 16:41:27 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 75.4ms | Allocations: 7812)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.3ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 85.2ms | Allocations: 10800)
Completed 200 OK in 131ms (Views: 96.9ms | ActiveRecord: 4.8ms | Allocations: 13564)


Started GET "/" for ::1 at 2022-02-18 16:41:30 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 7816)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.4ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | Allocations: 10801)
Completed 200 OK in 50ms (Views: 35.5ms | ActiveRecord: 5.8ms | Allocations: 13561)


Started GET "/" for ::1 at 2022-02-18 16:41:36 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 7820)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 10805)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 4.3ms | Allocations: 13570)


Started GET "/" for ::1 at 2022-02-18 16:41:42 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (2.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (1.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (4.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 63.5ms | Allocations: 7808)
  Rendered layouts/_messages.html.erb (Duration: 1.2ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 10.6ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 79.9ms | Allocations: 10793)
Completed 200 OK in 107ms (Views: 74.1ms | ActiveRecord: 14.7ms | Allocations: 13560)


Started GET "/" for ::1 at 2022-02-18 16:41:44 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 24.8ms | Allocations: 7813)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.1ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 10798)
Completed 200 OK in 46ms (Views: 34.7ms | ActiveRecord: 3.7ms | Allocations: 13570)


Started GET "/users" for ::1 at 2022-02-18 16:41:50 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2861)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.8ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 5290)
Completed 200 OK in 25ms (Views: 18.1ms | ActiveRecord: 2.2ms | Allocations: 7900)


Started GET "/authors" for ::1 at 2022-02-18 16:41:51 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2261)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.7ms | Allocations: 1506)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 4290)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 1.5ms | Allocations: 6892)


Started GET "/categories" for ::1 at 2022-02-18 16:41:52 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (1.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2257)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.6ms | Allocations: 1506)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 4286)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 2.6ms | Allocations: 6904)


Started GET "/categories" for ::1 at 2022-02-18 16:42:08 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2213)
  Rendered layouts/_messages.html.erb (Duration: 2.1ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 8.3ms | Allocations: 1883)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 5200)
Completed 200 OK in 31ms (Views: 23.8ms | ActiveRecord: 1.9ms | Allocations: 7831)


Started GET "/authors" for ::1 at 2022-02-18 16:42:11 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2206)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.3ms | Allocations: 1506)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 4235)
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 1.9ms | Allocations: 6642)


Started GET "/authors" for ::1 at 2022-02-18 16:42:34 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2207)
  Rendered layouts/_messages.html.erb (Duration: 1.5ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.5ms | Allocations: 1883)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 5194)
Completed 200 OK in 41ms (Views: 26.2ms | ActiveRecord: 2.5ms | Allocations: 7833)


Started GET "/categories" for ::1 at 2022-02-18 16:42:36 +0530
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/categories/index.html.erb:17:in `each_with_index'
  Rendered categories/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2207)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.3ms | Allocations: 1506)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 4236)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 1.9ms | Allocations: 6643)


Started GET "/authors" for ::1 at 2022-02-18 16:42:37 +0530
Processing by AuthorsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering authors/index.html.erb within layouts/application
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors"[0m
  ↳ app/views/authors/index.html.erb:17:in `each_with_index'
  Rendered authors/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1585)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.2ms | Allocations: 1486)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 3485)
Completed 200 OK in 21ms (Views: 13.8ms | ActiveRecord: 1.8ms | Allocations: 5280)


Started GET "/users" for ::1 at 2022-02-18 16:42:37 +0530
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:10:in `each_with_index'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:14
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2850)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 7.3ms | Allocations: 1877)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 5278)
Completed 200 OK in 28ms (Views: 19.4ms | ActiveRecord: 3.6ms | Allocations: 7623)


Started GET "/" for ::1 at 2022-02-18 16:42:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 7812)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 42)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.2ms | Allocations: 1505)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 9839)
Completed 200 OK in 42ms (Views: 27.9ms | ActiveRecord: 4.4ms | Allocations: 12419)


Started GET "/users/sign_out" for ::1 at 2022-02-18 16:42:43 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 2078)


Started GET "/" for ::1 at 2022-02-18 16:42:43 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 486)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:42:43 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 570)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2079)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 47)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2590)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 4416)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:42:46 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 302ms (ActiveRecord: 0.5ms | Allocations: 3032)


Started GET "/" for ::1 at 2022-02-18 16:42:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.3ms | Allocations: 1781)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.4ms | Allocations: 1583)
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:54
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:58
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.9ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 40.3ms | Allocations: 12428)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.1ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 14214)
Completed 200 OK in 50ms (Views: 39.1ms | ActiveRecord: 7.0ms | Allocations: 16098)


Started GET "/users/sign_out" for ::1 at 2022-02-18 16:42:59 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 1946)


Started GET "/" for ::1 at 2022-02-18 16:42:59 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 474)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:42:59 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 124)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1006)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1406)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 2327)


Started GET "/users/sign_in" for ::1 at 2022-02-18 16:50:06 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.1ms | Allocations: 903)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 6881)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 8053)
Completed 200 OK in 71ms (Views: 45.6ms | ActiveRecord: 4.1ms | Allocations: 21442)


Started POST "/users/sign_in" for ::1 at 2022-02-18 16:50:11 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 305ms (ActiveRecord: 0.8ms | Allocations: 7542)


Started GET "/" for ::1 at 2022-02-18 16:50:11 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 103.3ms | Allocations: 42702)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 48)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 4.5ms | Allocations: 1940)
  Rendered layout layouts/application.html.erb (Duration: 109.5ms | Allocations: 45271)
Completed 200 OK in 143ms (Views: 90.3ms | ActiveRecord: 27.0ms | Allocations: 58180)


Started GET "/" for ::1 at 2022-02-18 16:50:46 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:55
  Rendered books/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 7824)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.5ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 10810)
Completed 200 OK in 47ms (Views: 35.7ms | ActiveRecord: 5.5ms | Allocations: 13614)


Started GET "/" for ::1 at 2022-02-18 16:51:15 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/books/index.html.erb:54
  Rendered books/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 7825)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 209)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.5ms | Allocations: 1882)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 10810)
Completed 200 OK in 49ms (Views: 36.2ms | ActiveRecord: 6.3ms | Allocations: 13591)


Started GET "/users/sign_out" for ::1 at 2022-02-18 17:02:05 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 8.0ms | Allocations: 7932)


Started GET "/" for ::1 at 2022-02-18 17:02:05 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 661)


Started GET "/users/sign_in" for ::1 at 2022-02-18 17:02:05 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 582)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2123)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2637)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 4527)


Started POST "/users/sign_in" for ::1 at 2022-02-18 17:02:11 +0530
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 309ms (ActiveRecord: 0.9ms | Allocations: 3092)


Started GET "/" for ::1 at 2022-02-18 17:02:12 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:29:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 8.7ms | Allocations: 2572)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:33
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:36
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.2ms | Allocations: 1583)
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:54
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:58
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.8ms | Allocations: 1035)
  Rendered books/index.html.erb within layouts/application (Duration: 98.1ms | Allocations: 42762)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 45)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 2.7ms | Allocations: 1458)
  Rendered layout layouts/application.html.erb (Duration: 102.4ms | Allocations: 44731)
Completed 200 OK in 125ms (Views: 92.8ms | ActiveRecord: 11.8ms | Allocations: 54259)


Started GET "/" for ::1 at 2022-02-18 17:02:41 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 8.0ms | Allocations: 1784)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.7ms | Allocations: 1583)
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 3.8ms | Allocations: 853)
  Rendered books/index.html.erb within layouts/application (Duration: 51.0ms | Allocations: 13544)
  Rendered layouts/_messages.html.erb (Duration: 0.9ms | Allocations: 206)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.2ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 62.2ms | Allocations: 16383)
Completed 200 OK in 74ms (Views: 58.5ms | ActiveRecord: 7.7ms | Allocations: 19201)


Started GET "/" for ::1 at 2022-02-18 17:10:34 +0530
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 7.5ms | Allocations: 2583)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.3ms | Allocations: 1583)
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.4ms | Allocations: 1035)
  Rendered books/index.html.erb within layouts/application (Duration: 120.9ms | Allocations: 55330)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 223)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 5.7ms | Allocations: 1861)
  Rendered layout layouts/application.html.erb (Duration: 130.3ms | Allocations: 58387)
Completed 200 OK in 203ms (Views: 110.3ms | ActiveRecord: 31.6ms | Allocations: 88298)


Started POST "/books/1/toggle_favorite" for ::1 at 2022-02-18 17:10:37 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."favoritable_id" = $3 AND "favorites"."favoritable_type" = $4 AND "favorites"."scope" = $5 ORDER BY "favorites"."id" ASC LIMIT $6[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"], ["scope", "favorite"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("favoritable_type", "favoritable_id", "favoritor_type", "favoritor_id", "scope", "blocked", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["favoritable_type", "Book"], ["favoritable_id", 1], ["favoritor_type", "User"], ["favoritor_id", 2], ["scope", "favorite"], ["blocked", false], ["created_at", "2022-02-18 11:40:37.929327"], ["updated_at", "2022-02-18 11:40:37.929327"]]
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:28:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 6.3ms | Allocations: 11069)


Started GET "/" for ::1 at 2022-02-18 17:10:37 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 4.9ms | Allocations: 1576)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.2ms | Allocations: 1585)
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.6ms | Allocations: 633)
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.2ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 12592)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 34)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 14396)
Completed 200 OK in 54ms (Views: 42.6ms | ActiveRecord: 7.4ms | Allocations: 16332)


Started POST "/books/2/toggle_favorite" for ::1 at 2022-02-18 17:10:39 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 2], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 24]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 5.4ms | Allocations: 5481)


Started GET "/" for ::1 at 2022-02-18 17:10:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.3ms | Allocations: 1573)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.3ms | Allocations: 1585)
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  [1m[36mCACHE Author Load (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered books/_book.html.erb (Duration: 2.9ms | Allocations: 633)
  Rendered books/index.html.erb within layouts/application (Duration: 44.0ms | Allocations: 11759)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 3.5ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 13545)
Completed 200 OK in 58ms (Views: 43.3ms | ActiveRecord: 8.1ms | Allocations: 15405)


Started POST "/books/1/toggle_favorite" for ::1 at 2022-02-18 17:10:39 +0530
Processing by BooksController#toggle_favorite as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:22:in `toggle_favorite'
  [1m[36mFavorite Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/controllers/books_controller.rb:24:in `toggle_favorite'
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."favoritor_id" = $1 AND "favorites"."favoritor_type" = $2 AND "favorites"."blocked" = $3 AND "favorites"."scope" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6 ORDER BY "favorites"."id" ASC LIMIT $7[0m  [["favoritor_id", 2], ["favoritor_type", "User"], ["blocked", false], ["scope", "favorite"], ["favoritable_id", 1], ["favoritable_type", "Book"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 25]]
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:25:in `toggle_favorite'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 7.3ms | Allocations: 5176)


Started GET "/" for ::1 at 2022-02-18 17:10:39 +0530
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY updated_at DESC[0m
  ↳ app/views/books/index.html.erb:30:in `each_with_index'
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 2]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 2], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 6.4ms | Allocations: 1573)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:34
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = $1[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:37
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mFavorite Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:1
  [1m[36mCACHE Favorite Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."blocked" = $1 AND "favorites"."scope" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."favoritable_id" = $5 AND "favorites"."favoritable_type" = $6[0m  [["blocked", false], ["scope", "favorite"], ["favoritor_id", 2], ["favoritor_type", "User"], ["favoritable_id", 1], ["favoritable_type", "Book"]]
  ↳ app/views/books/_like_button.html.erb:2
  Rendered books/_like_button.html.erb (Duration: 5.9ms | Allocations: 1583)
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/books/index.html.erb:55
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "books"."id" AS t0_r0, "books"."name" AS t0_r1, "books"."description" AS t0_r2, "books"."publish_at" AS t0_r3, "books"."created_at" AS t0_r4, "books"."updated_at" AS t0_r5, "books"."author_id" AS t0_r6, "favorites"."id" AS t1_r0, "favorites"."favoritable_type" AS t1_r1, "favorites"."favoritable_id" AS t1_r2, "favorites"."favoritor_type" AS t1_r3, "favorites"."favoritor_id" AS t1_r4, "favorites"."scope" AS t1_r5, "favorites"."blocked" AS t1_r6, "favorites"."created_at" AS t1_r7, "favorites"."updated_at" AS t1_r8 FROM "books" LEFT OUTER JOIN "favorites" ON "favorites"."favoritable_type" = $1 AND "favorites"."favoritable_id" = "books"."id" WHERE "favorites"."blocked" = $2 AND "favorites"."favoritor_id" = $3 AND "favorites"."favoritor_type" = $4 AND "favorites"."scope" = $5[0m  [["favoritable_type", "Book"], ["blocked", false], ["favoritor_id", 2], ["favoritor_type", "User"], ["scope", "favorite"]]
  ↳ app/views/books/index.html.erb:59
  Rendered books/index.html.erb within layouts/application (Duration: 39.7ms | Allocations: 11008)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 32)
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  ↳ app/helpers/application_helper.rb:3:in `admin?'
  Rendered layouts/_user_header.html.erb (Duration: 6.7ms | Allocations: 1385)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 12794)
Completed 200 OK in 54ms (Views: 42.5ms | ActiveRecord: 6.6ms | Allocations: 14660)


Started GET "/users/sign_out" for ::1 at 2022-02-18 17:10:41 +0530
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.4ms | Allocations: 4887)


Started GET "/" for ::1 at 2022-02-18 17:10:41 +0530
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms | Allocations: 605)


Started GET "/users/sign_in" for ::1 at 2022-02-18 17:10:41 +0530
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 3.1ms | Allocations: 902)
  Rendered /home/botree/.rvm/gems/ruby-3.0.2@user_dashboard/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 33.3ms | Allocations: 4157)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 47)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 4669)
Completed 200 OK in 43ms (Views: 39.4ms | ActiveRecord: 0.0ms | Allocations: 7043)


